var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s={exports:{}},a={},o={exports:{}},l={},c=Symbol.for("react.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function S(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||w}function k(){}function A(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||w}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=S.prototype;var P=A.prototype=new k;P.constructor=A,N(P,S.prototype),P.isPureReactComponent=!0;var L=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:c,type:e,key:s,ref:a,props:i,_owner:_.current}}function B(e){return"object"==typeof e&&null!==e&&e.$$typeof===c}var R=/\/+/g;function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var a=!1;if(null===e)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case c:case d:a=!0}}if(a)return i=i(a=e),e=""===r?"."+F(a,0):r,L(i)?(n="",null!=e&&(n=e.replace(R,"$&/")+"/"),D(i,t,n,"",function(e){return e})):null!=i&&(B(i)&&(i=function(e,t){return{$$typeof:c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",L(e))for(var o=0;o<e.length;o++){var l=r+F(s=e[o],o);a+=D(s,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),o=0;!(s=e.next()).done;)a+=D(s=s.value,t,n,l=r+F(s,o++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function O(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},z={transition:null},U={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:z,ReactCurrentOwner:_};function q(){throw Error("act(...) is not supported in production builds of React.")}l.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},l.Component=S,l.Fragment=u,l.Profiler=f,l.PureComponent=A,l.StrictMode=h,l.Suspense=x,l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,l.act=q,l.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=N({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)C.call(t,l)&&!E.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:c,type:e.type,key:i,ref:s,props:r,_owner:a}},l.createContext=function(e){return(e={$$typeof:m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},l.createElement=T,l.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},l.createRef=function(){return{current:null}},l.forwardRef=function(e){return{$$typeof:g,render:e}},l.isValidElement=B,l.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:M}},l.memo=function(e,t){return{$$typeof:b,type:e,compare:void 0===t?null:t}},l.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},l.unstable_act=q,l.useCallback=function(e,t){return I.current.useCallback(e,t)},l.useContext=function(e){return I.current.useContext(e)},l.useDebugValue=function(){},l.useDeferredValue=function(e){return I.current.useDeferredValue(e)},l.useEffect=function(e,t){return I.current.useEffect(e,t)},l.useId=function(){return I.current.useId()},l.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},l.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},l.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},l.useMemo=function(e,t){return I.current.useMemo(e,t)},l.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},l.useRef=function(e){return I.current.useRef(e)},l.useState=function(e){return I.current.useState(e)},l.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},l.useTransition=function(){return I.current.useTransition()},l.version="18.3.1",o.exports=l;var V=o.exports;const H=i(V),W=n({__proto__:null,default:H},[V]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var $=V,G=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,J=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,n){var r,i={},s=null,a=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(a=t.ref),t)K.call(t,r)&&!X.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:G,type:e,key:s,ref:a,props:i,_owner:J.current}}a.Fragment=Y,a.jsx=Q,a.jsxs=Q,s.exports=a;var Z=s.exports,ee={exports:{}},te={},ne={exports:{}},re={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<s&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,u=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function v(e){if(m=!1,y(e),!p)if(null!==n(l))p=!0,T(w);else{var t=n(c);null!==t&&B(v,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,x(k),k=-1),f=!0;var s=h;try{for(y(i),u=n(l);null!==u&&(!(u.expirationTime>i)||t&&!L());){var a=u.callback;if("function"==typeof a){u.callback=null,h=u.priorityLevel;var o=a(u.expirationTime<=i);i=e.unstable_now(),"function"==typeof o?u.callback=o:u===n(l)&&r(l),y(i)}else r(l);u=n(l)}if(null!==u)var d=!0;else{var g=n(c);null!==g&&B(v,g.startTime-i),d=!1}return d}finally{u=null,h=s,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,j=!1,S=null,k=-1,A=5,P=-1;function L(){return!(e.unstable_now()-P<A)}function C(){if(null!==S){var t=e.unstable_now();P=t;var n=!0;try{n=S(!0,t)}finally{n?N():(j=!1,S=null)}}else j=!1}if("function"==typeof b)N=function(){b(C)};else if("undefined"!=typeof MessageChannel){var _=new MessageChannel,E=_.port2;_.port1.onmessage=C,N=function(){E.postMessage(null)}}else N=function(){g(C,0)};function T(e){S=e,j||(j=!0,N())}function B(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,T(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var a=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:d++,callback:i,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(x(k),k=-1):m=!0,B(v,s-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,T(w))),r},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(re),ne.exports=re;var ie=ne.exports,se=V,ae=ie;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var le=new Set,ce={};function de(e,t){ue(e,t),ue(e+"Capture",t)}function ue(e,t){for(ce[e]=t,e=0;e<t.length;e++)le.add(t[e])}var he=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),fe=Object.prototype.hasOwnProperty,pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,me={},ge={};function xe(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new xe(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new xe(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new xe(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){be[e]=new xe(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){be[e]=new xe(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){be[e]=new xe(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){be[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ye=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}function we(e,t,n,r){var i=be.hasOwnProperty(t)?be[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!fe.call(ge,e)||!fe.call(me,e)&&(pe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ye,ve);be[t]=new xe(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ye,ve);be[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ye,ve);be[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){be[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)}),be.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){be[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});var Ne=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),Se=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),Le=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),De=Symbol.iterator;function Oe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=De&&e[De]||e["@@iterator"])?e:null}var Me,Ie=Object.assign;function ze(e){if(void 0===Me)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||""}return"\n"+Me+e}var Ue=!1;function qe(e,t){if(!e||Ue)return"";Ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{Ue=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ze(e):""}function Ve(e){switch(e.tag){case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 1:return e=qe(e.type,!0);default:return""}}function He(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ke:return"Fragment";case Se:return"Portal";case Pe:return"Profiler";case Ae:return"StrictMode";case Ee:return"Suspense";case Te:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case Le:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Be:return null!==(t=e.displayName||null)?t:He(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return He(e(t))}catch(n){}}return null}function We(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(t);case 8:return t===Ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ye(e){e._valueTracker||(e._valueTracker=function(e){var t=Ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Je(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Xe(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Qe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ze(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function et(e,t){Ze(e,t);var n=$e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?nt(e,t.type,n):t.hasOwnProperty("defaultValue")&&nt(e,t.type,$e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function tt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function nt(e,t,n){"number"===t&&Je(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rt=Array.isArray;function it(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function st(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(oe(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function at(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(oe(92));if(rt(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$e(n)}}function ot(e,t){var n=$e(t.value),r=$e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function lt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ct(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ct(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ut,ht,ft=(ht=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ht(e,t)})}:ht);function pt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function xt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||mt.hasOwnProperty(e)&&mt[e]?(""+t).trim():t+"px"}function bt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(mt).forEach(function(e){gt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mt[t]=mt[e]})});var yt=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(e,t){if(t){if(yt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(oe(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(oe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(oe(62))}}function wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function jt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var St=null,kt=null,At=null;function Pt(e){if(e=ws(e)){if("function"!=typeof St)throw Error(oe(280));var t=e.stateNode;t&&(t=js(t),St(e.stateNode,e.type,t))}}function Lt(e){kt?At?At.push(e):At=[e]:kt=e}function Ct(){if(kt){var e=kt,t=At;if(At=kt=null,Pt(e),t)for(e=0;e<t.length;e++)Pt(t[e])}}function _t(e,t){return e(t)}function Et(){}var Tt=!1;function Bt(e,t,n){if(Tt)return e(t,n);Tt=!0;try{return _t(e,t,n)}finally{Tt=!1,(null!==kt||null!==At)&&(Et(),Ct())}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=js(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(oe(231,t,typeof n));return n}var Ft=!1;if(he)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ht){Ft=!1}function Ot(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Mt=!1,It=null,zt=!1,Ut=null,qt={onError:function(e){Mt=!0,It=e}};function Vt(e,t,n,r,i,s,a,o,l){Mt=!1,It=null,Ot.apply(qt,arguments)}function Ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Wt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $t(e){if(Ht(e)!==e)throw Error(oe(188))}function Gt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ht(e)))throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $t(i),e;if(s===r)return $t(i),t;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(3!==n.tag)throw Error(oe(188));return n.stateNode.current===n?e:t}(e))?Yt(e):null}function Yt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Yt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=ae.unstable_scheduleCallback,Jt=ae.unstable_cancelCallback,Xt=ae.unstable_shouldYield,Qt=ae.unstable_requestPaint,Zt=ae.unstable_now,en=ae.unstable_getCurrentPriorityLevel,tn=ae.unstable_ImmediatePriority,nn=ae.unstable_UserBlockingPriority,rn=ae.unstable_NormalPriority,sn=ae.unstable_LowPriority,an=ae.unstable_IdlePriority,on=null,ln=null;var cn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(dn(e)/un|0)|0},dn=Math.log,un=Math.LN2;var hn=64,fn=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=pn(o):0!==(s&=a)&&(r=pn(s))}else 0!==(a=n&~i)?r=pn(a):0!==s&&(r=pn(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&4194240&s))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-cn(t)),r|=e[n],t&=~i;return r}function gn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function bn(){var e=hn;return!(4194240&(hn<<=1))&&(hn=64),e}function yn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-cn(t)]=n}function wn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Nn=0;function jn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Sn,kn,An,Pn,Ln,Cn=!1,_n=[],En=null,Tn=null,Bn=null,Rn=new Map,Fn=new Map,Dn=[],On="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mn(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(t.pointerId)}}function In(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=ws(t))&&kn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zn(e){var t=vs(e.target);if(null!==t){var n=Ht(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Wt(n)))return e.blockedOn=t,void Ln(e.priority,function(){An(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Un(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ws(n))&&kn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function qn(e,t,n){Un(e)&&n.delete(t)}function Vn(){Cn=!1,null!==En&&Un(En)&&(En=null),null!==Tn&&Un(Tn)&&(Tn=null),null!==Bn&&Un(Bn)&&(Bn=null),Rn.forEach(qn),Fn.forEach(qn)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Cn||(Cn=!0,ae.unstable_scheduleCallback(ae.unstable_NormalPriority,Vn)))}function Wn(e){function t(t){return Hn(t,e)}if(0<_n.length){Hn(_n[0],e);for(var n=1;n<_n.length;n++){var r=_n[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==En&&Hn(En,e),null!==Tn&&Hn(Tn,e),null!==Bn&&Hn(Bn,e),Rn.forEach(t),Fn.forEach(t),n=0;n<Dn.length;n++)(r=Dn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&null===(n=Dn[0]).blockedOn;)zn(n),null===n.blockedOn&&Dn.shift()}var $n=Ne.ReactCurrentBatchConfig,Gn=!0;function Yn(e,t,n,r){var i=Nn,s=$n.transition;$n.transition=null;try{Nn=1,Jn(e,t,n,r)}finally{Nn=i,$n.transition=s}}function Kn(e,t,n,r){var i=Nn,s=$n.transition;$n.transition=null;try{Nn=4,Jn(e,t,n,r)}finally{Nn=i,$n.transition=s}}function Jn(e,t,n,r){if(Gn){var i=Qn(e,t,n,r);if(null===i)$i(e,t,r,Xn,n),Mn(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return En=In(En,e,t,n,r,i),!0;case"dragenter":return Tn=In(Tn,e,t,n,r,i),!0;case"mouseover":return Bn=In(Bn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rn.set(s,In(Rn.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fn.set(s,In(Fn.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mn(e,r),4&t&&-1<On.indexOf(e)){for(;null!==i;){var s=ws(i);if(null!==s&&Sn(s),null===(s=Qn(e,t,n,r))&&$i(e,t,r,Xn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $i(e,t,r,null,n)}}var Xn=null;function Qn(e,t,n,r){if(Xn=null,null!==(e=vs(e=jt(r))))if(null===(t=Ht(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Wt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xn=e,null}function Zn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(en()){case tn:return 1;case nn:return 4;case rn:case sn:return 16;case an:return 536870912;default:return 16}default:return 16}}var er=null,tr=null,nr=null;function rr(){if(nr)return nr;var e,t,n=tr,r=n.length,i="value"in er?er.value:er.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return nr=i.slice(e,1<t?1-t:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sr(){return!0}function ar(){return!1}function or(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sr:ar,this.isPropagationStopped=ar,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var lr,cr,dr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=or(ur),fr=Ie({},ur,{view:0,detail:0}),pr=or(fr),mr=Ie({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&"mousemove"===e.type?(lr=e.screenX-dr.screenX,cr=e.screenY-dr.screenY):cr=lr=0,dr=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),gr=or(mr),xr=or(Ie({},mr,{dataTransfer:0})),br=or(Ie({},fr,{relatedTarget:0})),yr=or(Ie({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=Ie({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wr=or(vr),Nr=or(Ie({},ur,{data:0})),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Pr(){return Ar}var Lr=Ie({},fr,{key:function(e){if(e.key){var t=jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ir(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?ir(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ir(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=or(Lr),_r=or(Ie({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=or(Ie({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr})),Tr=or(Ie({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Br=Ie({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=or(Br),Fr=[9,13,27,32],Dr=he&&"CompositionEvent"in window,Or=null;he&&"documentMode"in document&&(Or=document.documentMode);var Mr=he&&"TextEvent"in window&&!Or,Ir=he&&(!Dr||Or&&8<Or&&11>=Or),zr=String.fromCharCode(32),Ur=!1;function qr(e,t){switch(e){case"keyup":return-1!==Fr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wr[e.type]:"textarea"===t}function Gr(e,t,n,r){Lt(r),0<(t=Yi(t,"onChange")).length&&(n=new hr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yr=null,Kr=null;function Jr(e){zi(e,0)}function Xr(e){if(Ke(Ns(e)))return e}function Qr(e,t){if("change"===e)return t}var Zr=!1;if(he){var ei;if(he){var ti="oninput"in document;if(!ti){var ni=document.createElement("div");ni.setAttribute("oninput","return;"),ti="function"==typeof ni.oninput}ei=ti}else ei=!1;Zr=ei&&(!document.documentMode||9<document.documentMode)}function ri(){Yr&&(Yr.detachEvent("onpropertychange",ii),Kr=Yr=null)}function ii(e){if("value"===e.propertyName&&Xr(Kr)){var t=[];Gr(t,Kr,e,jt(e)),Bt(Jr,t)}}function si(e,t,n){"focusin"===e?(ri(),Kr=n,(Yr=t).attachEvent("onpropertychange",ii)):"focusout"===e&&ri()}function ai(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr(Kr)}function oi(e,t){if("click"===e)return Xr(t)}function li(e,t){if("input"===e||"change"===e)return Xr(t)}var ci="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function di(e,t){if(ci(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fe.call(t,i)||!ci(e[i],t[i]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,r=ui(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ui(r)}}function fi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pi(){for(var e=window,t=Je();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Je((e=t.contentWindow).document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gi(e){var t=pi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fi(n.ownerDocument.documentElement,n)){if(null!==r&&mi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=hi(n,s);var a=hi(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xi=he&&"documentMode"in document&&11>=document.documentMode,bi=null,yi=null,vi=null,wi=!1;function Ni(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==bi||bi!==Je(r)||("selectionStart"in(r=bi)&&mi(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vi&&di(vi,r)||(vi=r,0<(r=Yi(yi,"onSelect")).length&&(t=new hr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bi)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},ki={},Ai={};function Pi(e){if(ki[e])return ki[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return ki[e]=n[t];return e}he&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Li=Pi("animationend"),Ci=Pi("animationiteration"),_i=Pi("animationstart"),Ei=Pi("transitionend"),Ti=new Map,Bi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Ti.set(e,t),de(t,[e])}for(var Fi=0;Fi<Bi.length;Fi++){var Di=Bi[Fi];Ri(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Ri(Li,"onAnimationEnd"),Ri(Ci,"onAnimationIteration"),Ri(_i,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ei,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),de("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),de("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),de("onBeforeInput",["compositionend","keypress","textInput","paste"]),de("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Ii(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,o,l){if(Vt.apply(this,arguments),Mt){if(!Mt)throw Error(oe(198));var c=It;Mt=!1,It=null,zt||(zt=!0,Ut=c)}}(r,t,void 0,e),e.currentTarget=null}function zi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ii(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ii(i,o,c),s=l}}}if(zt)throw e=Ut,zt=!1,Ut=null,e}function Ui(e,t){var n=t[xs];void 0===n&&(n=t[xs]=new Set);var r=e+"__bubble";n.has(r)||(Wi(t,e,2,!1),n.add(r))}function qi(e,t,n){var r=0;t&&(r|=4),Wi(n,e,r,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Vi]){e[Vi]=!0,le.forEach(function(t){"selectionchange"!==t&&(Mi.has(t)||qi(t,!1,e),qi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,qi("selectionchange",!1,t))}}function Wi(e,t,n,r){switch(Zn(t)){case 1:var i=Yn;break;case 4:i=Kn;break;default:i=Jn}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $i(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vs(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Bt(function(){var r=s,i=jt(n),a=[];e:{var o=Ti.get(e);if(void 0!==o){var l=hr,c=e;switch(e){case"keypress":if(0===ir(n))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=br;break;case"focusout":c="blur",l=br;break;case"beforeblur":case"afterblur":l=br;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Li:case Ci:case _i:l=yr;break;case Ei:l=Tr;break;case"scroll":l=pr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var d=!!(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Rt(p,h))&&d.push(Gi(p,m,f)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[gs])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(u=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=gr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=_r,m="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:Ns(l),f=null==c?o:Ns(c),(o=new d(m,p+"leave",l,n,i)).target=u,o.relatedTarget=f,m=null,vs(i)===r&&((d=new d(h,p+"enter",c,n,i)).target=f,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,p=0,f=d=l;f;f=Ki(f))p++;for(f=0,m=h;m;m=Ki(m))f++;for(;0<p-f;)d=Ki(d),p--;for(;0<f-p;)h=Ki(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ki(d),h=Ki(h)}d=null}else d=null;null!==l&&Ji(a,o,l,d,!1),null!==c&&null!==u&&Ji(a,u,c,d,!0)}if("select"===(l=(o=r?Ns(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qr;else if($r(o))if(Zr)g=li;else{g=ai;var x=si}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=oi);switch(g&&(g=g(e,r))?Gr(a,g,n,i):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&nt(o,"number",o.value)),x=r?Ns(r):window,e){case"focusin":($r(x)||"true"===x.contentEditable)&&(bi=x,yi=r,vi=null);break;case"focusout":vi=yi=bi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Ni(a,n,i);break;case"selectionchange":if(xi)break;case"keydown":case"keyup":Ni(a,n,i)}var b;if(Dr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hr?qr(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ir&&"ko"!==n.locale&&(Hr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hr&&(b=rr()):(tr="value"in(er=i)?er.value:er.textContent,Hr=!0)),0<(x=Yi(r,y)).length&&(y=new Nr(y,e,null,n,i),a.push({event:y,listeners:x}),b?y.data=b:null!==(b=Vr(n))&&(y.data=b))),(b=Mr?function(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return 32!==t.which?null:(Ur=!0,zr);case"textInput":return(e=t.data)===zr&&Ur?null:e;default:return null}}(e,n):function(e,t){if(Hr)return"compositionend"===e||!Dr&&qr(e,t)?(e=rr(),nr=tr=er=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yi(r,"onBeforeInput")).length&&(i=new Nr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}zi(a,t)})}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Rt(e,n))&&r.unshift(Gi(e,s,i)),null!=(s=Rt(e,t))&&r.push(Gi(e,s,i))),e=e.return}return r}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ji(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Rt(n,s))&&a.unshift(Gi(n,l,o)):i||null!=(l=Rt(n,s))&&a.push(Gi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Zi(e){return("string"==typeof e?e:""+e).replace(Xi,"\n").replace(Qi,"")}function es(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(oe(425))}function ts(){}var ns=null,rs=null;function is(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ss="function"==typeof setTimeout?setTimeout:void 0,as="function"==typeof clearTimeout?clearTimeout:void 0,os="function"==typeof Promise?Promise:void 0,ls="function"==typeof queueMicrotask?queueMicrotask:void 0!==os?function(e){return os.resolve(null).then(e).catch(cs)}:ss;function cs(e){setTimeout(function(){throw e})}function ds(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wn(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),ps="__reactFiber$"+fs,ms="__reactProps$"+fs,gs="__reactContainer$"+fs,xs="__reactEvents$"+fs,bs="__reactListeners$"+fs,ys="__reactHandles$"+fs;function vs(e){var t=e[ps];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gs]||n[ps]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hs(e);null!==e;){if(n=e[ps])return n;e=hs(e)}return t}n=(e=n).parentNode}return null}function ws(e){return!(e=e[ps]||e[gs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ns(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(oe(33))}function js(e){return e[ms]||null}var Ss=[],ks=-1;function As(e){return{current:e}}function Ps(e){0>ks||(e.current=Ss[ks],Ss[ks]=null,ks--)}function Ls(e,t){ks++,Ss[ks]=e.current,e.current=t}var Cs={},_s=As(Cs),Es=As(!1),Ts=Cs;function Bs(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rs(e){return null!=(e=e.childContextTypes)}function Fs(){Ps(Es),Ps(_s)}function Ds(e,t,n){if(_s.current!==Cs)throw Error(oe(168));Ls(_s,t),Ls(Es,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(oe(108,We(e)||"Unknown",i));return Ie({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ts=_s.current,Ls(_s,e),Ls(Es,Es.current),!0}function Is(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=Os(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,Ps(Es),Ps(_s),Ls(_s,e)):Ps(Es),Ls(Es,n)}var zs=null,Us=!1,qs=!1;function Vs(e){null===zs?zs=[e]:zs.push(e)}function Hs(){if(!qs&&null!==zs){qs=!0;var e=0,t=Nn;try{var n=zs;for(Nn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zs=null,Us=!1}catch(iw){throw null!==zs&&(zs=zs.slice(e+1)),Kt(tn,Hs),iw}finally{Nn=t,qs=!1}}return null}var Ws=[],$s=0,Gs=null,Ys=0,Ks=[],Js=0,Xs=null,Qs=1,Zs="";function ea(e,t){Ws[$s++]=Ys,Ws[$s++]=Gs,Gs=e,Ys=t}function ta(e,t,n){Ks[Js++]=Qs,Ks[Js++]=Zs,Ks[Js++]=Xs,Xs=e;var r=Qs;e=Zs;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qs=1<<32-cn(t)+i|n<<i|r,Zs=s+e}else Qs=1<<s|n<<i|r,Zs=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Gs;)Gs=Ws[--$s],Ws[$s]=null,Ys=Ws[--$s],Ws[$s]=null;for(;e===Xs;)Xs=Ks[--Js],Ks[Js]=null,Zs=Ks[--Js],Ks[Js]=null,Qs=Ks[--Js],Ks[Js]=null}var ia=null,sa=null,aa=!1,oa=null;function la(e,t){var n=Bd(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ia=e,sa=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ia=e,sa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xs?{id:Qs,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bd(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ia=e,sa=null,!0);default:return!1}}function da(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(aa){var t=sa;if(t){var n=t;if(!ca(e,t)){if(da(e))throw Error(oe(418));t=us(n.nextSibling);var r=ia;t&&ca(e,t)?la(r,n):(e.flags=-4097&e.flags|2,aa=!1,ia=e)}}else{if(da(e))throw Error(oe(418));e.flags=-4097&e.flags|2,aa=!1,ia=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ia=e}function fa(e){if(e!==ia)return!1;if(!aa)return ha(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!is(e.type,e.memoizedProps)),t&&(t=sa)){if(da(e))throw pa(),Error(oe(418));for(;t;)la(e,t),t=us(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){sa=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}sa=null}}else sa=ia?us(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=sa;e;)e=us(e.nextSibling)}function ma(){sa=ia=null,aa=!1}function ga(e){null===oa?oa=[e]:oa.push(e)}var xa=Ne.ReactCurrentBatchConfig;function ba(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fd(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Id(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===ke?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===Re&&va(s)===t.type)?((r=i(t,n.props)).ref=ba(e,t,n),r.return=e,r):((r=Dd(n.type,n.key,n.props,null,e.mode,r)).ref=ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zd(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Od(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Id(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case je:return(n=Dd(t.type,t.key,t.props,null,e.mode,n)).ref=ba(e,null,t),n.return=e,n;case Se:return(t=zd(t,e.mode,n)).return=e,t;case Re:return u(e,(0,t._init)(t._payload),n)}if(rt(t)||Oe(t))return(t=Od(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case je:return n.key===i?l(e,t,n,r):null;case Se:return n.key===i?c(e,t,n,r):null;case Re:return h(e,t,(i=n._init)(n._payload),r)}if(rt(n)||Oe(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case je:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Se:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Re:return f(e,t,n,(0,r._init)(r._payload),i)}if(rt(r)||Oe(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}return function o(l,c,d,p){if("object"==typeof d&&null!==d&&d.type===ke&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case je:e:{for(var m=d.key,g=c;null!==g;){if(g.key===m){if((m=d.type)===ke){if(7===g.tag){n(l,g.sibling),(c=i(g,d.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===Re&&va(m)===g.type){n(l,g.sibling),(c=i(g,d.props)).ref=ba(l,g,d),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}d.type===ke?((c=Od(d.props.children,l.mode,p,d.key)).return=l,l=c):((p=Dd(d.type,d.key,d.props,null,l.mode,p)).ref=ba(l,c,d),p.return=l,l=p)}return a(l);case Se:e:{for(g=d.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(c=i(c,d.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=zd(d,l.mode,p)).return=l,l=c}return a(l);case Re:return o(l,c,(g=d._init)(d._payload),p)}if(rt(d))return function(i,a,o,l){for(var c=null,d=null,p=a,m=a=0,g=null;null!==p&&m<o.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var x=h(i,p,o[m],l);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(i,p),a=s(x,a,m),null===d?c=x:d.sibling=x,d=x,p=g}if(m===o.length)return n(i,p),aa&&ea(i,m),c;if(null===p){for(;m<o.length;m++)null!==(p=u(i,o[m],l))&&(a=s(p,a,m),null===d?c=p:d.sibling=p,d=p);return aa&&ea(i,m),c}for(p=r(i,p);m<o.length;m++)null!==(g=f(p,i,m,o[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=s(g,a,m),null===d?c=g:d.sibling=g,d=g);return e&&p.forEach(function(e){return t(i,e)}),aa&&ea(i,m),c}(l,c,d,p);if(Oe(d))return function(i,a,o,l){var c=Oe(o);if("function"!=typeof c)throw Error(oe(150));if(null==(o=c.call(o)))throw Error(oe(151));for(var d=c=null,p=a,m=a=0,g=null,x=o.next();null!==p&&!x.done;m++,x=o.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=h(i,p,x.value,l);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=s(b,a,m),null===d?c=b:d.sibling=b,d=b,p=g}if(x.done)return n(i,p),aa&&ea(i,m),c;if(null===p){for(;!x.done;m++,x=o.next())null!==(x=u(i,x.value,l))&&(a=s(x,a,m),null===d?c=x:d.sibling=x,d=x);return aa&&ea(i,m),c}for(p=r(i,p);!x.done;m++,x=o.next())null!==(x=f(p,i,m,x.value,l))&&(e&&null!==x.alternate&&p.delete(null===x.key?m:x.key),a=s(x,a,m),null===d?c=x:d.sibling=x,d=x);return e&&p.forEach(function(e){return t(i,e)}),aa&&ea(i,m),c}(l,c,d,p);ya(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(c=i(c,d)).return=l,l=c):(n(l,c),(c=Id(d,l.mode,p)).return=l,l=c),a(l)):n(l,c)}}var Na=wa(!0),ja=wa(!1),Sa=As(null),ka=null,Aa=null,Pa=null;function La(){Pa=Aa=ka=null}function Ca(e){var t=Sa.current;Ps(Sa),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ka=e,Pa=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wl=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Pa!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===ka)throw Error(oe(308));Aa=e,ka.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Ba=null;function Ra(e){null===Ba?Ba=[e]:Ba.push(e)}function Fa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&_c){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return null===(i=r.interleaved)?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function qa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wn(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;Oa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=i.baseState;for(a=0,d=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){u=p.call(f,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,u,h):p))break e;u=Ie({},u,h);break e;case 2:Oa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Mc|=a,e.lanes=a,e.memoizedState=u}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(oe(191,i));i.call(r)}}}var $a={},Ga=As($a),Ya=As($a),Ka=As($a);function Ja(e){if(e===$a)throw Error(oe(174));return e}function Xa(e,t){switch(Ls(Ka,t),Ls(Ya,e),Ls(Ga,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dt(null,"");break;default:t=dt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ps(Ga),Ls(Ga,t)}function Qa(){Ps(Ga),Ps(Ya),Ps(Ka)}function Za(e){Ja(Ka.current);var t=Ja(Ga.current),n=dt(t,e.type);t!==n&&(Ls(Ya,e),Ls(Ga,n))}function eo(e){Ya.current===e&&(Ps(Ga),Ps(Ya))}var to=As(0);function no(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=[];function io(){for(var e=0;e<ro.length;e++)ro[e]._workInProgressVersionPrimary=null;ro.length=0}var so=Ne.ReactCurrentDispatcher,ao=Ne.ReactCurrentBatchConfig,oo=0,lo=null,co=null,uo=null,ho=!1,fo=!1,po=0,mo=0;function go(){throw Error(oe(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ci(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,s){if(oo=s,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?tl:nl,e=n(r,i),fo){s=0;do{if(fo=!1,po=0,25<=s)throw Error(oe(301));s+=1,uo=co=null,t.updateQueue=null,so.current=rl,e=n(r,i)}while(fo)}if(so.current=el,t=null!==co&&null!==co.next,oo=0,uo=co=lo=null,ho=!1,t)throw Error(oe(300));return e}function yo(){var e=0!==po;return po=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?lo.memoizedState=uo=e:uo=uo.next=e,uo}function wo(){if(null===co){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=co.next;var t=null===uo?lo.memoizedState:uo.next;if(null!==t)uo=t,co=e;else{if(null===e)throw Error(oe(310));e={memoizedState:(co=e).memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},null===uo?lo.memoizedState=uo=e:uo=uo.next=e}return uo}function No(e,t){return"function"==typeof t?t(e):t}function jo(e){var t=wo(),n=t.queue;if(null===n)throw Error(oe(311));n.lastRenderedReducer=e;var r=co,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((oo&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=u,a=r):l=l.next=u,lo.lanes|=d,Mc|=d}c=c.next}while(null!==c&&c!==s);null===l?a=r:l.next=o,ci(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,lo.lanes|=s,Mc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=wo(),n=t.queue;if(null===n)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ci(s,t.memoizedState)||(wl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ko(){}function Ao(e,t){var n=lo,r=wo(),i=t(),s=!ci(r.memoizedState,i);if(s&&(r.memoizedState=i,wl=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Bo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Ec)throw Error(oe(349));30&oo||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&Eo(e)}function Co(e,t,n){return n(function(){_o(t)&&Eo(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ci(e,n)}catch(r){return!0}}function Eo(e){var t=Da(e,1);null!==t&&id(t,e,1,-1)}function To(e){var t=vo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return wo().memoizedState}function Fo(e,t,n,r){var i=vo();lo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==co){var a=co.memoizedState;if(s=a.destroy,null!==r&&xo(r,a.deps))return void(i.memoizedState=Bo(t,n,s,r))}lo.flags|=e,i.memoizedState=Bo(1|t,n,s,r)}function Oo(e,t){return Fo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Io(e,t){return Do(4,2,e,t)}function zo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!=n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function Vo(){}function Ho(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 21&oo?(ci(n,t)||(n=bn(),lo.lanes|=n,Mc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n)}function Go(e,t){var n=Nn;Nn=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{Nn=n,ao.transition=r}}function Yo(){return wo().memoizedState}function Ko(e,t,n){var r=rd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Qo(t,n);else if(null!==(n=Fa(e,t,n,r))){id(n,e,r,nd()),Zo(n,t,r)}}function Jo(e,t,n){var r=rd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ci(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ra(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Fa(e,t,i,r))&&(id(n,e,r,i=nd()),Zo(n,t,r))}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Qo(e,t){fo=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wn(e,n)}}var el={readContext:Ta,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},tl={readContext:Ta,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:To,useDebugValue:Vo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=Go.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=vo();if(aa){if(void 0===n)throw Error(oe(407));n=n()}else{if(n=t(),null===Ec)throw Error(oe(349));30&oo||Po(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Oo(Co.bind(null,r,s,e),[e]),r.flags|=2048,Bo(9,Lo.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vo(),t=Ec.identifierPrefix;if(aa){var n=Zs;t=":"+t+"R"+(n=(Qs&~(1<<32-cn(Qs)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nl={readContext:Ta,useCallback:Ho,useContext:Ta,useEffect:Mo,useImperativeHandle:qo,useInsertionEffect:Io,useLayoutEffect:zo,useMemo:Wo,useReducer:jo,useRef:Ro,useState:function(){return jo(No)},useDebugValue:Vo,useDeferredValue:function(e){return $o(wo(),co.memoizedState,e)},useTransition:function(){return[jo(No)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Ao,useId:Yo,unstable_isNewReconciler:!1},rl={readContext:Ta,useCallback:Ho,useContext:Ta,useEffect:Mo,useImperativeHandle:qo,useInsertionEffect:Io,useLayoutEffect:zo,useMemo:Wo,useReducer:So,useRef:Ro,useState:function(){return So(No)},useDebugValue:Vo,useDeferredValue:function(e){var t=wo();return null===co?t.memoizedState=e:$o(t,co.memoizedState,e)},useTransition:function(){return[So(No)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Ao,useId:Yo,unstable_isNewReconciler:!1};function il(e,t){if(e&&e.defaultProps){for(var n in t=Ie({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function sl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Ie({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&Ht(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nd(),i=rd(e),s=za(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=Ua(e,s,i))&&(id(t,e,i,r),qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nd(),i=rd(e),s=za(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=Ua(e,s,i))&&(id(t,e,i,r),qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nd(),r=rd(e),i=za(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ua(e,i,r))&&(id(t,e,r,n),qa(t,e,r))}};function ol(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!di(n,r)||!di(i,s))}function ll(e,t,n){var r=!1,i=Cs,s=t.contextType;return"object"==typeof s&&null!==s?s=Ta(s):(i=Rs(t)?Ts:_s.current,s=(r=null!=(r=t.contextTypes))?Bs(e,i):Cs),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function cl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function dl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ma(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Ta(s):(s=Rs(t)?Ts:_s.current,i.context=Bs(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(sl(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&al.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do{n+=Ve(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function hl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pl="function"==typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$c||($c=!0,Gc=r),fl(0,t)},n}function gl(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fl(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){fl(0,t),"function"!=typeof r&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pd.bind(null,e,t,n),t.then(e,e))}function bl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e)}var vl=Ne.ReactCurrentOwner,wl=!1;function Nl(e,t,n,r){t.child=null===e?ja(t,null,n,r):Na(t,e.child,n,r)}function jl(e,t,n,r,i){n=n.render;var s=t.ref;return Ea(t,i),r=bo(e,t,n,r,s,i),n=yo(),null===e||wl?(aa&&n&&na(t),t.flags|=1,Nl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i))}function Sl(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Rd(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dd(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,kl(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:di)(a,r)&&e.ref===t.ref)return $l(e,t,i)}return t.flags|=1,(e=Fd(s,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(di(s,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$l(e,t,i);131072&e.flags&&(wl=!0)}}return Ll(e,t,n,r,i)}function Al(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ls(Fc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ls(Fc,Rc),Rc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ls(Fc,Rc),Rc|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ls(Fc,Rc),Rc|=r;return Nl(e,t,i,n),t.child}function Pl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,r,i){var s=Rs(n)?Ts:_s.current;return s=Bs(t,s),Ea(t,i),n=bo(e,t,n,r,s,i),r=yo(),null===e||wl?(aa&&r&&na(t),t.flags|=1,Nl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i))}function Cl(e,t,n,r,i){if(Rs(n)){var s=!0;Ms(t)}else s=!1;if(Ea(t,i),null===t.stateNode)Wl(e,t),ll(t,n,r),dl(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ta(c):c=Bs(t,c=Rs(n)?Ts:_s.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==c)&&cl(t,a,r,c),Oa=!1;var h=t.memoizedState;a.state=h,Ha(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Es.current||Oa?("function"==typeof d&&(sl(t,n,d,r),l=t.memoizedState),(o=Oa||ol(t,n,o,r,h,l,c))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ia(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:il(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Bs(t,l=Rs(n)?Ts:_s.current);var f=n.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==u||h!==l)&&cl(t,a,r,l),Oa=!1,h=t.memoizedState,a.state=h,Ha(t,r,a,i);var p=t.memoizedState;o!==u||h!==p||Es.current||Oa?("function"==typeof f&&(sl(t,n,f,r),p=t.memoizedState),(c=Oa||ol(t,n,c,r,h,p,l)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _l(e,t,n,r,s,i)}function _l(e,t,n,r,i,s){Pl(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Is(t,n,!1),$l(e,t,s);r=t.stateNode,vl.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Na(t,e.child,null,s),t.child=Na(t,null,o,s)):Nl(e,t,o,s),t.memoizedState=r.state,i&&Is(t,n,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Xa(e,t.containerInfo)}function Tl(e,t,n,r,i){return ma(),ga(i),t.flags|=256,Nl(e,t,n,r),t.child}var Bl,Rl,Fl,Dl,Ol={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Il(e,t,n){var r,i=t.pendingProps,s=to.current,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ls(to,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},1&i||null===a?a=Md(o,i,0,null):(a.childLanes=0,a.pendingProps=o),e=Od(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ml(n),t.memoizedState=Ol,e):zl(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ul(e,t,a,r=hl(Error(oe(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Md({mode:"visible",children:r.children},i,0,null),(s=Od(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&Na(t,e.child,null,a),t.child.memoizedState=Ml(a),t.memoizedState=Ol,s);if(!(1&t.mode))return Ul(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,Ul(e,t,a,r=hl(s=Error(oe(419)),r,void 0))}if(o=0!==(a&e.childLanes),wl||o){if(null!==(r=Ec)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Da(e,i),id(r,e,i,-1))}return xd(),Ul(e,t,a,r=hl(Error(oe(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cd.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,sa=us(i.nextSibling),ia=t,aa=!0,oa=null,null!==e&&(Ks[Js++]=Qs,Ks[Js++]=Zs,Ks[Js++]=Xs,Qs=e.id,Zs=e.overflow,Xs=t),t=zl(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,s,n);if(a){a=i.fallback,o=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&o||t.child===s?(i=Fd(s,l)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?a=Fd(r,a):(a=Od(a,o,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=null===(o=e.child.memoizedState)?Ml(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Ol,i}return e=(a=e.child).sibling,i=Fd(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zl(e,t){return(t=Md({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ul(e,t,n,r){return null!==r&&ga(r),Na(t,e.child,null,n),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ql(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Vl(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Hl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Nl(e,t,r.children,n),2&(r=to.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ql(e,n,t);else if(19===e.tag)ql(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ls(to,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===no(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===no(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vl(t,!0,n,null,s);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Wl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $l(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(oe(153));if(null!==t.child){for(n=Fd(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fd(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return Rs(t.type)&&Fs(),Yl(t),null;case 3:return r=t.stateNode,Qa(),Ps(Es),Ps(_s),io(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oa&&(ld(oa),oa=null))),Rl(e,t),Yl(t),null;case 5:eo(t);var i=Ja(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Fl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(oe(166));return Yl(t),null}if(e=Ja(Ga.current),fa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ps]=t,r[ms]=s,e=!!(1&t.mode),n){case"dialog":Ui("cancel",r),Ui("close",r);break;case"iframe":case"object":case"embed":Ui("load",r);break;case"video":case"audio":for(i=0;i<Oi.length;i++)Ui(Oi[i],r);break;case"source":Ui("error",r);break;case"img":case"image":case"link":Ui("error",r),Ui("load",r);break;case"details":Ui("toggle",r);break;case"input":Qe(r,s),Ui("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ui("invalid",r);break;case"textarea":at(r,s),Ui("invalid",r)}for(var a in vt(n,s),i=null,s)if(s.hasOwnProperty(a)){var o=s[a];"children"===a?"string"==typeof o?r.textContent!==o&&(!0!==s.suppressHydrationWarning&&es(r.textContent,o,e),i=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&es(r.textContent,o,e),i=["children",""+o]):ce.hasOwnProperty(a)&&null!=o&&"onScroll"===a&&Ui("scroll",r)}switch(n){case"input":Ye(r),tt(r,s,!0);break;case"textarea":Ye(r),lt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=ts)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ct(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ps]=t,e[ms]=r,Bl(e,t,!1,!1),t.stateNode=e;e:{switch(a=wt(n,r),n){case"dialog":Ui("cancel",e),Ui("close",e),i=r;break;case"iframe":case"object":case"embed":Ui("load",e),i=r;break;case"video":case"audio":for(i=0;i<Oi.length;i++)Ui(Oi[i],e);i=r;break;case"source":Ui("error",e),i=r;break;case"img":case"image":case"link":Ui("error",e),Ui("load",e),i=r;break;case"details":Ui("toggle",e),i=r;break;case"input":Qe(e,r),i=Xe(e,r),Ui("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),Ui("invalid",e);break;case"textarea":at(e,r),i=st(e,r),Ui("invalid",e)}for(s in vt(n,i),o=i)if(o.hasOwnProperty(s)){var l=o[s];"style"===s?bt(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&ft(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&pt(e,l):"number"==typeof l&&pt(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(ce.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ui("scroll",e):null!=l&&we(e,s,l,a))}switch(n){case"input":Ye(e),tt(e,r,!1);break;case"textarea":Ye(e),lt(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$e(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?it(e,!!r.multiple,s,!1):null!=r.defaultValue&&it(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)Dl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(oe(166));if(n=Ja(Ka.current),Ja(Ga.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ps]=t,(s=r.nodeValue!==n)&&null!==(e=ia))switch(e.tag){case 3:es(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&es(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ps]=t,t.stateNode=r}return Yl(t),null;case 13:if(Ps(to),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==sa&&1&t.mode&&!(128&t.flags))pa(),ma(),t.flags|=98560,s=!1;else if(s=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(oe(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(oe(317));s[ps]=t}else ma(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),s=!1}else null!==oa&&(ld(oa),oa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&to.current?0===Dc&&(Dc=3):xd())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return Qa(),Rl(e,t),null===e&&Hi(t.stateNode.containerInfo),Yl(t),null;case 10:return Ca(t.type._context),Yl(t),null;case 19:if(Ps(to),null===(s=t.memoizedState))return Yl(t),null;if(r=!!(128&t.flags),null===(a=s.rendering))if(r)Gl(s,!1);else{if(0!==Dc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=no(e))){for(t.flags|=128,Gl(s,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(a=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ls(to,1&to.current|2),t.child}e=e.sibling}null!==s.tail&&Zt()>Hc&&(t.flags|=128,r=!0,Gl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=no(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!aa)return Yl(t),null}else 2*Zt()-s.renderingStartTime>Hc&&1073741824!==n&&(t.flags|=128,r=!0,Gl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=s.last)?n.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Zt(),t.sibling=null,n=to.current,Ls(to,r?1&n|2:1&n),t):(Yl(t),null);case 22:case 23:return fd(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Rc)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(oe(156,t.tag))}function Jl(e,t){switch(ra(t),t.tag){case 1:return Rs(t.type)&&Fs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ps(Es),Ps(_s),io(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return eo(t),null;case 13:if(Ps(to),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(oe(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ps(to),null;case 4:return Qa(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return fd(),null;default:return null}}Bl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rl=function(){},Fl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ga.current);var s,a=null;switch(n){case"input":i=Xe(e,i),r=Xe(e,r),a=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),a=[];break;case"textarea":i=st(e,i),r=st(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=ts)}for(c in vt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ce.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ce.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ui("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Dl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xl=!1,Ql=!1,Zl="function"==typeof WeakSet?WeakSet:Set,ec=null;function tc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Ad(e,t,r)}else n.current=null}function nc(e,t,n){try{n()}catch(r){Ad(e,t,r)}}var rc=!1;function ic(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&nc(t,n,s)}i=i.next}while(i!==r)}}function sc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ac(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ps],delete t[ms],delete t[xs],delete t[bs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ts));else if(4!==r&&null!==(e=e.child))for(dc(e,t,n),e=e.sibling;null!==e;)dc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,fc=!1;function pc(e,t,n){for(n=n.child;null!==n;)mc(e,t,n),n=n.sibling}function mc(e,t,n){if(ln&&"function"==typeof ln.onCommitFiberUnmount)try{ln.onCommitFiberUnmount(on,n)}catch(o){}switch(n.tag){case 5:Ql||tc(n,t);case 6:var r=hc,i=fc;hc=null,pc(e,t,n),fc=i,null!==(hc=r)&&(fc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(fc?(e=hc,n=n.stateNode,8===e.nodeType?ds(e.parentNode,n):1===e.nodeType&&ds(e,n),Wn(e)):ds(hc,n.stateNode));break;case 4:r=hc,i=fc,hc=n.stateNode.containerInfo,fc=!0,pc(e,t,n),hc=r,fc=i;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(2&s||4&s)&&nc(n,t,a),i=i.next}while(i!==r)}pc(e,t,n);break;case 1:if(!Ql&&(tc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ad(n,t,o)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:1&n.mode?(Ql=(r=Ql)||null!==n.memoizedState,pc(e,t,n),Ql=r):pc(e,t,n);break;default:pc(e,t,n)}}function gc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zl),t.forEach(function(t){var r=_d.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function xc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;null!==o;){switch(o.tag){case 5:hc=o.stateNode,fc=!1;break e;case 3:case 4:hc=o.stateNode.containerInfo,fc=!0;break e}o=o.return}if(null===hc)throw Error(oe(160));mc(s,a,i),hc=null,fc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Ad(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bc(t,e),t=t.sibling}function bc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xc(t,e),yc(e),4&r){try{ic(3,e,e.return),sc(3,e)}catch(rw){Ad(e,e.return,rw)}try{ic(5,e,e.return)}catch(rw){Ad(e,e.return,rw)}}break;case 1:xc(t,e),yc(e),512&r&&null!==n&&tc(n,n.return);break;case 5:if(xc(t,e),yc(e),512&r&&null!==n&&tc(n,n.return),32&e.flags){var i=e.stateNode;try{pt(i,"")}catch(rw){Ad(e,e.return,rw)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&Ze(i,s),wt(o,a);var c=wt(o,s);for(a=0;a<l.length;a+=2){var d=l[a],u=l[a+1];"style"===d?bt(i,u):"dangerouslySetInnerHTML"===d?ft(i,u):"children"===d?pt(i,u):we(i,d,u,c)}switch(o){case"input":et(i,s);break;case"textarea":ot(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?it(i,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?it(i,!!s.multiple,s.defaultValue,!0):it(i,!!s.multiple,s.multiple?[]:"",!1))}i[ms]=s}catch(rw){Ad(e,e.return,rw)}}break;case 6:if(xc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(oe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(rw){Ad(e,e.return,rw)}}break;case 3:if(xc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(rw){Ad(e,e.return,rw)}break;case 4:default:xc(t,e),yc(e);break;case 13:xc(t,e),yc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vc=Zt())),4&r&&gc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ql=(c=Ql)||d,xc(t,e),Ql=c):xc(t,e),yc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(ec=e,d=e.child;null!==d;){for(u=ec=d;null!==ec;){switch(f=(h=ec).child,h.tag){case 0:case 11:case 14:case 15:ic(4,h,h.return);break;case 1:tc(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(rw){Ad(r,n,rw)}}break;case 5:tc(h,h.return);break;case 22:if(null!==h.memoizedState){jc(u);continue}}null!==f?(f.return=h,ec=f):jc(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{i=u.stateNode,c?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=u.stateNode,a=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=xt("display",a))}catch(rw){Ad(e,e.return,rw)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(rw){Ad(e,e.return,rw)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:xc(t,e),yc(e),4&r&&gc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lc(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pt(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;dc(e,cc(e),s);break;default:throw Error(oe(161))}}catch(a){Ad(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){ec=e,wc(e)}function wc(e,t,n){for(var r=!!(1&e.mode);null!==ec;){var i=ec,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xl;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Ql;o=Xl;var c=Ql;if(Xl=a,(Ql=l)&&!c)for(ec=i;null!==ec;)l=(a=ec).child,22===a.tag&&null!==a.memoizedState?Sc(i):null!==l?(l.return=a,ec=l):Sc(i);for(;null!==s;)ec=s,wc(s),s=s.sibling;ec=i,Xl=o,Ql=c}Nc(e)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,ec=s):Nc(e)}}function Nc(e){for(;null!==ec;){var t=ec;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ql||sc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ql)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:il(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,a,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&Wn(u)}}}break;default:throw Error(oe(163))}Ql||512&t.flags&&ac(t)}catch(h){Ad(t,t.return,h)}}if(t===e){ec=null;break}if(null!==(n=t.sibling)){n.return=t.return,ec=n;break}ec=t.return}}function jc(e){for(;null!==ec;){var t=ec;if(t===e){ec=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ec=n;break}ec=t.return}}function Sc(e){for(;null!==ec;){var t=ec;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sc(4,t)}catch(l){Ad(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ad(t,i,l)}}var s=t.return;try{ac(t)}catch(l){Ad(t,s,l)}break;case 5:var a=t.return;try{ac(t)}catch(l){Ad(t,a,l)}}}catch(l){Ad(t,t.return,l)}if(t===e){ec=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ec=o;break}ec=t.return}}var kc,Ac=Math.ceil,Pc=Ne.ReactCurrentDispatcher,Lc=Ne.ReactCurrentOwner,Cc=Ne.ReactCurrentBatchConfig,_c=0,Ec=null,Tc=null,Bc=0,Rc=0,Fc=As(0),Dc=0,Oc=null,Mc=0,Ic=0,zc=0,Uc=null,qc=null,Vc=0,Hc=1/0,Wc=null,$c=!1,Gc=null,Yc=null,Kc=!1,Jc=null,Xc=0,Qc=0,Zc=null,ed=-1,td=0;function nd(){return 6&_c?Zt():-1!==ed?ed:ed=Zt()}function rd(e){return 1&e.mode?2&_c&&0!==Bc?Bc&-Bc:null!==xa.transition?(0===td&&(td=bn()),td):0!==(e=Nn)?e:e=void 0===(e=window.event)?16:Zn(e.type):1}function id(e,t,n,r){if(50<Qc)throw Qc=0,Zc=null,Error(oe(185));vn(e,n,r),2&_c&&e===Ec||(e===Ec&&(!(2&_c)&&(Ic|=n),4===Dc&&cd(e,Bc)),sd(e,r),1===n&&0===_c&&!(1&t.mode)&&(Hc=Zt()+500,Us&&Hs()))}function sd(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-cn(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=gn(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=mn(e,e===Ec?Bc:0);if(0===r)null!==n&&Jt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Jt(n),1===t)0===e.tag?function(e){Us=!0,Vs(e)}(dd.bind(null,e)):Vs(dd.bind(null,e)),ls(function(){!(6&_c)&&Hs()}),n=null;else{switch(jn(r)){case 1:n=tn;break;case 4:n=nn;break;case 16:default:n=rn;break;case 536870912:n=an}n=Ed(n,ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ad(e,t){if(ed=-1,td=0,6&_c)throw Error(oe(327));var n=e.callbackNode;if(Sd()&&e.callbackNode!==n)return null;var r=mn(e,e===Ec?Bc:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=bd(e,r);else{t=r;var i=_c;_c|=2;var s=gd();for(Ec===e&&Bc===t||(Wc=null,Hc=Zt()+500,pd(e,t));;)try{vd();break}catch(o){md(e,o)}La(),Pc.current=s,_c=i,null!==Tc?t=0:(Ec=null,Bc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=xn(e))&&(r=i,t=od(e,i))),1===t)throw n=Oc,pd(e,0),cd(e,r),sd(e,Zt()),n;if(6===t)cd(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ci(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=bd(e,r),2===t&&(s=xn(e),0!==s&&(r=s,t=od(e,s))),1!==t)))throw n=Oc,pd(e,0),cd(e,r),sd(e,Zt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:case 5:jd(e,qc,Wc);break;case 3:if(cd(e,r),(130023424&r)===r&&10<(t=Vc+500-Zt())){if(0!==mn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nd(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ss(jd.bind(null,e,qc,Wc),t);break}jd(e,qc,Wc);break;case 4:if(cd(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-cn(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Zt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ac(r/1960))-r)){e.timeoutHandle=ss(jd.bind(null,e,qc,Wc),r);break}jd(e,qc,Wc);break;default:throw Error(oe(329))}}}return sd(e,Zt()),e.callbackNode===n?ad.bind(null,e):null}function od(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(pd(e,t).flags|=256),2!==(e=bd(e,t))&&(t=qc,qc=n,null!==t&&ld(t)),e}function ld(e){null===qc?qc=e:qc.push.apply(qc,e)}function cd(e,t){for(t&=~zc,t&=~Ic,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),r=1<<n;e[n]=-1,t&=~r}}function dd(e){if(6&_c)throw Error(oe(327));Sd();var t=mn(e,0);if(!(1&t))return sd(e,Zt()),null;var n=bd(e,t);if(0!==e.tag&&2===n){var r=xn(e);0!==r&&(t=r,n=od(e,r))}if(1===n)throw n=Oc,pd(e,0),cd(e,t),sd(e,Zt()),n;if(6===n)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jd(e,qc,Wc),sd(e,Zt()),null}function ud(e,t){var n=_c;_c|=1;try{return e(t)}finally{0===(_c=n)&&(Hc=Zt()+500,Us&&Hs())}}function hd(e){null!==Jc&&0===Jc.tag&&!(6&_c)&&Sd();var t=_c;_c|=1;var n=Cc.transition,r=Nn;try{if(Cc.transition=null,Nn=1,e)return e()}finally{Nn=r,Cc.transition=n,!(6&(_c=t))&&Hs()}}function fd(){Rc=Fc.current,Ps(Fc)}function pd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,as(n)),null!==Tc)for(n=Tc.return;null!==n;){var r=n;switch(ra(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Fs();break;case 3:Qa(),Ps(Es),Ps(_s),io();break;case 5:eo(r);break;case 4:Qa();break;case 13:case 19:Ps(to);break;case 10:Ca(r.type._context);break;case 22:case 23:fd()}n=n.return}if(Ec=e,Tc=e=Fd(e.current,null),Bc=Rc=t,Dc=0,Oc=null,zc=Ic=Mc=0,qc=Uc=null,null!==Ba){for(t=0;t<Ba.length;t++)if(null!==(r=(n=Ba[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ba=null}return e}function md(e,t){for(;;){var n=Tc;try{if(La(),so.current=el,ho){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ho=!1}if(oo=0,uo=co=lo=null,fo=!1,po=0,Lc.current=null,null===n||null===n.return){Dc=1,Oc=t,Tc=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Bc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,d=o,u=d.tag;if(!(1&d.mode||0!==u&&11!==u&&15!==u)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=bl(a);if(null!==f){f.flags&=-257,yl(f,a,o,0,t),1&f.mode&&xl(s,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){xl(s,c,t),xd();break e}l=Error(oe(426))}else if(aa&&1&o.mode){var g=bl(a);if(null!==g){!(65536&g.flags)&&(g.flags|=256),yl(g,a,o,0,t),ga(ul(l,o));break e}}s=l=ul(l,o),4!==Dc&&(Dc=2),null===Uc?Uc=[s]:Uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Va(s,ml(0,l,t));break e;case 1:o=l;var x=s.type,b=s.stateNode;if(!(128&s.flags||"function"!=typeof x.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Yc&&Yc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Va(s,gl(s,o,t));break e}}s=s.return}while(null!==s)}Nd(n)}catch(y){t=y,Tc===n&&null!==n&&(Tc=n=n.return);continue}break}}function gd(){var e=Pc.current;return Pc.current=el,null===e?el:e}function xd(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Ec||!(268435455&Mc)&&!(268435455&Ic)||cd(Ec,Bc)}function bd(e,t){var n=_c;_c|=2;var r=gd();for(Ec===e&&Bc===t||(Wc=null,pd(e,t));;)try{yd();break}catch(iw){md(e,iw)}if(La(),_c=n,Pc.current=r,null!==Tc)throw Error(oe(261));return Ec=null,Bc=0,Dc}function yd(){for(;null!==Tc;)wd(Tc)}function vd(){for(;null!==Tc&&!Xt();)wd(Tc)}function wd(e){var t=kc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?Nd(e):Tc=t,Lc.current=null}function Nd(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Jl(n,t)))return n.flags&=32767,void(Tc=n);if(null===e)return Dc=6,void(Tc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Kl(n,t,Rc)))return void(Tc=n);if(null!==(t=t.sibling))return void(Tc=t);Tc=t=e}while(null!==t);0===Dc&&(Dc=5)}function jd(e,t,n){var r=Nn,i=Cc.transition;try{Cc.transition=null,Nn=1,function(e,t,n,r){do{Sd()}while(null!==Jc);if(6&_c)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===Ec&&(Tc=Ec=null,Bc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kc||(Kc=!0,Ed(rn,function(){return Sd(),null})),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=Cc.transition,Cc.transition=null;var a=Nn;Nn=1;var o=_c;_c|=4,Lc.current=null,function(e,t){if(ns=Gn,mi(e=pi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(v){n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var f;u!==n||0!==i&&3!==u.nodeType||(o=a+i),u!==s||0!==r&&3!==u.nodeType||(l=a+r),3===u.nodeType&&(a+=u.nodeValue.length),null!==(f=u.firstChild);)h=u,u=f;for(;;){if(u===e)break t;if(h===n&&++c===i&&(o=a),h===s&&++d===r&&(l=a),null!==(f=u.nextSibling))break;h=(u=h).parentNode}u=f}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rs={focusedElem:e,selectionRange:n},Gn=!1,ec=t;null!==ec;)if(e=(t=ec).child,1028&t.subtreeFlags&&null!==e)e.return=t,ec=e;else for(;null!==ec;){t=ec;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:il(t.type,m),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(oe(163))}}catch(v){Ad(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,ec=e;break}ec=t.return}p=rc,rc=!1}(e,n),bc(n,e),gi(rs),Gn=!!ns,rs=ns=null,e.current=n,vc(n),Qt(),_c=o,Nn=a,Cc.transition=s}else e.current=n;if(Kc&&(Kc=!1,Jc=e,Xc=i),s=e.pendingLanes,0===s&&(Yc=null),function(e){if(ln&&"function"==typeof ln.onCommitFiberRoot)try{ln.onCommitFiberRoot(on,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),sd(e,Zt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($c)throw $c=!1,e=Gc,Gc=null,e;!!(1&Xc)&&0!==e.tag&&Sd(),s=e.pendingLanes,1&s?e===Zc?Qc++:(Qc=0,Zc=e):Qc=0,Hs()}(e,t,n,r)}finally{Cc.transition=i,Nn=r}return null}function Sd(){if(null!==Jc){var e=jn(Xc),t=Cc.transition,n=Nn;try{if(Cc.transition=null,Nn=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,Xc=0,6&_c)throw Error(oe(331));var i=_c;for(_c|=4,ec=e.current;null!==ec;){var s=ec,a=s.child;if(16&ec.flags){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(ec=c;null!==ec;){var d=ec;switch(d.tag){case 0:case 11:case 15:ic(8,d,s)}var u=d.child;if(null!==u)u.return=d,ec=u;else for(;null!==ec;){var h=(d=ec).sibling,f=d.return;if(oc(d),d===c){ec=null;break}if(null!==h){h.return=f,ec=h;break}ec=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ec=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,ec=a;else e:for(;null!==ec;){if(2048&(s=ec).flags)switch(s.tag){case 0:case 11:case 15:ic(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,ec=x;break e}ec=s.return}}var b=e.current;for(ec=b;null!==ec;){var y=(a=ec).child;if(2064&a.subtreeFlags&&null!==y)y.return=a,ec=y;else e:for(a=b;null!==ec;){if(2048&(o=ec).flags)try{switch(o.tag){case 0:case 11:case 15:sc(9,o)}}catch(w){Ad(o,o.return,w)}if(o===a){ec=null;break e}var v=o.sibling;if(null!==v){v.return=o.return,ec=v;break e}ec=o.return}}if(_c=i,Hs(),ln&&"function"==typeof ln.onPostCommitFiberRoot)try{ln.onPostCommitFiberRoot(on,e)}catch(w){}r=!0}return r}finally{Nn=n,Cc.transition=t}}return!1}function kd(e,t,n){e=Ua(e,t=ml(0,t=ul(n,t),1),1),t=nd(),null!==e&&(vn(e,1,t),sd(e,t))}function Ad(e,t,n){if(3===e.tag)kd(e,e,n);else for(;null!==t;){if(3===t.tag){kd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Yc||!Yc.has(r))){t=Ua(t,e=gl(t,e=ul(n,e),1),1),e=nd(),null!==t&&(vn(t,1,e),sd(t,e));break}}t=t.return}}function Pd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nd(),e.pingedLanes|=e.suspendedLanes&n,Ec===e&&(Bc&n)===n&&(4===Dc||3===Dc&&(130023424&Bc)===Bc&&500>Zt()-Vc?pd(e,0):zc|=n),sd(e,t)}function Ld(e,t){0===t&&(1&e.mode?(t=fn,!(130023424&(fn<<=1))&&(fn=4194304)):t=1);var n=nd();null!==(e=Da(e,t))&&(vn(e,t,n),sd(e,n))}function Cd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ld(e,n)}function _d(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}null!==r&&r.delete(t),Ld(e,n)}function Ed(e,t){return Kt(e,t)}function Td(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bd(e,t,n,r){return new Td(e,t,n,r)}function Rd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fd(e,t){var n=e.alternate;return null===n?((n=Bd(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dd(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Rd(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ke:return Od(n.children,i,s,t);case Ae:a=8,i|=8;break;case Pe:return(e=Bd(12,n,t,2|i)).elementType=Pe,e.lanes=s,e;case Ee:return(e=Bd(13,n,t,i)).elementType=Ee,e.lanes=s,e;case Te:return(e=Bd(19,n,t,i)).elementType=Te,e.lanes=s,e;case Fe:return Md(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Le:a=10;break e;case Ce:a=9;break e;case _e:a=11;break e;case Be:a=14;break e;case Re:a=16,r=null;break e}throw Error(oe(130,null==e?e:typeof e,""))}return(t=Bd(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Od(e,t,n,r){return(e=Bd(7,e,r,t)).lanes=n,e}function Md(e,t,n,r){return(e=Bd(22,e,r,t)).elementType=Fe,e.lanes=n,e.stateNode={isHidden:!1},e}function Id(e,t,n){return(e=Bd(6,e,null,t)).lanes=n,e}function zd(e,t,n){return(t=Bd(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ud(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yn(0),this.expirationTimes=yn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qd(e,t,n,r,i,s,a,o,l){return e=new Ud(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Bd(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(s),e}function Vd(e){if(!e)return Cs;e:{if(Ht(e=e._reactInternals)!==e||1!==e.tag)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(oe(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Os(e,n,t)}return t}function Hd(e,t,n,r,i,s,a,o,l){return(e=qd(n,r,!0,e,0,s,0,o,l)).context=Vd(null),n=e.current,(s=za(r=nd(),i=rd(n))).callback=null!=t?t:null,Ua(n,s,i),e.current.lanes=i,vn(e,i,r),sd(e,r),e}function Wd(e,t,n,r){var i=t.current,s=nd(),a=rd(i);return n=Vd(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(i,t,a))&&(id(e,i,a,s),qa(e,i,a)),a}function $d(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yd(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}kc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Es.current)wl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:El(t),ma();break;case 5:Za(t);break;case 1:Rs(t.type)&&Ms(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ls(Sa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ls(to,1&to.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Il(e,t,n):(Ls(to,1&to.current),null!==(e=$l(e,t,n))?e.sibling:null);Ls(to,1&to.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Hl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ls(to,to.current),r)break;return null;case 22:case 23:return t.lanes=0,Al(e,t,n)}return $l(e,t,n)}(e,t,n);wl=!!(131072&e.flags)}else wl=!1,aa&&1048576&t.flags&&ta(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var i=Bs(t,_s.current);Ea(t,n),i=bo(null,t,r,e,i,n);var s=yo();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(s=!0,Ms(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=al,t.stateNode=i,i._reactInternals=t,dl(t,r,e,n),t=_l(null,t,r,!0,s,n)):(t.tag=0,aa&&s&&na(t),Nl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Rd(e)?1:0;if(null!=e){if((e=e.$$typeof)===_e)return 11;if(e===Be)return 14}return 2}(r),e=il(r,e),i){case 0:t=Ll(null,t,r,e,n);break e;case 1:t=Cl(null,t,r,e,n);break e;case 11:t=jl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,il(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ll(e,t,r,i=t.elementType===r?i:il(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cl(e,t,r,i=t.elementType===r?i:il(r,i),n);case 3:e:{if(El(t),null===e)throw Error(oe(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ia(e,t),Ha(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Tl(e,t,r,n,i=ul(Error(oe(423)),t));break e}if(r!==i){t=Tl(e,t,r,n,i=ul(Error(oe(424)),t));break e}for(sa=us(t.stateNode.containerInfo.firstChild),ia=t,aa=!0,oa=null,n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===i){t=$l(e,t,n);break e}Nl(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ua(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,is(r,i)?a=null:null!==s&&is(r,s)&&(t.flags|=32),Pl(e,t),Nl(e,t,a,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Il(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Na(t,null,r,n):Nl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jl(e,t,r,i=t.elementType===r?i:il(r,i),n);case 7:return Nl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Nl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ls(Sa,r._currentValue),r._currentValue=a,null!==s)if(ci(s.value,a)){if(s.children===i.children&&!Es.current){t=$l(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=za(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_a(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(oe(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),_a(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Nl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ta(i)),t.flags|=1,Nl(e,t,r,n),t.child;case 14:return i=il(r=t.type,t.pendingProps),Sl(e,t,r,i=il(r.type,i),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:il(r,i),Wl(e,t),t.tag=1,Rs(r)?(e=!0,Ms(t)):e=!1,Ea(t,n),ll(t,r,i),dl(t,r,i,n),_l(null,t,r,!0,e,n);case 19:return Hl(e,t,n);case 22:return Al(e,t,n)}throw Error(oe(156,t.tag))};var Kd="function"==typeof reportError?reportError:function(e){console.error(e)};function Jd(e){this._internalRoot=e}function Xd(e){this._internalRoot=e}function Qd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=$d(a);o.call(e)}}Wd(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=$d(a);s.call(e)}}var a=Hd(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[gs]=a.current,Hi(8===e.nodeType?e.parentNode:e),hd(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=$d(l);o.call(e)}}var l=qd(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[gs]=l.current,Hi(8===e.nodeType?e.parentNode:e),hd(function(){Wd(t,l,n,r)}),l}(n,t,e,i,r);return $d(a)}Xd.prototype.render=Jd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(oe(409));Wd(e,t,null,null)},Xd.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hd(function(){Wd(null,e,null,null)}),t[gs]=null}},Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&0!==t&&t<Dn[n].priority;n++);Dn.splice(n,0,e),0===n&&zn(e)}},Sn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pn(t.pendingLanes);0!==n&&(wn(t,1|n),sd(t,Zt()),!(6&_c)&&(Hc=Zt()+500,Hs()))}break;case 13:hd(function(){var t=Da(e,1);if(null!==t){var n=nd();id(t,e,1,n)}}),Yd(e,1)}},kn=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)id(t,e,134217728,nd());Yd(e,134217728)}},An=function(e){if(13===e.tag){var t=rd(e),n=Da(e,t);if(null!==n)id(n,e,t,nd());Yd(e,t)}},Pn=function(){return Nn},Ln=function(e,t){var n=Nn;try{return Nn=e,t()}finally{Nn=n}},St=function(e,t,n){switch(t){case"input":if(et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=js(r);if(!i)throw Error(oe(90));Ke(r),et(r,i)}}}break;case"textarea":ot(e,n);break;case"select":null!=(t=n.value)&&it(e,!!n.multiple,t,!1)}},_t=ud,Et=hd;var nu={usingClientEntryPoint:!1,Events:[ws,Ns,js,Lt,Ct,ud]},ru={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Gt(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{on=su.inject(iu),ln=su}catch(ht){}}te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,te.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qd(t))throw Error(oe(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Se,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},te.createRoot=function(e,t){if(!Qd(e))throw Error(oe(299));var n=!1,r="",i=Kd;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=qd(e,1,!1,null,0,n,0,r,i),e[gs]=t.current,Hi(8===e.nodeType?e.parentNode:e),new Jd(t)},te.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(oe(188));throw e=Object.keys(e).join(","),Error(oe(268,e))}return e=null===(e=Gt(t))?null:e.stateNode},te.flushSync=function(e){return hd(e)},te.hydrate=function(e,t,n){if(!Zd(t))throw Error(oe(200));return tu(null,e,t,!0,n)},te.hydrateRoot=function(e,t,n){if(!Qd(e))throw Error(oe(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kd;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hd(t,null,e,1,null!=n?n:null,i,0,s,a),e[gs]=t.current,Hi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xd(t)},te.render=function(e,t,n){if(!Zd(t))throw Error(oe(200));return tu(null,e,t,!1,n)},te.unmountComponentAtNode=function(e){if(!Zd(e))throw Error(oe(40));return!!e._reactRootContainer&&(hd(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0)},te.unstable_batchedUpdates=ud,te.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zd(n))throw Error(oe(200));if(null==e||void 0===e._reactInternals)throw Error(oe(38));return tu(e,t,n,!1,r)},te.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),ee.exports=te;var au=ee.exports;const ou=n({__proto__:null,default:i(au)},[au]);var lu,cu,du,uu=au;
/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(this,arguments)}lu=uu.createRoot,uu.hydrateRoot,(du=cu||(cu={})).Pop="POP",du.Push="PUSH",du.Replace="REPLACE";const fu="popstate";function pu(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=cu.Pop,l=null,c=d();null==c&&(c=0,a.replaceState(hu({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function u(){o=cu.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e,t){o=cu.Push;let n=bu(m.location,e,t);c=d()+1;let r=xu(n,c),u=m.createHref(n);try{a.pushState(r,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}s&&l&&l({action:o,location:m.location,delta:1})}function f(e,t){o=cu.Replace;let n=bu(m.location,e,t);c=d();let r=xu(n,c),i=m.createHref(n);a.replaceState(r,"",i),s&&l&&l({action:o,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:yu(e);return n=n.replace(/ $/,"%20"),mu(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fu,u),l=e,()=>{i.removeEventListener(fu,u),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return bu("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:yu(t)},0,e)}function mu(e,t){if(!1===e||null==e)throw new Error(t)}function gu(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(iw){}}}function xu(e,t){return{usr:e.state,key:e.key,idx:t}}function bu(e,t,n,r){return void 0===n&&(n=null),hu({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?vu(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function yu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function vu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var wu,Nu;(Nu=wu||(wu={})).data="data",Nu.deferred="deferred",Nu.redirect="redirect",Nu.error="error";const ju=new Set(["lazy","caseSensitive","path","id","index","children"]);function Su(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((e,i)=>{let s=[...n,String(i)],a="string"==typeof e.id?e.id:s.join("-");if(mu(!0!==e.index||!e.children,"Cannot specify children on an index route"),mu(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=hu({},e,t(e),{id:a});return r[a]=n,n}{let n=hu({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=Su(e.children,t,s,r)),n}})}function ku(e,t,n){return void 0===n&&(n="/"),Au(e,t,n,!1)}function Au(e,t,n,r){let i=zu(("string"==typeof t?vu(t):t).pathname||"/",n);if(null==i)return null;let s=Pu(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=Iu(i);a=Ou(s[o],e,r)}return a}function Pu(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(mu(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=Yu([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(mu(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Pu(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Du(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Lu(e.path))i(e,t,r);else i(e,t)}),t}function Lu(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=Lu(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const Cu=/^:[\w-]+$/,_u=3,Eu=2,Tu=1,Bu=10,Ru=-2,Fu=e=>"*"===e;function Du(e,t){let n=e.split("/"),r=n.length;return n.some(Fu)&&(r+=Ru),t&&(r+=Eu),n.filter(e=>!Fu(e)).reduce((e,t)=>e+(Cu.test(t)?_u:""===t?Tu:Bu),r)}function Ou(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=Mu({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Mu({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Yu([s,d.pathname]),pathnameBase:Ku(Yu([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=Yu([s,d.pathnameBase]))}return a}function Mu(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);gu("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function Iu(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return gu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function zu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const Uu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function qu(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:s=""}="string"==typeof e?vu(e):e;if(r)if(a=r,Uu.test(a))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),gu(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?Vu(r.substring(1),"/"):Vu(r,t)}else n=t;var a;return{pathname:n,search:Ju(i),hash:Xu(s)}}function Vu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Hu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Wu(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $u(e,t){let n=Wu(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Gu(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=vu(e):(i=hu({},e),mu(!i.pathname||!i.pathname.includes("?"),Hu("?","pathname","search",i)),mu(!i.pathname||!i.pathname.includes("#"),Hu("#","pathname","hash",i)),mu(!i.search||!i.search.includes("#"),Hu("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=qu(i,s),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const Yu=e=>e.join("/").replace(/\/\/+/g,"/"),Ku=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ju=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Xu=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Qu{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Zu(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const eh=["post","put","patch","delete"],th=new Set(eh),nh=["get",...eh],rh=new Set(nh),ih=new Set([301,302,303,307,308]),sh=new Set([307,308]),ah={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oh={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ch=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dh=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),uh="remix-router-transitions";function hh(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,r=!n;let i;if(mu(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=dh;let s,a,o,l={},c=Su(e.routes,i,void 0,l),d=e.basename||"/",u=e.dataStrategy||Nh,h=e.patchRoutesOnNavigation,f=hu({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),p=null,m=new Set,g=null,x=null,b=null,y=null!=e.hydrationData,v=ku(c,e.history.location,d),w=!1,N=null;if(null==v&&!h){let t=Rh(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Bh(c);v=n,N={[r.id]:t}}if(v&&!e.hydrationData){pe(v,c,e.history.location.pathname).active&&(v=null)}if(v)if(v.some(e=>e.route.lazy))a=!1;else if(v.some(e=>e.route.loader))if(f.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=v.findIndex(e=>void 0!==n[e.route.id]);a=v.slice(0,e+1).every(e=>!xh(e.route,t,n))}else a=v.every(e=>!xh(e.route,t,n))}else a=null!=e.hydrationData;else a=!0;else if(a=!1,v=[],f.v7_partialHydration){let t=pe(null,c,e.history.location.pathname);t.active&&t.matches&&(w=!0,v=t.matches)}let j,S,k={historyAction:e.history.action,location:e.history.location,matches:v,initialized:a,navigation:ah,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},A=cu.Pop,P=!1,L=!1,C=new Map,_=null,E=!1,T=!1,B=[],R=new Set,F=new Map,D=0,O=-1,M=new Map,I=new Set,z=new Map,U=new Map,q=new Set,V=new Map,H=new Map;function W(e,t){void 0===t&&(t={}),k=hu({},k,e);let n=[],r=[];f.v7_fetcherPersist&&k.fetchers.forEach((e,t)=>{"idle"===e.state&&(q.has(t)?r.push(t):n.push(t))}),q.forEach(e=>{k.fetchers.has(e)||F.has(e)||r.push(e)}),[...m].forEach(e=>e(k,{deletedFetchers:r,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),f.v7_fetcherPersist?(n.forEach(e=>k.fetchers.delete(e)),r.forEach(e=>ne(e))):r.forEach(e=>q.delete(e))}function $(t,n,r){var i,a;let o,{flushSync:l}=void 0===r?{}:r,d=null!=k.actionData&&null!=k.navigation.formMethod&&Vh(k.navigation.formMethod)&&"loading"===k.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);o=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?k.actionData:null;let u=n.loaderData?_h(k.loaderData,n.loaderData,n.matches||[],n.errors):k.loaderData,h=k.blockers;h.size>0&&(h=new Map(h),h.forEach((e,t)=>h.set(t,lh)));let f,p=!0===P||null!=k.navigation.formMethod&&Vh(k.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(s&&(c=s,s=void 0),E||A===cu.Pop||(A===cu.Push?e.history.push(t,t.state):A===cu.Replace&&e.history.replace(t,t.state)),A===cu.Pop){let e=C.get(k.location.pathname);e&&e.has(t.pathname)?f={currentLocation:k.location,nextLocation:t}:C.has(t.pathname)&&(f={currentLocation:t,nextLocation:k.location})}else if(L){let e=C.get(k.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),C.set(k.location.pathname,e)),f={currentLocation:k.location,nextLocation:t}}W(hu({},n,{actionData:o,loaderData:u,historyAction:A,location:t,initialized:!0,navigation:ah,revalidation:"idle",restoreScrollPosition:fe(t,n.matches||k.matches),preventScrollReset:p,blockers:h}),{viewTransitionOpts:f,flushSync:!0===l}),A=cu.Pop,P=!1,L=!1,E=!1,T=!1,B=[]}async function G(t,n,r){j&&j.abort(),j=null,A=t,E=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(g&&b){let n=he(e,t);g[n]=b()}}(k.location,k.matches),P=!0===(r&&r.preventScrollReset),L=!0===(r&&r.enableViewTransition);let i=s||c,a=r&&r.overrideNavigation,o=null!=r&&r.initialHydration&&k.matches&&k.matches.length>0&&!w?k.matches:ku(i,n,d),l=!0===(r&&r.flushSync);if(o&&k.initialized&&!T&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(k.location,n)&&!(r&&r.submission&&Vh(r.submission.formMethod)))return void $(n,{matches:o},{flushSync:l});let u=pe(o,i,n.pathname);if(u.active&&u.matches&&(o=u.matches),!o){let{error:e,notFoundMatches:t,route:r}=de(n.pathname);return void $(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:l})}j=new AbortController;let h,p=Ah(e.history,n,j.signal,r&&r.submission);if(r&&r.pendingError)h=[Th(o).route.id,{type:wu.error,error:r.pendingError}];else if(r&&r.submission&&Vh(r.submission.formMethod)){let t=await async function(e,t,n,r,i,s){void 0===s&&(s={});Q();let a,o=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(W({navigation:o},{flushSync:!0===s.flushSync}),i){let n=await me(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=Th(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:wu.error,error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=de(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:wu.error,error:n}]}}r=n.matches}let l=Yh(r,t);if(l.route.action||l.route.lazy){if(a=(await J("action",k,e,[l],r,null))[l.route.id],e.signal.aborted)return{shortCircuited:!0}}else a={type:wu.error,error:Rh(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(zh(a)){let t;if(s&&null!=s.replace)t=s.replace;else{t=kh(a.response.headers.get("Location"),new URL(e.url),d)===k.location.pathname+k.location.search}return await K(e,a,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(Mh(a))throw Rh(400,{type:"defer-action"});if(Ih(a)){let e=Th(r,l.route.id);return!0!==(s&&s.replace)&&(A=cu.Push),{matches:r,pendingActionResult:[e.route.id,a]}}return{matches:r,pendingActionResult:[l.route.id,a]}}(p,n,r.submission,o,u.active,{replace:r.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Ih(r)&&Zu(r.error)&&404===r.error.status)return j=null,void $(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}o=t.matches||o,h=t.pendingActionResult,a=Jh(n,r.submission),l=!1,u.active=!1,p=Ah(e.history,p.url,p.signal)}let{shortCircuited:m,matches:x,loaderData:y,errors:v}=await async function(t,n,r,i,a,o,l,u,h,p,m){let g=a||Jh(n,o),x=o||l||Kh(g),b=!(E||f.v7_partialHydration&&h);if(i){if(b){let e=Y(m);W(hu({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:p})}let e=await me(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=Th(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=de(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let y=s||c,[v,w]=gh(e.history,k,r,x,n,f.v7_partialHydration&&!0===h,f.v7_skipActionErrorRevalidation,T,B,R,q,z,I,y,d,m);if(ue(e=>!(r&&r.some(t=>t.route.id===e))||v&&v.some(t=>t.route.id===e)),O=++D,0===v.length&&0===w.length){let e=se();return $(n,hu({matches:r,loaderData:{},errors:m&&Ih(m[1])?{[m[0]]:m[1].error}:null},Eh(m),e?{fetchers:new Map(k.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(b){let e={};if(!i){e.navigation=g;let t=Y(m);void 0!==t&&(e.actionData=t)}w.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=k.fetchers.get(e.key),n=Xh(void 0,t?t.data:void 0);k.fetchers.set(e.key,n)}),new Map(k.fetchers)}(w)),W(e,{flushSync:p})}w.forEach(e=>{re(e.key),e.controller&&F.set(e.key,e.controller)});let N=()=>w.forEach(e=>re(e.key));j&&j.signal.addEventListener("abort",N);let{loaderResults:S,fetcherResults:A}=await X(k,r,v,w,t);if(t.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",N);w.forEach(e=>F.delete(e.key));let P=Fh(S);if(P)return await K(t,P.result,!0,{replace:u}),{shortCircuited:!0};if(P=Fh(A),P)return I.add(P.key),await K(t,P.result,!0,{replace:u}),{shortCircuited:!0};let{loaderData:L,errors:C}=Ch(k,r,S,m,w,A,V);V.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&V.delete(t)})}),f.v7_partialHydration&&h&&k.errors&&(C=hu({},k.errors,C));let _=se(),M=ae(O),U=_||M||w.length>0;return hu({matches:r,loaderData:L,errors:C},U?{fetchers:new Map(k.fetchers)}:{})}(p,n,o,u.active,a,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,l,h);m||(j=null,$(n,hu({matches:x||o},Eh(h),{loaderData:y,errors:v})))}function Y(e){return e&&!Ih(e[1])?{[e[0]]:e[1].data}:k.actionData?0===Object.keys(k.actionData).length?null:k.actionData:void 0}async function K(r,i,s,a){let{submission:o,fetcherSubmission:l,preventScrollReset:c,replace:u}=void 0===a?{}:a;i.response.headers.has("X-Remix-Revalidate")&&(T=!0);let h=i.response.headers.get("Location");mu(h,"Expected a Location header on the redirect Response"),h=kh(h,new URL(r.url),d);let f=bu(k.location,h,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ch.test(h)){const r=e.history.createURL(h);n=r.origin!==t.location.origin||null==zu(r.pathname,d)}if(n)return void(u?t.location.replace(h):t.location.assign(h))}j=null;let p=!0===u||i.response.headers.has("X-Remix-Replace")?cu.Replace:cu.Push,{formMethod:m,formAction:g,formEncType:x}=k.navigation;!o&&!l&&m&&g&&x&&(o=Kh(k.navigation));let b=o||l;if(sh.has(i.response.status)&&b&&Vh(b.formMethod))await G(p,f,{submission:hu({},b,{formAction:h}),preventScrollReset:c||P,enableViewTransition:s?L:void 0});else{let e=Jh(f,o);await G(p,f,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:c||P,enableViewTransition:s?L:void 0})}}async function J(e,t,n,r,s,a){let o,c={};try{o=await async function(e,t,n,r,i,s,a,o,l,c){let d=s.map(e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];mu(i,"No route found in manifest");let s={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;gu(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||ju.has(a)||(s[a]=r[a])}Object.assign(i,s),Object.assign(i,hu({},t(i),{lazy:void 0}))}(e.route,l,o):void 0),u=s.map((e,n)=>{let s=d[n],a=i.some(t=>t.route.id===e.route.id),o=async n=>(n&&"GET"===r.method&&(e.route.lazy||e.route.loader)&&(a=!0),a?async function(e,t,n,r,i,s){let a,o,l=r=>{let a,l=new Promise((e,t)=>a=t);o=()=>a(),t.signal.addEventListener("abort",o);let c=i=>"function"!=typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:s},...void 0!==i?[i]:[]),d=(async()=>{try{return{type:"data",result:await(i?i(e=>c(e)):c())}}catch(iw){return{type:"error",result:iw}}})();return Promise.race([d,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch(t=>{e=t}),r]);if(void 0!==e)throw e;a=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Rh(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:wu.data,result:void 0}}a=await l(i)}else{if(!i){let e=new URL(t.url);throw Rh(404,{pathname:e.pathname+e.search})}a=await l(i)}mu(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(iw){return{type:wu.error,result:iw}}finally{o&&t.signal.removeEventListener("abort",o)}return a}(t,r,e,s,n,c):Promise.resolve({type:wu.data,result:void 0}));return hu({},e,{shouldLoad:a,resolve:o})}),h=await e({matches:u,request:r,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(d)}catch(iw){}return h}(u,e,0,n,r,s,a,l,i)}catch(iw){return r.forEach(t=>{c[t.route.id]={type:wu.error,error:iw}}),c}for(let[i,l]of Object.entries(o))if(Oh(l)){let e=l.result;c[i]={type:wu.redirect,response:Sh(e,n,i,s,d,f.v7_relativeSplatPath)}}else c[i]=await jh(l);return c}async function X(t,n,r,i,s){let a=t.matches,o=J("loader",0,s,r,n,null),l=Promise.all(i.map(async t=>{if(t.matches&&t.match&&t.controller){let n=(await J("loader",0,Ah(e.history,t.path,t.controller.signal),[t.match],t.matches,t.key))[t.match.route.id];return{[t.key]:n}}return Promise.resolve({[t.key]:{type:wu.error,error:Rh(404,{pathname:t.path})}})})),c=await o,d=(await l).reduce((e,t)=>Object.assign(e,t),{});return await Promise.all([Hh(n,c,s.signal,a,t.loaderData),Wh(n,d,i)]),{loaderResults:c,fetcherResults:d}}function Q(){T=!0,B.push(...ue()),z.forEach((e,t)=>{F.has(t)&&R.add(t),re(t)})}function Z(e,t,n){void 0===n&&(n={}),k.fetchers.set(e,t),W({fetchers:new Map(k.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ee(e,t,n,r){void 0===r&&(r={});let i=Th(k.matches,t);ne(e),W({errors:{[i.route.id]:n},fetchers:new Map(k.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function te(e){return U.set(e,(U.get(e)||0)+1),q.has(e)&&q.delete(e),k.fetchers.get(e)||oh}function ne(e){let t=k.fetchers.get(e);!F.has(e)||t&&"loading"===t.state&&M.has(e)||re(e),z.delete(e),M.delete(e),I.delete(e),f.v7_fetcherPersist&&q.delete(e),R.delete(e),k.fetchers.delete(e)}function re(e){let t=F.get(e);t&&(t.abort(),F.delete(e))}function ie(e){for(let t of e){let e=Qh(te(t).data);k.fetchers.set(t,e)}}function se(){let e=[],t=!1;for(let n of I){let r=k.fetchers.get(n);mu(r,"Expected fetcher: "+n),"loading"===r.state&&(I.delete(n),e.push(n),t=!0)}return ie(e),t}function ae(e){let t=[];for(let[n,r]of M)if(r<e){let e=k.fetchers.get(n);mu(e,"Expected fetcher: "+n),"loading"===e.state&&(re(n),M.delete(n),t.push(n))}return ie(t),t.length>0}function oe(e){k.blockers.delete(e),H.delete(e)}function le(e,t){let n=k.blockers.get(e)||lh;mu("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(k.blockers);r.set(e,t),W({blockers:r})}function ce(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===H.size)return;H.size>1&&gu(!1,"A router only supports one blocker at a time");let i=Array.from(H.entries()),[s,a]=i[i.length-1],o=k.blockers.get(s);return o&&"proceeding"===o.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function de(e){let t=Rh(404,{pathname:e}),n=s||c,{matches:r,route:i}=Bh(n);return ue(),{notFoundMatches:r,route:i,error:t}}function ue(e){let t=[];return V.forEach((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),V.delete(r))}),t}function he(e,t){if(x){return x(e,t.map(e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,k.loaderData)))||e.key}return e.key}function fe(e,t){if(g){let n=he(e,t),r=g[n];if("number"==typeof r)return r}return null}function pe(e,t,n){if(h){if(!e){return{active:!0,matches:Au(t,n,d,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:Au(t,n,d,!0)}}}return{active:!1,matches:null}}async function me(e,t,n,r){if(!h)return{type:"success",matches:e};let a=e;for(;;){let e=null==s,o=s||c,u=l;try{await h({signal:n,path:t,matches:a,fetcherKey:r,patch:(e,t)=>{n.aborted||vh(e,t,o,u,i)}})}catch(iw){return{type:"error",error:iw,partialMatches:a}}finally{e&&!n.aborted&&(c=[...c])}if(n.aborted)return{type:"aborted"};let f=ku(o,t,d);if(f)return{type:"success",matches:f};let p=Au(o,t,d,!0);if(!p||a.length===p.length&&a.every((e,t)=>e.route.id===p[t].route.id))return{type:"success",matches:null};a=p}}return o={get basename(){return d},get future(){return f},get state(){return k},get routes(){return c},get window(){return t},initialize:function(){if(p=e.history.listen(t=>{let{action:n,location:r,delta:i}=t;if(S)return S(),void(S=void 0);gu(0===H.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=ce({currentLocation:k.location,nextLocation:r,historyAction:n});if(s&&null!=i){let t=new Promise(e=>{S=e});return e.history.go(-1*i),void le(s,{state:"blocked",location:r,proceed(){le(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then(()=>e.history.go(i))},reset(){let e=new Map(k.blockers);e.set(s,lh),W({blockers:e})}})}return G(n,r)}),n){!function(e,t){try{let n=e.sessionStorage.getItem(uh);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(iw){}}(t,C);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(uh,JSON.stringify(r))}catch(n){gu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}
/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(t,C);t.addEventListener("pagehide",e),_=()=>t.removeEventListener("pagehide",e)}return k.initialized||G(cu.Pop,k.location,{initialHydration:!0}),o},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,n){if(g=e,b=t,x=n||null,!y&&k.navigation===ah){y=!0;let e=fe(k.location,k.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{g=null,b=null,x=null}},navigate:async function t(n,r){if("number"==typeof n)return void e.history.go(n);let i=fh(k.location,k.matches,d,f.v7_prependBasename,n,f.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:s,submission:a,error:o}=ph(f.v7_normalizeFormMethod,!1,i,r),l=k.location,c=bu(k.location,s,r&&r.state);c=hu({},c,e.history.encodeLocation(c));let u=r&&null!=r.replace?r.replace:void 0,h=cu.Push;!0===u?h=cu.Replace:!1===u||null!=a&&Vh(a.formMethod)&&a.formAction===k.location.pathname+k.location.search&&(h=cu.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.flushSync),g=ce({currentLocation:l,nextLocation:c,historyAction:h});if(!g)return await G(h,c,{submission:a,pendingError:o,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:m});le(g,{state:"blocked",location:c,proceed(){le(g,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,r)},reset(){let e=new Map(k.blockers);e.set(g,lh),W({blockers:e})}})},fetch:function(t,n,i,a){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");re(t);let o=!0===(a&&a.flushSync),l=s||c,u=fh(k.location,k.matches,d,f.v7_prependBasename,i,f.v7_relativeSplatPath,n,null==a?void 0:a.relative),h=ku(l,u,d),p=pe(h,l,u);if(p.active&&p.matches&&(h=p.matches),!h)return void ee(t,n,Rh(404,{pathname:u}),{flushSync:o});let{path:m,submission:g,error:x}=ph(f.v7_normalizeFormMethod,!0,u,a);if(x)return void ee(t,n,x,{flushSync:o});let b=Yh(h,m),y=!0===(a&&a.preventScrollReset);g&&Vh(g.formMethod)?async function(t,n,r,i,a,o,l,u,h){function p(e){if(!e.route.action&&!e.route.lazy){let e=Rh(405,{method:h.formMethod,pathname:r,routeId:n});return ee(t,n,e,{flushSync:l}),!0}return!1}if(Q(),z.delete(t),!o&&p(i))return;let m=k.fetchers.get(t);Z(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,m),{flushSync:l});let g=new AbortController,x=Ah(e.history,r,g.signal,h);if(o){let e=await me(a,new URL(x.url).pathname,x.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ee(t,n,e.error,{flushSync:l});if(!e.matches)return void ee(t,n,Rh(404,{pathname:r}),{flushSync:l});if(p(i=Yh(a=e.matches,r)))return}F.set(t,g);let b=D,y=await J("action",k,x,[i],a,t),v=y[i.route.id];if(x.signal.aborted)return void(F.get(t)===g&&F.delete(t));if(f.v7_fetcherPersist&&q.has(t)){if(zh(v)||Ih(v))return void Z(t,Qh(void 0))}else{if(zh(v))return F.delete(t),O>b?void Z(t,Qh(void 0)):(I.add(t),Z(t,Xh(h)),K(x,v,!1,{fetcherSubmission:h,preventScrollReset:u}));if(Ih(v))return void ee(t,n,v.error)}if(Mh(v))throw Rh(400,{type:"defer-action"});let w=k.navigation.location||k.location,N=Ah(e.history,w,g.signal),S=s||c,P="idle"!==k.navigation.state?ku(S,k.navigation.location,d):k.matches;mu(P,"Didn't find any matches after fetcher action");let L=++D;M.set(t,L);let C=Xh(h,v.data);k.fetchers.set(t,C);let[_,E]=gh(e.history,k,P,h,w,!1,f.v7_skipActionErrorRevalidation,T,B,R,q,z,I,S,d,[i.route.id,v]);E.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=k.fetchers.get(t),r=Xh(void 0,n?n.data:void 0);k.fetchers.set(t,r),re(t),e.controller&&F.set(t,e.controller)}),W({fetchers:new Map(k.fetchers)});let U=()=>E.forEach(e=>re(e.key));g.signal.addEventListener("abort",U);let{loaderResults:H,fetcherResults:G}=await X(k,P,_,E,N);if(g.signal.aborted)return;g.signal.removeEventListener("abort",U),M.delete(t),F.delete(t),E.forEach(e=>F.delete(e.key));let Y=Fh(H);if(Y)return K(N,Y.result,!1,{preventScrollReset:u});if(Y=Fh(G),Y)return I.add(Y.key),K(N,Y.result,!1,{preventScrollReset:u});let{loaderData:te,errors:ne}=Ch(k,P,H,void 0,E,G,V);if(k.fetchers.has(t)){let e=Qh(v.data);k.fetchers.set(t,e)}ae(L),"loading"===k.navigation.state&&L>O?(mu(A,"Expected pending action"),j&&j.abort(),$(k.navigation.location,{matches:P,loaderData:te,errors:ne,fetchers:new Map(k.fetchers)})):(W({errors:ne,loaderData:_h(k.loaderData,te,P,ne),fetchers:new Map(k.fetchers)}),T=!1)}(t,n,m,b,h,p.active,o,y,g):(z.set(t,{routeId:n,path:m}),async function(t,n,r,i,s,a,o,l,c){let d=k.fetchers.get(t);Z(t,Xh(c,d?d.data:void 0),{flushSync:o});let u=new AbortController,h=Ah(e.history,r,u.signal);if(a){let e=await me(s,new URL(h.url).pathname,h.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ee(t,n,e.error,{flushSync:o});if(!e.matches)return void ee(t,n,Rh(404,{pathname:r}),{flushSync:o});i=Yh(s=e.matches,r)}F.set(t,u);let f=D,p=await J("loader",k,h,[i],s,t),m=p[i.route.id];Mh(m)&&(m=await $h(m,h.signal,!0)||m);F.get(t)===u&&F.delete(t);if(h.signal.aborted)return;if(q.has(t))return void Z(t,Qh(void 0));if(zh(m))return O>f?void Z(t,Qh(void 0)):(I.add(t),void(await K(h,m,!1,{preventScrollReset:l})));if(Ih(m))return void ee(t,n,m.error);mu(!Mh(m),"Unhandled fetcher deferred data"),Z(t,Qh(m.data))}(t,n,m,b,h,p.active,o,y,g))},revalidate:function(){Q(),W({revalidation:"loading"}),"submitting"!==k.navigation.state&&("idle"!==k.navigation.state?G(A||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:!0===L}):G(k.historyAction,k.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:te,deleteFetcher:function(e){let t=(U.get(e)||0)-1;t<=0?(U.delete(e),q.add(e),f.v7_fetcherPersist||ne(e)):U.set(e,t),W({fetchers:new Map(k.fetchers)})},dispose:function(){p&&p(),_&&_(),m.clear(),j&&j.abort(),k.fetchers.forEach((e,t)=>ne(t)),k.blockers.forEach((e,t)=>oe(t))},getBlocker:function(e,t){let n=k.blockers.get(e)||lh;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:oe,patchRoutes:function(e,t){let n=null==s;vh(e,t,s||c,l,i),n&&(c=[...c],W({}))},_internalFetchControllers:F,_internalActiveDeferreds:V,_internalSetRoutes:function(e){l={},s=Su(e,i,void 0,l)}},o}function fh(e,t,n,r,i,s,a,o){let l,c;if(a){l=[];for(let e of t)if(l.push(e),e.route.id===a){c=e;break}}else l=t,c=t[t.length-1];let d=Gu(i||".",$u(l,s),zu(e.pathname,n)||e.pathname,"path"===o);if(null==i&&(d.search=e.search,d.hash=e.hash),(null==i||""===i||"."===i)&&c){let e=Gh(d.search);if(c.route.index&&!e)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&e){let e=new URLSearchParams(d.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();d.search=n?"?"+n:""}}return r&&"/"!==n&&(d.pathname="/"===d.pathname?n:Yu([n,d.pathname])),yu(d)}function ph(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&(i=r.formMethod,!rh.has(i.toLowerCase())))return{path:n,error:Rh(405,{method:r.formMethod})};var i;let s,a,o=()=>({path:n,error:Rh(400,{type:"invalid-body"})}),l=r.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),d=Dh(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Vh(c))return o();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"},""):String(r.body);return{path:n,submission:{formMethod:c,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Vh(c))return o();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:d,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(iw){return o()}}}if(mu("function"==typeof FormData,"FormData is not available in this environment"),r.formData)s=Ph(r.formData),a=r.formData;else if(r.body instanceof FormData)s=Ph(r.body),a=r.body;else if(r.body instanceof URLSearchParams)s=r.body,a=Lh(s);else if(null==r.body)s=new URLSearchParams,a=new FormData;else try{s=new URLSearchParams(r.body),a=Lh(s)}catch(iw){return o()}let u={formMethod:c,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Vh(u.formMethod))return{path:n,submission:u};let h=vu(n);return t&&h.search&&Gh(h.search)&&s.append("index",""),h.search="?"+s,{path:yu(h),submission:u}}function mh(e,t,n){void 0===n&&(n=!1);let r=e.findIndex(e=>e.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function gh(e,t,n,r,i,s,a,o,l,c,d,u,h,f,p,m){let g=m?Ih(m[1])?m[1].error:m[1].data:void 0,x=e.createURL(t.location),b=e.createURL(i),y=n;s&&t.errors?y=mh(n,Object.keys(t.errors)[0],!0):m&&Ih(m[1])&&(y=mh(n,m[0]));let v=m?m[1].statusCode:void 0,w=a&&v&&v>=400,N=y.filter((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return xh(i,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some(t=>t===e.route.id))return!0;let a=t.matches[n],c=e;return yh(e,hu({currentUrl:x,currentParams:a.params,nextUrl:b,nextParams:c.params},r,{actionResult:g,actionStatus:v,defaultShouldRevalidate:!w&&(o||x.pathname+x.search===b.pathname+b.search||x.search!==b.search||bh(a,c))}))}),j=[];return u.forEach((e,i)=>{if(s||!n.some(t=>t.route.id===e.routeId)||d.has(i))return;let a=ku(f,e.path,p);if(!a)return void j.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),u=Yh(a,e.path),m=!1;h.has(i)?m=!1:c.has(i)?(c.delete(i),m=!0):m=l&&"idle"!==l.state&&void 0===l.data?o:yh(u,hu({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:g,actionStatus:v,defaultShouldRevalidate:!w&&o})),m&&j.push({key:i,routeId:e.routeId,path:e.path,matches:a,match:u,controller:new AbortController})}),[N,j]}function xh(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"==typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function bh(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function yh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}function vh(e,t,n,r,i){var s;let a;if(e){let t=r[e];mu(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),a=t.children}else a=n;let o=Su(t.filter(e=>!a.some(t=>wh(e,t))),i,[e||"_","patch",String((null==(s=a)?void 0:s.length)||"0")],r);a.push(...o)}function wh(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,n)=>{var r;return null==(r=t.children)?void 0:r.some(t=>wh(e,t))}))}async function Nh(e){let{matches:t}=e,n=t.filter(e=>e.shouldLoad);return(await Promise.all(n.map(e=>e.resolve()))).reduce((e,t,r)=>Object.assign(e,{[n[r].route.id]:t}),{})}async function jh(e){let{result:t,type:n}=e;if(qh(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(iw){return{type:wu.error,error:iw}}return n===wu.error?{type:wu.error,error:new Qu(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:wu.data,data:e,statusCode:t.status,headers:t.headers}}var r,i,s,a,o,l,c,d;return n===wu.error?Uh(t)?t.data instanceof Error?{type:wu.error,error:t.data,statusCode:null==(s=t.init)?void 0:s.status,headers:null!=(a=t.init)&&a.headers?new Headers(t.init.headers):void 0}:{type:wu.error,error:new Qu((null==(r=t.init)?void 0:r.status)||500,void 0,t.data),statusCode:Zu(t)?t.status:void 0,headers:null!=(i=t.init)&&i.headers?new Headers(t.init.headers):void 0}:{type:wu.error,error:t,statusCode:Zu(t)?t.status:void 0}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(t)?{type:wu.deferred,deferredData:t,statusCode:null==(o=t.init)?void 0:o.status,headers:(null==(l=t.init)?void 0:l.headers)&&new Headers(t.init.headers)}:Uh(t)?{type:wu.data,data:t.data,statusCode:null==(c=t.init)?void 0:c.status,headers:null!=(d=t.init)&&d.headers?new Headers(t.init.headers):void 0}:{type:wu.data,data:t}}function Sh(e,t,n,r,i,s){let a=e.headers.get("Location");if(mu(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!ch.test(a)){let o=r.slice(0,r.findIndex(e=>e.route.id===n)+1);a=fh(new URL(t.url),o,i,!0,a,s),e.headers.set("Location",a)}return e}function kh(e,t,n){if(ch.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=null!=zu(i.pathname,n);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Ah(e,t,n,r){let i=e.createURL(Dh(t)).toString(),s={signal:n};if(r&&Vh(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=Ph(r.formData):s.body=r.formData}return new Request(i,s)}function Ph(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function Lh(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Ch(e,t,n,r,i,s,a){let{loaderData:o,errors:l}=function(e,t,n,r){let i,s={},a=null,o=!1,l={},c=n&&Ih(n[1])?n[1].error:void 0;return e.forEach(n=>{if(!(n.route.id in t))return;let d=n.route.id,u=t[d];if(mu(!zh(u),"Cannot handle redirect results in processLoaderData"),Ih(u)){let t=u.error;void 0!==c&&(t=c,c=void 0),a=a||{};{let n=Th(e,d);null==a[n.route.id]&&(a[n.route.id]=t)}s[d]=void 0,o||(o=!0,i=Zu(u.error)?u.error.status:500),u.headers&&(l[d]=u.headers)}else Mh(u)?(r.set(d,u.deferredData),s[d]=u.deferredData.data,null==u.statusCode||200===u.statusCode||o||(i=u.statusCode),u.headers&&(l[d]=u.headers)):(s[d]=u.data,u.statusCode&&200!==u.statusCode&&!o&&(i=u.statusCode),u.headers&&(l[d]=u.headers))}),void 0!==c&&n&&(a={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:i||200,loaderHeaders:l}}(t,n,r,a);return i.forEach(t=>{let{key:n,match:r,controller:i}=t,a=s[n];if(mu(a,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(Ih(a)){let t=Th(e.matches,null==r?void 0:r.route.id);l&&l[t.route.id]||(l=hu({},l,{[t.route.id]:a.error})),e.fetchers.delete(n)}else if(zh(a))mu(!1,"Unhandled fetcher revalidation redirect");else if(Mh(a))mu(!1,"Unhandled fetcher deferred data");else{let t=Qh(a.data);e.fetchers.set(n,t)}}),{loaderData:o,errors:l}}function _h(e,t,n,r){let i=hu({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Eh(e){return e?Ih(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Th(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function Bh(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Rh(e,t){let{pathname:n,routeId:r,method:i,type:s,message:a}=void 0===t?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?l="defer() is not supported in actions":"invalid-body"===s&&(l="Unable to encode submission body")):403===e?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",l='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Qu(e||500,o,new Error(l),!0)}function Fh(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(zh(r))return{key:e,result:r}}}function Dh(e){return yu(hu({},"string"==typeof e?vu(e):e,{hash:""}))}function Oh(e){return qh(e.result)&&ih.has(e.result.status)}function Mh(e){return e.type===wu.deferred}function Ih(e){return e.type===wu.error}function zh(e){return(e&&e.type)===wu.redirect}function Uh(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function qh(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function Vh(e){return th.has(e.toLowerCase())}async function Hh(e,t,n,r,i){let s=Object.entries(t);for(let a=0;a<s.length;a++){let[o,l]=s[a],c=e.find(e=>(null==e?void 0:e.route.id)===o);if(!c)continue;let d=r.find(e=>e.route.id===c.route.id),u=null!=d&&!bh(d,c)&&void 0!==(i&&i[c.route.id]);Mh(l)&&u&&await $h(l,n,!1).then(e=>{e&&(t[o]=e)})}}async function Wh(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:a}=n[r],o=t[i];e.find(e=>(null==e?void 0:e.route.id)===s)&&(Mh(o)&&(mu(a,"Expected an AbortController for revalidating fetcher deferred result"),await $h(o,a.signal,!0).then(e=>{e&&(t[i]=e)})))}}async function $h(e,t,n){if(void 0===n&&(n=!1),!(await e.deferredData.resolveData(t))){if(n)try{return{type:wu.data,data:e.deferredData.unwrappedData}}catch(iw){return{type:wu.error,error:iw}}return{type:wu.data,data:e.deferredData.data}}}function Gh(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function Yh(e,t){let n="string"==typeof t?vu(t).search:t.search;if(e[e.length-1].route.index&&Gh(n||""))return e[e.length-1];let r=Wu(e);return r[r.length-1]}function Kh(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function Jh(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xh(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Qh(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zh.apply(this,arguments)}const ef=V.createContext(null),tf=V.createContext(null),nf=V.createContext(null),rf=V.createContext(null),sf=V.createContext({outlet:null,matches:[],isDataRoute:!1}),af=V.createContext(null);function of(){return null!=V.useContext(rf)}function lf(){return of()||mu(!1),V.useContext(rf).location}function cf(e){V.useContext(nf).static||V.useLayoutEffect(e)}function df(){let{isDataRoute:e}=V.useContext(sf);return e?function(){let{router:e}=function(){let e=V.useContext(ef);return e||mu(!1),e}(bf.UseNavigateStable),t=vf(),n=V.useRef(!1);return cf(()=>{n.current=!0}),V.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Zh({fromRouteId:t},i)))},[e,t])}():function(){of()||mu(!1);let e=V.useContext(ef),{basename:t,future:n,navigator:r}=V.useContext(nf),{matches:i}=V.useContext(sf),{pathname:s}=lf(),a=JSON.stringify($u(i,n.v7_relativeSplatPath)),o=V.useRef(!1);return cf(()=>{o.current=!0}),V.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=Gu(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Yu([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,s,e])}()}const uf=V.createContext(null);function hf(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=V.useContext(nf),{matches:i}=V.useContext(sf),{pathname:s}=lf(),a=JSON.stringify($u(i,r.v7_relativeSplatPath));return V.useMemo(()=>Gu(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function ff(e,t,n,r){of()||mu(!1);let{navigator:i}=V.useContext(nf),{matches:s}=V.useContext(sf),a=s[s.length-1],o=a?a.params:{};!a||a.pathname;let l,c=a?a.pathnameBase:"/";a&&a.route,l=lf();let d=l.pathname||"/",u=d;if("/"!==c){let e=c.replace(/^\//,"").split("/");u="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let h=ku(e,{pathname:u}),f=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||mu(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let e=a[d];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=d),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let s,d=!1,u=null,h=null;var f;n&&(s=o&&r.route.id?o[r.route.id]:void 0,u=r.route.errorElement||mf,l&&(c<0&&0===i?(wf[f="route-fallback"]||(wf[f]=!0),d=!0,h=null):c===i&&(d=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=s?u:d?h:r.route.Component?V.createElement(r.route.Component,null):r.route.element?r.route.element:e,V.createElement(xf,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?V.createElement(gf,{location:n.location,revalidation:n.revalidation,component:u,error:s,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(h&&h.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Yu([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Yu([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return f}function pf(){let e=function(){var e;let t=V.useContext(af),n=function(){let e=V.useContext(tf);return e||mu(!1),e}(yf.UseRouteError),r=vf();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Zu(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:r},n):null,null)}const mf=V.createElement(pf,null);class gf extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?V.createElement(sf.Provider,{value:this.props.routeContext},V.createElement(af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xf(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(ef);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(sf.Provider,{value:t},r)}var bf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bf||{}),yf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yf||{});function vf(e){let t=function(){let e=V.useContext(sf);return e||mu(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||mu(!1),n.route.id}const wf={};function Nf(e){return function(e){let t=V.useContext(sf).outlet;return t?V.createElement(uf.Provider,{value:e},t):t}(e.context)}function jf(e){let{basename:t="/",children:n=null,location:r,navigationType:i=cu.Pop,navigator:s,static:a=!1,future:o}=e;of()&&mu(!1);let l=t.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:a,future:Zh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);"string"==typeof r&&(r=vu(r));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,m=V.useMemo(()=>{let e=zu(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:f,key:p},navigationType:i}},[l,d,u,h,f,p,i]);return null==m?null:V.createElement(nf.Provider,{value:c},V.createElement(rf.Provider,{children:n,value:m}))}function Sf(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:V.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:V.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:V.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}
/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}new Promise(()=>{});const Af=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(iw){}function Pf(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=kf({},t,{errors:Lf(t.errors)})),t}function Lf(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new Qu(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"==typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(iw){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const Cf=V.createContext({isTransitioning:!1}),_f=V.createContext(new Map),Ef=W.startTransition,Tf=ou.flushSync;function Bf(e){Tf?Tf(e):e()}class Rf{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function Ff(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=V.useState(n.state),[a,o]=V.useState(),[l,c]=V.useState({isTransitioning:!1}),[d,u]=V.useState(),[h,f]=V.useState(),[p,m]=V.useState(),g=V.useRef(new Map),{v7_startTransition:x}=r||{},b=V.useCallback(e=>{x?function(e){Ef?Ef(e):e()}(e):e()},[x]),y=V.useCallback((e,t)=>{let{deletedFetchers:r,flushSync:i,viewTransitionOpts:a}=t;e.fetchers.forEach((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)}),r.forEach(e=>g.current.delete(e));let l=null==n.window||null==n.window.document||"function"!=typeof n.window.document.startViewTransition;if(a&&!l){if(i){Bf(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})});let t=n.window.document.startViewTransition(()=>{Bf(()=>s(e))});return t.finished.finally(()=>{Bf(()=>{u(void 0),f(void 0),o(void 0),c({isTransitioning:!1})})}),void Bf(()=>f(t))}h?(d&&d.resolve(),h.skipTransition(),m({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(o(e),c({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?Bf(()=>s(e)):b(()=>s(e))},[n.window,h,d,g,b]);V.useLayoutEffect(()=>n.subscribe(y),[n,y]),V.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new Rf)},[l]),V.useEffect(()=>{if(d&&a&&n.window){let e=a,t=d.promise,r=n.window.document.startViewTransition(async()=>{b(()=>s(e)),await t});r.finished.finally(()=>{u(void 0),f(void 0),o(void 0),c({isTransitioning:!1})}),f(r)}},[b,a,d,n.window]),V.useEffect(()=>{d&&a&&i.location.key===a.location.key&&d.resolve()},[d,h,i.location,a]),V.useEffect(()=>{!l.isTransitioning&&p&&(o(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),V.useEffect(()=>{},[]);let v=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}),[n]),w=n.basename||"/",N=V.useMemo(()=>({router:n,navigator:v,static:!1,basename:w}),[n,v,w]),j=V.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return V.useEffect(()=>function(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}(r,n.future),[r,n.future]),V.createElement(V.Fragment,null,V.createElement(ef.Provider,{value:N},V.createElement(tf.Provider,{value:i},V.createElement(_f.Provider,{value:g.current},V.createElement(Cf.Provider,{value:l},V.createElement(jf,{basename:w,location:i.location,navigationType:i.historyAction,navigator:v,future:j},i.initialized||n.future.v7_partialHydration?V.createElement(Df,{routes:n.routes,future:n.future,state:i}):t))))),null)}const Df=V.memo(Of);function Of(e){let{routes:t,future:n,state:r}=e;return ff(t,0,r,n)}const Mf="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,If=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zf=V.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:u}=e,h=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Af),{basename:f}=V.useContext(nf),p=!1;if("string"==typeof c&&If.test(c)&&(n=c,Mf))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=zu(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:p=!0}catch(iw){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;of()||mu(!1);let{basename:r,navigator:i}=V.useContext(nf),{hash:s,pathname:a,search:o}=hf(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Yu([r,a])),i.createHref({pathname:l,search:o,hash:s})}(c,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=void 0===t?{}:t,l=df(),c=lf(),d=hf(e,{relative:a});return V.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:yu(c)===yu(d);l(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,r,i,n,e,s,a,o])}(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:u});return V.createElement("a",kf({},h,{href:n||m,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))});var Uf,qf,Vf,Hf;(qf=Uf||(Uf={})).UseScrollRestoration="useScrollRestoration",qf.UseSubmit="useSubmit",qf.UseSubmitFetcher="useSubmitFetcher",qf.UseFetcher="useFetcher",qf.useViewTransitionState="useViewTransitionState",(Hf=Vf||(Vf={})).UseFetcher="useFetcher",Hf.UseFetchers="useFetchers",Hf.UseScrollRestoration="useScrollRestoration";var Wf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$f=H.createContext&&H.createContext(Wf),Gf=["attr","size","title"];function Yf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(this,arguments)}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach(function(t){Qf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qf(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(e){return e&&e.map((e,t)=>H.createElement(e.tag,Xf({key:t},e.attr),Zf(e.child)))}function ep(e){return t=>H.createElement(tp,Kf({attr:Xf({},e.attr)},t),Zf(e.child))}function tp(e){var t=t=>{var n,{attr:r,size:i,title:s}=e,a=Yf(e,Gf),o=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),H.createElement("svg",Kf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:Xf(Xf({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&H.createElement("title",null,s),e.children)};return void 0!==$f?H.createElement($f.Consumer,null,e=>t(e)):t(Wf)}function np(e){return ep({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function rp(e){return ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function ip(e){return ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function sp(e){return ep({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function ap(e){return ep({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm144-248c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm176 248c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function op(e){return ep({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function lp(e){return ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(e)}function cp(e){return ep({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function dp(e){return ep({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}const up=()=>Z.jsx("footer",{className:"bg-gray-900 text-white",children:Z.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[Z.jsxs("div",{className:"space-y-4",children:[Z.jsx("h3",{className:"text-xl font-bold",children:"BloodBridge Foundation"}),Z.jsx("p",{className:"text-gray-400",children:"Saving lives through blood donation. Join our mission to help those in need."}),Z.jsxs("div",{className:"flex space-x-4",children:[Z.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:Z.jsx(np,{size:24})}),Z.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:Z.jsx(sp,{size:24})}),Z.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:Z.jsx(rp,{size:24})}),Z.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:Z.jsx(ip,{size:24})})]})]}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),Z.jsxs("ul",{className:"space-y-2",children:[Z.jsx("li",{children:Z.jsx(zf,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),Z.jsx("li",{children:Z.jsx(zf,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),Z.jsx("li",{children:Z.jsx(zf,{to:"/donate",className:"text-gray-400 hover:text-white transition-colors",children:"Donate Blood"})}),Z.jsx("li",{children:Z.jsx(zf,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),Z.jsxs("ul",{className:"space-y-2",children:[Z.jsx("li",{children:Z.jsx(zf,{to:"/faq",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})}),Z.jsx("li",{children:Z.jsx(zf,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),Z.jsx("li",{children:Z.jsx(zf,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})}),Z.jsx("li",{children:Z.jsx(zf,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})})]})]}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),Z.jsxs("ul",{className:"space-y-2 text-gray-400",children:[Z.jsx("li",{children:"123 BloodBridge Foundation Street"}),Z.jsx("li",{children:"City, State 12345"}),Z.jsx("li",{children:"Phone: (123) 456-7890"}),Z.jsx("li",{children:"Email: info@bloodservice.com"})]})]})]}),Z.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:Z.jsxs("p",{children:[" ",(new Date).getFullYear()," BloodBridge Foundation. All rights reserved."]})})]})}),hp=()=>{var e,t,n,r;const[i,s]=V.useState(null),[a,o]=V.useState(!1),l=lf();V.useEffect(()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);t&&"object"==typeof t?s(t):(localStorage.removeItem("user"),localStorage.removeItem("token"))}}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("user"),localStorage.removeItem("token")}},[]);const c=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),window.location.href="/login"};return Z.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:Z.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"flex justify-between h-20 items-center",children:[Z.jsx("div",{className:"flex-shrink-0",children:Z.jsx(zf,{to:"/",className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent hover:from-red-400 hover:to-red-500 transition-all duration-300",children:"BloodBridge"})}),Z.jsxs("div",{className:"hidden xl:flex space-x-6",children:[Z.jsxs(zf,{to:"/",className:"text-sm transition-colors duration-300 relative group "+("/"===l.pathname?"text-red-500 font-semibold":"text-gray-600 hover:text-red-500"),children:["Home",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),Z.jsxs(zf,{to:"/hospitals",className:"text-sm transition-colors duration-300 relative group "+("/hospitals"===l.pathname?"text-red-500 font-semibold":"text-gray-600 hover:text-red-500"),children:["Hospitals",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/hospitals"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),Z.jsxs(zf,{to:"/organizations",className:"text-sm transition-colors duration-300 relative group "+("/organizations"===l.pathname?"text-red-500 font-semibold":"text-gray-600 hover:text-red-500"),children:["Organizations",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/organizations"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),Z.jsxs(zf,{to:"/blood-requests",className:"text-sm transition-colors duration-300 relative group "+("/blood-requests"===l.pathname?"text-red-500 font-semibold":"text-red-500 hover:text-red-600"),children:[Z.jsx("span",{className:"inline-flex",children:"Blood Requests".split("").map((e,t)=>Z.jsx("span",{className:"inline-block animate-wave-bold",style:{animationDelay:.1*t+"s"},children:" "===e?"":e},t))}),Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/blood-requests"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),Z.jsxs(zf,{to:"/buy-blood",className:"text-sm transition-colors duration-300 relative group "+("/buy-blood"===l.pathname?"text-red-500 font-semibold":"text-gray-600 hover:text-red-500"),children:["Buy Blood",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/buy-blood"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),Z.jsxs(zf,{to:"/price-comparison",className:"text-sm transition-colors duration-300 relative group "+("/price-comparison"===l.pathname?"text-red-500 font-semibold":"text-gray-600 hover:text-red-500"),children:["Price Compare",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/price-comparison"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),i&&Z.jsxs(zf,{to:"/profile",className:"text-sm transition-colors duration-300 relative group "+("/profile"===l.pathname?"text-red-500 font-semibold":"text-gray-600 hover:text-red-500"),children:["My Profile",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-red-500 transition-all duration-300 "+("/profile"===l.pathname?"w-full":"w-0 group-hover:w-full")})]}),"true"===localStorage.getItem("isAdminLoggedIn")&&Z.jsxs(zf,{to:"/admin",className:"text-sm transition-colors duration-300 relative group "+(l.pathname.startsWith("/admin")?"text-purple-700 font-semibold":"text-purple-600 hover:text-purple-700"),children:["Admin",Z.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-purple-600 transition-all duration-300 "+(l.pathname.startsWith("/admin")?"w-full":"w-0 group-hover:w-full")})]})]}),Z.jsx("div",{className:"hidden xl:flex items-center space-x-3",children:i?Z.jsxs("div",{className:"flex items-center space-x-4",children:[Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Welcome,"}),Z.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center shadow-lg hover:shadow-red-500/30 transform hover:scale-105 transition-all duration-300",children:Z.jsx("span",{className:"text-white text-sm font-medium",children:(null==(e=i.fullName)?void 0:e.charAt(0))||(null==(t=i.email)?void 0:t.charAt(0))})})]}),Z.jsx(zf,{to:"/request-blood",className:"bg-gradient-to-r from-red-600 to-red-700 text-white text-sm px-4 py-2 rounded-full hover:from-red-500 hover:to-red-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-red-500/30",children:"Request Blood"}),Z.jsxs("button",{onClick:c,className:"relative inline-flex items-center justify-center px-4 py-2 overflow-hidden text-sm font-medium text-red-600 transition duration-300 ease-out border-2 border-red-500 rounded-full shadow-md group",children:[Z.jsx("span",{className:"absolute inset-0 flex items-center justify-center w-full h-full text-white duration-300 -translate-x-full bg-red-500 group-hover:translate-x-0 ease",children:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),Z.jsx("span",{className:"absolute flex items-center justify-center w-full h-full text-red-500 transition-all duration-300 transform group-hover:translate-x-full ease",children:"Logout"}),Z.jsx("span",{className:"relative invisible",children:"Logout"})]})]}):Z.jsxs("div",{className:"flex items-center space-x-4",children:[Z.jsxs(zf,{to:"/register-donor",className:"text-sm text-gray-600 hover:text-red-500 transition-colors duration-300 relative group",children:["Register",Z.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"})]}),Z.jsxs(zf,{to:"/login",className:"relative inline-flex items-center justify-center px-4 py-2 overflow-hidden text-sm font-medium text-white transition duration-300 ease-out rounded-full shadow-md group bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:[Z.jsx("span",{className:"absolute inset-0 flex items-center justify-center w-full h-full text-white duration-300 -translate-x-full bg-red-600 group-hover:translate-x-0 ease",children:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),Z.jsx("span",{className:"absolute flex items-center justify-center w-full h-full text-white transition-all duration-300 transform group-hover:translate-x-full ease",children:"Login"}),Z.jsx("span",{className:"relative invisible",children:"Login"})]})]})}),Z.jsx("div",{className:"xl:hidden flex items-center",children:Z.jsxs("button",{onClick:()=>{o(!a)},className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-red-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-red-500",children:[Z.jsx("span",{className:"sr-only",children:"Open main menu"}),a?Z.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):Z.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]}),Z.jsx("div",{className:(a?"block":"hidden")+" xl:hidden transition-all duration-300 ease-in-out",children:Z.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[Z.jsx(zf,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-gray-600 hover:text-red-500 hover:bg-gray-50"),onClick:()=>o(!1),children:"Home"}),Z.jsx(zf,{to:"/hospitals",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/hospitals"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-gray-600 hover:text-red-500 hover:bg-gray-50"),onClick:()=>o(!1),children:"Hospitals"}),Z.jsx(zf,{to:"/organizations",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/organizations"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-gray-600 hover:text-red-500 hover:bg-gray-50"),onClick:()=>o(!1),children:"Organizations"}),Z.jsx(zf,{to:"/blood-requests",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/blood-requests"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-red-500 hover:text-red-600 hover:bg-gray-50"),onClick:()=>o(!1),children:Z.jsx("span",{className:"inline-flex flex-wrap",children:"Blood Requests".split("").map((e,t)=>Z.jsx("span",{className:"inline-block animate-wave-bold",style:{animationDelay:.1*t+"s"},children:" "===e?"":e},t))})}),Z.jsx(zf,{to:"/buy-blood",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/buy-blood"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-gray-600 hover:text-red-500 hover:bg-gray-50"),onClick:()=>o(!1),children:"Buy Blood"}),Z.jsx(zf,{to:"/price-comparison",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/price-comparison"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-gray-600 hover:text-red-500 hover:bg-gray-50"),onClick:()=>o(!1),children:"Price Comparison"}),i&&Z.jsx(zf,{to:"/profile",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors "+("/profile"===l.pathname?"text-red-500 bg-red-50 font-semibold border-l-4 border-red-500":"text-gray-600 hover:text-red-500 hover:bg-gray-50"),onClick:()=>o(!1),children:"My Profile"}),i?Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"px-3 py-2",children:Z.jsxs("div",{className:"flex items-center space-x-3",children:[Z.jsx("span",{className:"text-gray-600",children:"Welcome,"}),Z.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center",children:Z.jsx("span",{className:"text-white text-sm font-medium",children:(null==(n=i.fullName)?void 0:n.charAt(0))||(null==(r=i.email)?void 0:r.charAt(0))})})]})}),Z.jsx(zf,{to:"/request-blood",className:"block px-3 py-2 rounded-md text-base font-medium text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600",onClick:()=>o(!1),children:"Request Blood"}),Z.jsx("button",{onClick:()=>{c(),o(!1)},className:"w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:text-red-500 hover:bg-gray-50",children:"Logout"})]}):Z.jsxs(Z.Fragment,{children:[Z.jsx(zf,{to:"/register-donor",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-red-500 hover:bg-gray-50",onClick:()=>o(!1),children:"Register as Donor"}),Z.jsx(zf,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",onClick:()=>o(!1),children:"Login"})]})]})})]})})},fp=()=>Z.jsxs("div",{children:[Z.jsx(hp,{}),Z.jsx("div",{className:"min-h-[calc(100vh-80px)]",children:Z.jsx(Nf,{})}),Z.jsx(up,{})]}),pp=()=>Z.jsx("div",{className:"min-h-screen bg-gray-50",children:Z.jsx(Nf,{})});function mp(e,t){return function(){return e.apply(t,arguments)}}const{toString:gp}=Object.prototype,{getPrototypeOf:xp}=Object,{iterator:bp,toStringTag:yp}=Symbol,vp=(e=>t=>{const n=gp.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wp=e=>(e=e.toLowerCase(),t=>vp(t)===e),Np=e=>t=>typeof t===e,{isArray:jp}=Array,Sp=Np("undefined");function kp(e){return null!==e&&!Sp(e)&&null!==e.constructor&&!Sp(e.constructor)&&Lp(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ap=wp("ArrayBuffer");const Pp=Np("string"),Lp=Np("function"),Cp=Np("number"),_p=e=>null!==e&&"object"==typeof e,Ep=e=>{if("object"!==vp(e))return!1;const t=xp(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||yp in e||bp in e)},Tp=wp("Date"),Bp=wp("File"),Rp=wp("Blob"),Fp=wp("FileList"),Dp=wp("URLSearchParams"),[Op,Mp,Ip,zp]=["ReadableStream","Request","Response","Headers"].map(wp);function Up(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),jp(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(kp(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function qp(e,t){if(kp(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Vp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Hp=e=>!Sp(e)&&e!==Vp;const Wp=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&xp(Uint8Array)),$p=wp("HTMLFormElement"),Gp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Yp=wp("RegExp"),Kp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Up(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)};const Jp=wp("AsyncFunction"),Xp=(Qp="function"==typeof setImmediate,Zp=Lp(Vp.postMessage),Qp?setImmediate:Zp?(em=`axios@${Math.random()}`,tm=[],Vp.addEventListener("message",({source:e,data:t})=>{e===Vp&&t===em&&tm.length&&tm.shift()()},!1),e=>{tm.push(e),Vp.postMessage(em,"*")}):e=>setTimeout(e));var Qp,Zp,em,tm;const nm="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Vp):"undefined"!=typeof process&&process.nextTick||Xp,rm={isArray:jp,isArrayBuffer:Ap,isBuffer:kp,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Lp(e.append)&&("formdata"===(t=vp(e))||"object"===t&&Lp(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ap(e.buffer),t},isString:Pp,isNumber:Cp,isBoolean:e=>!0===e||!1===e,isObject:_p,isPlainObject:Ep,isEmptyObject:e=>{if(!_p(e)||kp(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(iw){return!1}},isReadableStream:Op,isRequest:Mp,isResponse:Ip,isHeaders:zp,isUndefined:Sp,isDate:Tp,isFile:Bp,isBlob:Rp,isRegExp:Yp,isFunction:Lp,isStream:e=>_p(e)&&Lp(e.pipe),isURLSearchParams:Dp,isTypedArray:Wp,isFileList:Fp,forEach:Up,merge:function e(){const{caseless:t,skipUndefined:n}=Hp(this)&&this||{},r={},i=(i,s)=>{const a=t&&qp(r,s)||s;Ep(r[a])&&Ep(i)?r[a]=e(r[a],i):Ep(i)?r[a]=e({},i):jp(i)?r[a]=i.slice():n&&Sp(i)||(r[a]=i)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Up(arguments[s],i);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(Up(t,(t,r)=>{n&&Lp(t)?e[r]=mp(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&xp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:vp,kindOfTest:wp,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(jp(e))return e;let t=e.length;if(!Cp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[bp]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:$p,hasOwnProperty:Gp,hasOwnProp:Gp,reduceDescriptors:Kp,freezeMethods:e=>{Kp(e,(t,n)=>{if(Lp(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Lp(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return jp(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:qp,global:Vp,isContextDefined:Hp,isSpecCompliantForm:function(e){return!!(e&&Lp(e.append)&&"FormData"===e[yp]&&e[bp])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_p(e)){if(t.indexOf(e)>=0)return;if(kp(e))return e;if(!("toJSON"in e)){t[r]=e;const i=jp(e)?[]:{};return Up(e,(e,t)=>{const s=n(e,r+1);!Sp(s)&&(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Jp,isThenable:e=>e&&(_p(e)||Lp(e))&&Lp(e.then)&&Lp(e.catch),setImmediate:Xp,asap:nm,isIterable:e=>null!=e&&Lp(e[bp])};function im(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}rm.inherits(im,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rm.toJSONObject(this.config),code:this.code,status:this.status}}});const sm=im.prototype,am={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{am[e]={value:e}}),Object.defineProperties(im,am),Object.defineProperty(sm,"isAxiosError",{value:!0}),im.from=(e,t,n,r,i,s)=>{const a=Object.create(sm);rm.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return im.call(a,o,l,n,r,i),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};function om(e){return rm.isPlainObject(e)||rm.isArray(e)}function lm(e){return rm.endsWith(e,"[]")?e.slice(0,-2):e}function cm(e,t,n){return e?e.concat(t).map(function(e,t){return e=lm(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const dm=rm.toFlatObject(rm,{},null,function(e){return/^is[A-Z]/.test(e)});function um(e,t,n){if(!rm.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=rm.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!rm.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&rm.isSpecCompliantForm(t);if(!rm.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(rm.isDate(e))return e.toISOString();if(rm.isBoolean(e))return e.toString();if(!o&&rm.isBlob(e))throw new im("Blob is not supported. Use a Buffer instead.");return rm.isArrayBuffer(e)||rm.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(rm.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(rm.isArray(e)&&function(e){return rm.isArray(e)&&!e.some(om)}(e)||(rm.isFileList(e)||rm.endsWith(n,"[]"))&&(o=rm.toArray(e)))return n=lm(n),o.forEach(function(e,r){!rm.isUndefined(e)&&null!==e&&t.append(!0===a?cm([n],r,s):null===a?n:n+"[]",l(e))}),!1;return!!om(e)||(t.append(cm(i,n,s),l(e)),!1)}const d=[],u=Object.assign(dm,{defaultVisitor:c,convertValue:l,isVisitable:om});if(!rm.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!rm.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),rm.forEach(n,function(n,s){!0===(!(rm.isUndefined(n)||null===n)&&i.call(t,n,rm.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t}function hm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function fm(e,t){this._pairs=[],e&&um(e,this,t)}const pm=fm.prototype;function mm(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gm(e,t,n){if(!t)return e;const r=n&&n.encode||mm;rm.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):rm.isURLSearchParams(t)?t.toString():new fm(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}pm.append=function(e,t){this._pairs.push([e,t])},pm.toString=function(e){const t=e?function(t){return e.call(this,t,hm)}:hm;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class xm{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rm.forEach(this.handlers,function(t){null!==t&&e(t)})}}const bm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ym={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:fm,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},vm="undefined"!=typeof window&&"undefined"!=typeof document,wm="object"==typeof navigator&&navigator||void 0,Nm=vm&&(!wm||["ReactNative","NativeScript","NS"].indexOf(wm.product)<0),jm="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Sm=vm&&window.location.href||"http://localhost",km={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vm,hasStandardBrowserEnv:Nm,hasStandardBrowserWebWorkerEnv:jm,navigator:wm,origin:Sm},Symbol.toStringTag,{value:"Module"})),...ym};function Am(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&rm.isArray(r)?r.length:s,o)return rm.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&rm.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&rm.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(rm.isFormData(e)&&rm.isFunction(e.entries)){const n={};return rm.forEachEntry(e,(e,r)=>{t(function(e){return rm.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const Pm={transitional:bm,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=rm.isObject(e);i&&rm.isHTMLForm(e)&&(e=new FormData(e));if(rm.isFormData(e))return r?JSON.stringify(Am(e)):e;if(rm.isArrayBuffer(e)||rm.isBuffer(e)||rm.isStream(e)||rm.isFile(e)||rm.isBlob(e)||rm.isReadableStream(e))return e;if(rm.isArrayBufferView(e))return e.buffer;if(rm.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return um(e,new km.classes.URLSearchParams,{visitor:function(e,t,n,r){return km.isNode&&rm.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((s=rm.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return um(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(rm.isString(e))try{return(t||JSON.parse)(e),rm.trim(e)}catch(iw){if("SyntaxError"!==iw.name)throw iw}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Pm.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(rm.isResponse(e)||rm.isReadableStream(e))return e;if(e&&rm.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(iw){if(n){if("SyntaxError"===iw.name)throw im.from(iw,im.ERR_BAD_RESPONSE,this,null,this.response);throw iw}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:km.classes.FormData,Blob:km.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rm.forEach(["delete","get","head","post","put","patch"],e=>{Pm.headers[e]={}});const Lm=rm.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cm=Symbol("internals");function _m(e){return e&&String(e).trim().toLowerCase()}function Em(e){return!1===e||null==e?e:rm.isArray(e)?e.map(Em):String(e)}function Tm(e,t,n,r,i){return rm.isFunction(r)?r.call(this,t,n):(i&&(t=n),rm.isString(t)?rm.isString(r)?-1!==t.indexOf(r):rm.isRegExp(r)?r.test(t):void 0:void 0)}let Bm=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=_m(t);if(!i)throw new Error("header name must be a non-empty string");const s=rm.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Em(e))}const s=(e,t)=>rm.forEach(e,(e,n)=>i(e,n,t));if(rm.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(rm.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Lm[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(rm.isObject(e)&&rm.isIterable(e)){let n,r,i={};for(const t of e){if(!rm.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?rm.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=_m(e)){const n=rm.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(rm.isFunction(t))return t.call(this,e,n);if(rm.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_m(e)){const n=rm.findKey(this,e);return!(!n||void 0===this[n]||t&&!Tm(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=_m(e)){const i=rm.findKey(n,e);!i||t&&!Tm(0,n[i],i,t)||(delete n[i],r=!0)}}return rm.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Tm(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return rm.forEach(this,(r,i)=>{const s=rm.findKey(n,i);if(s)return t[s]=Em(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();a!==i&&delete t[i],t[a]=Em(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return rm.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&rm.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Cm]=this[Cm]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_m(e);t[r]||(!function(e,t){const n=rm.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return rm.isArray(e)?e.forEach(r):r(e),this}};function Rm(e,t){const n=this||Pm,r=t||n,i=Bm.from(r.headers);let s=r.data;return rm.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Fm(e){return!(!e||!e.__CANCEL__)}function Dm(e,t,n){im.call(this,null==e?"canceled":e,im.ERR_CANCELED,t,n),this.name="CanceledError"}function Om(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new im("Request failed with status code "+n.status,[im.ERR_BAD_REQUEST,im.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}Bm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rm.reduceDescriptors(Bm.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),rm.freezeMethods(Bm),rm.inherits(Dm,im,{__CANCEL__:!0});const Mm=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let d=a,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let n,r,i=0,s=1e3/t;const a=(t,s=Date.now())=>{i=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-i;o>=s?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},s-o)))},()=>n&&a(n)]}(n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},Im=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},zm=e=>(...t)=>rm.asap(()=>e(...t)),Um=km.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,km.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(km.origin),km.navigator&&/(msie|trident)/i.test(km.navigator.userAgent)):()=>!0,qm=km.hasStandardBrowserEnv?{write(e,t,n,r,i,s,a){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];rm.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),rm.isString(r)&&o.push(`path=${r}`),rm.isString(i)&&o.push(`domain=${i}`),!0===s&&o.push("secure"),rm.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Vm(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Hm=e=>e instanceof Bm?{...e}:e;function Wm(e,t){t=t||{};const n={};function r(e,t,n,r){return rm.isPlainObject(e)&&rm.isPlainObject(t)?rm.merge.call({caseless:r},e,t):rm.isPlainObject(t)?rm.merge({},t):rm.isArray(t)?t.slice():t}function i(e,t,n,i){return rm.isUndefined(t)?rm.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!rm.isUndefined(t))return r(void 0,t)}function a(e,t){return rm.isUndefined(t)?rm.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(Hm(e),Hm(t),0,!0)};return rm.forEach(Object.keys({...e,...t}),function(r){const s=l[r]||i,a=s(e[r],t[r],r);rm.isUndefined(a)&&s!==o||(n[r]=a)}),n}const $m=e=>{const t=Wm({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=Bm.from(a),t.url=gm(Vm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),rm.isFormData(n))if(km.hasStandardBrowserEnv||km.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(rm.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&a.set(e,n)})}if(km.hasStandardBrowserEnv&&(r&&rm.isFunction(r)&&(r=r(t)),r||!1!==r&&Um(t.url))){const e=i&&s&&qm.read(s);e&&a.set(i,e)}return t},Gm="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=$m(e);let i=r.data;const s=Bm.from(r.headers).normalize();let a,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Bm.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Om(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new im("Request aborted",im.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=new im(t&&t.message?t.message:"Network Error",im.ERR_NETWORK,e,m);r.event=t||null,n(r),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||bm;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new im(t,i.clarifyTimeoutError?im.ETIMEDOUT:im.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&rm.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),rm.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),f&&([l,d]=Mm(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Mm(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Dm(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===km.protocols.indexOf(x)?n(new im("Unsupported protocol "+x+":",im.ERR_BAD_REQUEST,e)):m.send(i||null)})},Ym=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof im?t:new Dm(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new im(`timeout ${t} of ms exceeded`,im.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>rm.asap(a),o}},Km=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Jm=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Xm=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Jm(e))yield*Km(n,t)}(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},{isFunction:Qm}=rm,Zm=(({Request:e,Response:t})=>({Request:e,Response:t}))(rm.global),{ReadableStream:eg,TextEncoder:tg}=rm.global,ng=(e,...t)=>{try{return!!e(...t)}catch(iw){return!1}},rg=e=>{e=rm.merge.call({skipUndefined:!0},Zm,e);const{fetch:t,Request:n,Response:r}=e,i=t?Qm(t):"function"==typeof fetch,s=Qm(n),a=Qm(r);if(!i)return!1;const o=i&&Qm(eg),l=i&&("function"==typeof tg?(e=>t=>e.encode(t))(new tg):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=s&&o&&ng(()=>{let e=!1;const t=new n(km.origin,{body:new eg,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&o&&ng(()=>rm.isReadableStream(new r("").body)),u={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new im(`Response type '${e}' is not supported`,im.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=rm.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(rm.isBlob(e))return e.size;if(rm.isSpecCompliantForm(e)){const t=new n(km.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return rm.isArrayBufferView(e)||rm.isArrayBuffer(e)?e.byteLength:(rm.isURLSearchParams(e)&&(e+=""),rm.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:a,data:o,signal:l,cancelToken:f,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:x,headers:b,withCredentials:y="same-origin",fetchOptions:v}=$m(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let N=Ym([l,f&&f.toAbortSignal()],p),j=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(g&&c&&"get"!==a&&"head"!==a&&0!==(k=await h(b,o))){let e,t=new n(i,{method:"POST",body:o,duplex:"half"});if(rm.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=Im(k,Mm(zm(g)));o=Xm(t.body,65536,e,n)}}rm.isString(y)||(y=y?"include":"omit");const t=s&&"credentials"in n.prototype,l={...v,signal:N,method:a.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0};j=s&&new n(i,l);let f=await(s?w(j,v):w(i,l));const p=d&&("stream"===x||"response"===x);if(d&&(m||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=rm.toFiniteNumber(f.headers.get("content-length")),[n,i]=m&&Im(t,Mm(zm(m),!0))||[];f=new r(Xm(f.body,65536,n,()=>{i&&i(),S&&S()}),e)}x=x||"text";let A=await u[rm.findKey(u,x)||"text"](f,e);return!p&&S&&S(),await new Promise((t,n)=>{Om(t,n,{data:A,headers:Bm.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:j})})}catch(A){if(S&&S(),A&&"TypeError"===A.name&&/Load failed|fetch/i.test(A.message))throw Object.assign(new im("Network Error",im.ERR_NETWORK,e,j),{cause:A.cause||A});throw im.from(A,A&&A.code,e,j)}}},ig=new Map,sg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a,o,l=s.length,c=ig;for(;l--;)a=s[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:rg(t)),c=o;return o};sg();const ag={http:null,xhr:Gm,fetch:{get:sg}};rm.forEach(ag,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(iw){}Object.defineProperty(e,"adapterName",{value:t})}});const og=e=>`- ${e}`,lg=e=>rm.isFunction(e)||null===e||!1===e;const cg={getAdapter:function(e,t){e=rm.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){let n;if(r=e[a],i=r,!lg(r)&&(i=ag[(n=String(r)).toLowerCase()],void 0===i))throw new im(`Unknown adapter '${n}'`);if(i&&(rm.isFunction(i)||(i=i.get(t))))break;s[n||"#"+a]=i}if(!i){const e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new im("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(og).join("\n"):" "+og(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:ag};function dg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dm(null,e)}function ug(e){dg(e),e.headers=Bm.from(e.headers),e.data=Rm.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cg.getAdapter(e.adapter||Pm.adapter,e)(e).then(function(t){return dg(e),t.data=Rm.call(e,e.transformResponse,t),t.headers=Bm.from(t.headers),t},function(t){return Fm(t)||(dg(e),t&&t.response&&(t.response.data=Rm.call(e,e.transformResponse,t.response),t.response.headers=Bm.from(t.response.headers))),Promise.reject(t)})}const hg="1.13.2",fg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pg={};fg.transitional=function(e,t,n){function r(e,t){return"[Axios v"+hg+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new im(r(i," has been removed"+(t?" in "+t:"")),im.ERR_DEPRECATED);return t&&!pg[i]&&(pg[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},fg.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const mg={assertOptions:function(e,t,n){if("object"!=typeof e)throw new im("options must be an object",im.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new im("option "+s+" must be "+n,im.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new im("Unknown option "+s,im.ERR_BAD_OPTION)}},validators:fg},gg=mg.validators;let xg=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xm,response:new xm}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(iw){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Wm(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&mg.assertOptions(n,{silentJSONParsing:gg.transitional(gg.boolean),forcedJSONParsing:gg.transitional(gg.boolean),clarifyTimeoutError:gg.transitional(gg.boolean)},!1),null!=r&&(rm.isFunction(r)?t.paramsSerializer={serialize:r}:mg.assertOptions(r,{encode:gg.function,serialize:gg.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),mg.assertOptions(t,{baseUrl:gg.spelling("baseURL"),withXsrfToken:gg.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&rm.merge(i.common,i[t.method]);i&&rm.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=Bm.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[ug.bind(this),void 0];for(e.unshift(...a),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let h=t;for(;u<d;){const e=a[u++],t=a[u++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=ug.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return gm(Vm((e=Wm(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};rm.forEach(["delete","get","head","options"],function(e){xg.prototype[e]=function(t,n){return this.request(Wm(n||{},{method:e,url:t,data:(n||{}).data}))}}),rm.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(Wm(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}xg.prototype[e]=t(),xg.prototype[e+"Form"]=t(!0)});const bg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(bg).forEach(([e,t])=>{bg[t]=e});const yg=function e(t){const n=new xg(t),r=mp(xg.prototype.request,n);return rm.extend(r,xg.prototype,n,{allOwnKeys:!0}),rm.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Wm(t,n))},r}(Pm);yg.Axios=xg,yg.CanceledError=Dm,yg.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Dm(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},yg.isCancel=Fm,yg.VERSION=hg,yg.toFormData=um,yg.AxiosError=im,yg.Cancel=yg.CanceledError,yg.all=function(e){return Promise.all(e)},yg.spread=function(e){return function(t){return e.apply(null,t)}},yg.isAxiosError=function(e){return rm.isObject(e)&&!0===e.isAxiosError},yg.mergeConfig=Wm,yg.AxiosHeaders=Bm,yg.formToJSON=e=>Am(rm.isHTMLForm(e)?new FormData(e):e),yg.getAdapter=cg.getAdapter,yg.HttpStatusCode=bg,yg.default=yg;const{Axios:vg,AxiosError:wg,CanceledError:Ng,isCancel:jg,CancelToken:Sg,VERSION:kg,all:Ag,Cancel:Pg,isAxiosError:Lg,spread:Cg,toFormData:_g,AxiosHeaders:Eg,HttpStatusCode:Tg,formToJSON:Bg,getAdapter:Rg,mergeConfig:Fg}=yg,Dg={},Og=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Dg)return;Dg[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})};function Mg(e){return(Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ig=Uint8Array,zg=Uint16Array,Ug=Int32Array,qg=new Ig([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vg=new Ig([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hg=new Ig([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wg=function(e,t){for(var n=new zg(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Ug(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},$g=Wg(qg,2),Gg=$g.b,Yg=$g.r;Gg[28]=258,Yg[258]=28;for(var Kg=Wg(Vg,0).r,Jg=new zg(32768),Xg=0;Xg<32768;++Xg){var Qg=(43690&Xg)>>1|(21845&Xg)<<1;Qg=(61680&(Qg=(52428&Qg)>>2|(13107&Qg)<<2))>>4|(3855&Qg)<<4,Jg[Xg]=((65280&Qg)>>8|(255&Qg)<<8)>>1}var Zg=function(e,t,n){for(var r=e.length,i=0,s=new zg(t);i<r;++i)e[i]&&++s[e[i]-1];var a,o=new zg(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;if(n){a=new zg(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],u=o[e[i]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)a[Jg[u]>>l]=c}else for(a=new zg(r),i=0;i<r;++i)e[i]&&(a[i]=Jg[o[e[i]-1]++]>>15-e[i]);return a},ex=new Ig(288);for(Xg=0;Xg<144;++Xg)ex[Xg]=8;for(Xg=144;Xg<256;++Xg)ex[Xg]=9;for(Xg=256;Xg<280;++Xg)ex[Xg]=7;for(Xg=280;Xg<288;++Xg)ex[Xg]=8;var tx=new Ig(32);for(Xg=0;Xg<32;++Xg)tx[Xg]=5;var nx=Zg(ex,9,0),rx=Zg(tx,5,0),ix=function(e){return(e+7)/8|0},sx=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ax=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ox=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:px,l:0};if(1==i){var a=new Ig(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new zg(h+1),p=lx(n[d-1],f,0);if(p>t){r=0;var m=0,g=p-t,x=1<<g;for(s.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});r<i;++r){var b=s[r].s;if(!(f[b]>t))break;m+=x-(1<<p-f[b]),f[b]=t}for(m>>=g;m>0;){var y=s[r].s;f[y]<t?m-=1<<t-f[y]++-1:++r}for(;r>=0&&m;--r){var v=s[r].s;f[v]==t&&(--f[v],++m)}p=t}return{t:new Ig(f),l:p}},lx=function(e,t,n){return-1==e.s?Math.max(lx(e.l,t,n+1),lx(e.r,t,n+1)):t[e.s]=n},cx=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new zg(++t),r=0,i=e[0],s=1,a=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:n.subarray(0,r),n:t}},dx=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},ux=function(e,t,n){var r=n.length,i=ix(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},hx=function(e,t,n,r,i,s,a,o,l,c,d){sx(t,d++,n),++i[256];for(var u=ox(i,15),h=u.t,f=u.l,p=ox(s,15),m=p.t,g=p.l,x=cx(h),b=x.c,y=x.n,v=cx(m),w=v.c,N=v.n,j=new zg(19),S=0;S<b.length;++S)++j[31&b[S]];for(S=0;S<w.length;++S)++j[31&w[S]];for(var k=ox(j,7),A=k.t,P=k.l,L=19;L>4&&!A[Hg[L-1]];--L);var C,_,E,T,B=c+5<<3,R=dx(i,ex)+dx(s,tx)+a,F=dx(i,h)+dx(s,m)+a+14+3*L+dx(j,A)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&B<=R&&B<=F)return ux(t,d,e.subarray(l,l+c));if(sx(t,d,1+(F<R)),d+=2,F<R){C=Zg(h,f,0),_=h,E=Zg(m,g,0),T=m;var D=Zg(A,P,0);sx(t,d,y-257),sx(t,d+5,N-1),sx(t,d+10,L-4),d+=14;for(S=0;S<L;++S)sx(t,d+3*S,A[Hg[S]]);d+=3*L;for(var O=[b,w],M=0;M<2;++M){var I=O[M];for(S=0;S<I.length;++S){var z=31&I[S];sx(t,d,D[z]),d+=A[z],z>15&&(sx(t,d,I[S]>>5&127),d+=I[S]>>12)}}}else C=nx,_=ex,E=rx,T=tx;for(S=0;S<o;++S){var U=r[S];if(U>255){ax(t,d,C[(z=U>>18&31)+257]),d+=_[z+257],z>7&&(sx(t,d,U>>23&31),d+=qg[z]);var q=31&U;ax(t,d,E[q]),d+=T[q],q>3&&(ax(t,d,U>>5&8191),d+=Vg[q])}else ax(t,d,C[U]),d+=_[U]}return ax(t,d,C[256]),d+_[256]},fx=new Ug([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),px=new Ig(0),mx=function(e,t,n,r,i,s){var a=s.z||e.length,o=new Ig(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,d=7&(s.r||0);if(t){d&&(l[0]=s.r>>3);for(var u=fx[t-1],h=u>>13,f=8191&u,p=(1<<n)-1,m=s.p||new zg(32768),g=s.h||new zg(p+1),x=Math.ceil(n/3),b=2*x,y=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<b)&p},v=new Ug(25e3),w=new zg(288),N=new zg(32),j=0,S=0,k=s.i||0,A=0,P=s.w||0,L=0;k+2<a;++k){var C=y(k),_=32767&k,E=g[C];if(m[_]=E,g[C]=_,P<=k){var T=a-k;if((j>7e3||A>24576)&&(T>423||!c)){d=hx(e,l,0,v,w,N,S,A,L,k-L,d),A=j=S=0,L=k;for(var B=0;B<286;++B)w[B]=0;for(B=0;B<30;++B)N[B]=0}var R=2,F=0,D=f,O=_-E&32767;if(T>2&&C==y(k-O))for(var M=Math.min(h,T)-1,I=Math.min(32767,k),z=Math.min(258,T);O<=I&&--D&&_!=E;){if(e[k+R]==e[k+R-O]){for(var U=0;U<z&&e[k+U]==e[k+U-O];++U);if(U>R){if(R=U,F=O,U>M)break;var q=Math.min(O,U-2),V=0;for(B=0;B<q;++B){var H=k-O+B&32767,W=H-m[H]&32767;W>V&&(V=W,E=H)}}}O+=(_=E)-(E=m[_])&32767}if(F){v[A++]=268435456|Yg[R]<<18|Kg[F];var $=31&Yg[R],G=31&Kg[F];S+=qg[$]+Vg[G],++w[257+$],++N[G],P=k+R,++j}else v[A++]=e[k],++w[e[k]]}}for(k=Math.max(k,P);k<a;++k)v[A++]=e[k],++w[e[k]];d=hx(e,l,c,v,w,N,S,A,L,k-L,d),c||(s.r=7&d|l[d/8|0]<<3,d-=7,s.h=g,s.p=m,s.i=k,s.w=P)}else{for(k=s.w||0;k<a+c;k+=65535){var Y=k+65535;Y>=a&&(l[d/8|0]=c,Y=a),d=ux(l,d+1,e.subarray(k,Y))}s.i=a}return function(e,t,n){return(null==n||n>e.length)&&(n=e.length),new Ig(e.subarray(t,n))}(o,0,r+ix(d)+i)},gx=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=0|n.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},xx=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function bx(e,t){t||(t={});var n=gx();n.p(e);var r=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Ig(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return mx(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)}(e,t,t.dictionary?6:2,4);return function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=gx();i.p(t.dictionary),xx(e,2,i.d())}}(r,t),xx(r,r.length-4,n.d()),r}var yx="undefined"!=typeof TextDecoder&&new TextDecoder;try{yx.decode(px,{stream:!0})}catch(iw){}function vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nx(e,t="utf8"){return new TextDecoder(t).decode(e)}const jx=new TextEncoder;const Sx=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),kx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ax{constructor(e=8192,n={}){t(this,"buffer"),t(this,"byteLength"),t(this,"byteOffset"),t(this,"length"),t(this,"offset"),t(this,"lastWrittenByte"),t(this,"littleEndian"),t(this,"_data"),t(this,"_mark"),t(this,"_marks");let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Ax)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=kx[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,i=this.buffer.slice(r,r+n);if(this.littleEndian===Sx&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const i=new kx[t](e.buffer);return this.offset+=n,i.reverse(),i}const s=new kx[t](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return Nx(this.readBytes(e))}decodeText(e=1,t="utf8"){return Nx(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return jx.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Px(e){let t=e.length;for(;--t>=0;)e[t]=0}Px(new Array(576));Px(new Array(60));Px(new Array(512));Px(new Array(256));Px(new Array(29));Px(new Array(30));var Lx=(e,t,n,r)=>{let i=65535&e,s=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16};const Cx=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var _x=(e,t,n,r)=>{const i=Cx,s=r+n;e^=-1;for(let a=r;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},Ex={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Tx={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Bx=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Rx=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Bx(n,t)&&(e[t]=n[t])}}return e},Fx=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let Dx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch($_){Dx=!1}const Ox=new Uint8Array(256);for(let G_=0;G_<256;G_++)Ox[G_]=G_>=252?6:G_>=248?5:G_>=240?4:G_>=224?3:G_>=192?2:1;Ox[254]=Ox[254]=1;var Mx=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},Ix=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){s[i++]=t;continue}let a=Ox[t];if(a>4)s[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Dx)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,i)},zx=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Ox[e[n]]>t?n:t};var Ux=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const qx=16209;var Vx=function(e,t){let n,r,i,s,a,o,l,c,d,u,h,f,p,m,g,x,b,y,v,w,N,j,S,k;const A=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),i=e.next_out,k=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),o=A.dmax,l=A.wsize,c=A.whave,d=A.wnext,u=A.window,h=A.hold,f=A.bits,p=A.lencode,m=A.distcode,g=(1<<A.lenbits)-1,x=(1<<A.distbits)-1;e:do{f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),b=p[h&g];t:for(;;){if(y=b>>>24,h>>>=y,f-=y,y=b>>>16&255,0===y)k[i++]=65535&b;else{if(!(16&y)){if(64&y){if(32&y){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=qx;break e}b=p[(65535&b)+(h&(1<<y)-1)];continue t}for(v=65535&b,y&=15,y&&(f<y&&(h+=S[n++]<<f,f+=8),v+=h&(1<<y)-1,h>>>=y,f-=y),f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),b=m[h&x];;){if(y=b>>>24,h>>>=y,f-=y,y=b>>>16&255,16&y){if(w=65535&b,y&=15,f<y&&(h+=S[n++]<<f,f+=8,f<y&&(h+=S[n++]<<f,f+=8)),w+=h&(1<<y)-1,w>o){e.msg="invalid distance too far back",A.mode=qx;break e}if(h>>>=y,f-=y,y=i-s,w>y){if(y=w-y,y>c&&A.sane){e.msg="invalid distance too far back",A.mode=qx;break e}if(N=0,j=u,0===d){if(N+=l-y,y<v){v-=y;do{k[i++]=u[N++]}while(--y);N=i-w,j=k}}else if(d<y){if(N+=l+d-y,y-=d,y<v){v-=y;do{k[i++]=u[N++]}while(--y);if(N=0,d<v){y=d,v-=y;do{k[i++]=u[N++]}while(--y);N=i-w,j=k}}}else if(N+=d-y,y<v){v-=y;do{k[i++]=u[N++]}while(--y);N=i-w,j=k}for(;v>2;)k[i++]=j[N++],k[i++]=j[N++],k[i++]=j[N++],v-=3;v&&(k[i++]=j[N++],v>1&&(k[i++]=j[N++]))}else{N=i-w;do{k[i++]=k[N++],k[i++]=k[N++],k[i++]=k[N++],v-=3}while(v>2);v&&(k[i++]=k[N++],v>1&&(k[i++]=k[N++]))}break}if(64&y){e.msg="invalid distance code",A.mode=qx;break e}b=m[(65535&b)+(h&(1<<y)-1)]}}break}}while(n<r&&i<a);v=f>>3,n-=v,f-=v<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),A.hold=h,A.bits=f};const Hx=15,Wx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$x=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Yx=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Kx=(e,t,n,r,i,s,a,o)=>{const l=o.bits;let c,d,u,h,f,p,m=0,g=0,x=0,b=0,y=0,v=0,w=0,N=0,j=0,S=0,k=null;const A=new Uint16Array(16),P=new Uint16Array(16);let L,C,_,E=null;for(m=0;m<=Hx;m++)A[m]=0;for(g=0;g<r;g++)A[t[n+g]]++;for(y=l,b=Hx;b>=1&&0===A[b];b--);if(y>b&&(y=b),0===b)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(x=1;x<b&&0===A[x];x++);for(y<x&&(y=x),N=1,m=1;m<=Hx;m++)if(N<<=1,N-=A[m],N<0)return-1;if(N>0&&(0===e||1!==b))return-1;for(P[1]=0,m=1;m<Hx;m++)P[m+1]=P[m]+A[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[P[t[n+g]]++]=g);if(0===e?(k=E=a,p=20):1===e?(k=Wx,E=$x,p=257):(k=Gx,E=Yx,p=0),S=0,g=0,m=x,f=s,v=y,w=0,u=-1,j=1<<y,h=j-1,1===e&&j>852||2===e&&j>592)return 1;for(;;){L=m-w,a[g]+1<p?(C=0,_=a[g]):a[g]>=p?(C=E[a[g]-p],_=k[a[g]-p]):(C=96,_=0),c=1<<m-w,d=1<<v,x=d;do{d-=c,i[f+(S>>w)+d]=L<<24|C<<16|_}while(0!==d);for(c=1<<m-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0===--A[m]){if(m===b)break;m=t[n+a[g]]}if(m>y&&(S&h)!==u){for(0===w&&(w=y),f+=x,v=m-w,N=1<<v;v+w<b&&(N-=A[v+w],!(N<=0));)v++,N<<=1;if(j+=1<<v,1===e&&j>852||2===e&&j>592)return 1;u=S&h,i[u]=y<<24|v<<16|f-s}}return 0!==S&&(i[f+S]=m-w<<24|64<<16),o.bits=y,0};const{Z_FINISH:Jx,Z_BLOCK:Xx,Z_TREES:Qx,Z_OK:Zx,Z_STREAM_END:eb,Z_NEED_DICT:tb,Z_STREAM_ERROR:nb,Z_DATA_ERROR:rb,Z_MEM_ERROR:ib,Z_BUF_ERROR:sb,Z_DEFLATED:ab}=Tx,ob=16180,lb=16190,cb=16191,db=16192,ub=16194,hb=16199,fb=16200,pb=16206,mb=16209,gb=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function xb(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bb=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ob||t.mode>16211?1:0},yb=e=>{if(bb(e))return nb;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=ob,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Zx},vb=e=>{if(bb(e))return nb;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,yb(e)},wb=(e,t)=>{let n;if(bb(e))return nb;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?nb:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,vb(e))},Nb=(e,t)=>{if(!e)return nb;const n=new xb;e.state=n,n.strm=e,n.window=null,n.mode=ob;const r=wb(e,t);return r!==Zx&&(e.state=null),r};let jb,Sb,kb=!0;const Ab=e=>{if(kb){jb=new Int32Array(512),Sb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Kx(1,e.lens,0,288,jb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Kx(2,e.lens,0,32,Sb,0,e.work,{bits:5}),kb=!1}e.lencode=jb,e.lenbits=9,e.distcode=Sb,e.distbits=5},Pb=(e,t,n,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Lb={inflateReset:vb,inflateReset2:wb,inflateResetKeep:yb,inflateInit:e=>Nb(e,15),inflateInit2:Nb,inflate:(e,t)=>{let n,r,i,s,a,o,l,c,d,u,h,f,p,m,g,x,b,y,v,w,N,j,S=0;const k=new Uint8Array(4);let A,P;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bb(e)||!e.output||!e.input&&0!==e.avail_in)return nb;n=e.state,n.mode===cb&&(n.mode=db),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,j=Zx;e:for(;;)switch(n.mode){case ob:if(0===n.wrap){n.mode=db;break}for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,k[0]=255&c,k[1]=c>>>8&255,n.check=_x(n.check,k,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=mb;break}if((15&c)!==ab){e.msg="unknown compression method",n.mode=mb;break}if(c>>>=4,d-=4,N=8+(15&c),0===n.wbits&&(n.wbits=N),N>15||N>n.wbits){e.msg="invalid window size",n.mode=mb;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:cb,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==ab){e.msg="unknown compression method",n.mode=mb;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=mb;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=_x(n.check,k,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=_x(n.check,k,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=_x(n.check,k,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=_x(n.check,k,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>o&&(f=o),f&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),N)),512&n.flags&&4&n.wrap&&(n.check=_x(n.check,r,f,s)),o-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;f=0;do{N=r[s+f++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=_x(n.check,r,f,s)),o-=f,s+=f,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;f=0;do{N=r[s+f++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=_x(n.check,r,f,s)),o-=f,s+=f,N)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=mb;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=cb;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}e.adler=n.check=gb(c),c=0,d=0,n.mode=lb;case lb:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,tb;e.adler=n.check=1,n.mode=cb;case cb:if(t===Xx||t===Qx)break e;case db:if(n.last){c>>>=7&d,d-=7&d,n.mode=pb;break}for(;d<3;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(Ab(n),n.mode=hb,t===Qx){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=mb}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=mb;break}if(n.length=65535&c,c=0,d=0,n.mode=ub,t===Qx)break e;case ub:n.mode=16195;case 16195:if(f=n.length,f){if(f>o&&(f=o),f>l&&(f=l),0===f)break e;i.set(r.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,n.length-=f;break}n.mode=cb;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=mb;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.lens[L[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},j=Kx(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,j){e.msg="invalid code lengths set",n.mode=mb;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,x=S>>>16&255,b=65535&S,!(g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(P=g+2;d<P;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=mb;break}N=n.lens[n.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===b){for(P=g+3;d<P;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=g,d-=g,N=0,f=3+(7&c),c>>>=3,d-=3}else{for(P=g+7;d<P;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=g,d-=g,N=0,f=11+(127&c),c>>>=7,d-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=mb;break}for(;f--;)n.lens[n.have++]=N}}if(n.mode===mb)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=mb;break}if(n.lenbits=9,A={bits:n.lenbits},j=Kx(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,j){e.msg="invalid literal/lengths set",n.mode=mb;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},j=Kx(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,j){e.msg="invalid distances set",n.mode=mb;break}if(n.mode=hb,t===Qx)break e;case hb:n.mode=fb;case fb:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,Vx(e,h),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===cb&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,x=S>>>16&255,b=65535&S,!(g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(x&&!(240&x)){for(y=g,v=x,w=b;S=n.lencode[w+((c&(1<<y+v)-1)>>y)],g=S>>>24,x=S>>>16&255,b=65535&S,!(y+g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===x){n.mode=16205;break}if(32&x){n.back=-1,n.mode=cb;break}if(64&x){e.msg="invalid literal/length code",n.mode=mb;break}n.extra=15&x,n.mode=16201;case 16201:if(n.extra){for(P=n.extra;d<P;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[c&(1<<n.distbits)-1],g=S>>>24,x=S>>>16&255,b=65535&S,!(g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(!(240&x)){for(y=g,v=x,w=b;S=n.distcode[w+((c&(1<<y+v)-1)>>y)],g=S>>>24,x=S>>>16&255,b=65535&S,!(y+g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&x){e.msg="invalid distance code",n.mode=mb;break}n.offset=b,n.extra=15&x,n.mode=16203;case 16203:if(n.extra){for(P=n.extra;d<P;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=mb;break}n.mode=16204;case 16204:if(0===l)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=mb;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=a-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{i[a++]=m[p++]}while(--f);0===n.length&&(n.mode=fb);break;case 16205:if(0===l)break e;i[a++]=n.length,l--,n.mode=fb;break;case pb:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=r[s++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?_x(n.check,i,h,a-h):Lx(n.check,i,h,a-h)),h=l,4&n.wrap&&(n.flags?c:gb(c))!==n.check){e.msg="incorrect data check",n.mode=mb;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=mb;break}c=0,d=0}n.mode=16208;case 16208:j=eb;break e;case mb:j=rb;break e;case 16210:return ib;default:return nb}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<mb&&(n.mode<pb||t!==Jx))&&Pb(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?_x(n.check,i,h,e.next_out-h):Lx(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===cb?128:0)+(n.mode===hb||n.mode===ub?256:0),(0===u&&0===h||t===Jx)&&j===Zx&&(j=sb),j},inflateEnd:e=>{if(bb(e))return nb;let t=e.state;return t.window&&(t.window=null),e.state=null,Zx},inflateGetHeader:(e,t)=>{if(bb(e))return nb;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,Zx):nb},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,s;return bb(e)?nb:(r=e.state,0!==r.wrap&&r.mode!==lb?nb:r.mode===lb&&(i=1,i=Lx(i,t,n,0),i!==r.check)?rb:(s=Pb(e,t,n,n),s?(r.mode=16210,ib):(r.havedict=1,Zx)))},inflateInfo:"pako inflate (from Nodeca project)"};var Cb=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const _b=Object.prototype.toString,{Z_NO_FLUSH:Eb,Z_FINISH:Tb,Z_OK:Bb,Z_STREAM_END:Rb,Z_NEED_DICT:Fb,Z_STREAM_ERROR:Db,Z_DATA_ERROR:Ob,Z_MEM_ERROR:Mb}=Tx;function Ib(e){this.options=Rx({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ux,this.strm.avail_out=0;let n=Lb.inflateInit2(this.strm,t.windowBits);if(n!==Bb)throw new Error(Ex[n]);if(this.header=new Cb,Lb.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Mx(t.dictionary):"[object ArrayBuffer]"===_b.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Lb.inflateSetDictionary(this.strm,t.dictionary),n!==Bb)))throw new Error(Ex[n])}Ib.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Tb:Eb,"[object ArrayBuffer]"===_b.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Lb.inflate(n,a),s===Fb&&i&&(s=Lb.inflateSetDictionary(n,i),s===Bb?s=Lb.inflate(n,a):s===Ob&&(s=Fb));n.avail_in>0&&s===Rb&&n.state.wrap>0&&0!==e[n.next_in];)Lb.inflateReset(n),s=Lb.inflate(n,a);switch(s){case Db:case Ob:case Fb:case Mb:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===Rb))if("string"===this.options.to){let e=zx(n.output,n.next_out),t=n.next_out-e,i=Ix(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==Bb||0!==o){if(s===Rb)return s=Lb.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Ib.prototype.onData=function(e){this.chunks.push(e)},Ib.prototype.onEnd=function(e){e===Bb&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Fx(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var zb={Inflate:Ib,inflate:function(e,t){const n=new Ib(t);if(n.push(e),n.err)throw n.msg||Ex[n.err];return n.result}};const{Inflate:Ub,inflate:qb}=zb;var Vb=Ub,Hb=qb;const Wb=[];for(let G_=0;G_<256;G_++){let e=G_;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Wb[G_]=e}const $b=4294967295;function Gb(e,t){return(function(e,t,n){let r=e;for(let i=0;i<n;i++)r=Wb[255&(r^t[i])]^r>>>8;return r}($b,e,t)^$b)>>>0}function Yb(e,t,n){const r=e.readUint32(),i=Gb(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Kb(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Jb(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function Xb(e,t,n,r){let i=0;if(0===n.length)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Qb(e,t,n,r,i){let s=0;if(0===n.length){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function Zb(e,t,n,r,i){let s=0;if(0===n.length){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+ey(t[s-i],n[s],n[s-i])&255}}function ey(e,t,n){const r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),a=Math.abs(r-n);return i<=s&&i<=a?e:s<=a?t:n}function ty(e,t,n,r,i,s){switch(e){case 0:Kb(t,n,i);break;case 1:Jb(t,n,i,s);break;case 2:Xb(t,n,r,i);break;case 3:Qb(t,n,r,i,s);break;case 4:Zb(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ny=new Uint16Array([255]),ry=255===new Uint8Array(ny.buffer)[0];function iy(e){return(255&e)<<8|e>>8&255}const sy=new Uint16Array([255]),ay=255===new Uint8Array(sy.buffer)[0],oy=new Uint8Array(0);function ly(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c,d,u=oy,h=0;for(let f=0;f<r;f++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(f*o,(f+1)*o),t[h]){case 0:Kb(c,d,o);break;case 1:Jb(c,d,o,a);break;case 2:Xb(c,d,u,o);break;case 3:Qb(c,d,u,o,a);break;case 4:Zb(c,d,u,o,a);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=d,h+=o+1}if(16===s){const e=new Uint16Array(l.buffer);if(ay)for(let t=0;t<e.length;t++)e[t]=cy(e[t]);return e}return l}function cy(e){return(255&e)<<8|e>>8&255}const dy=Uint8Array.of(137,80,78,71,13,10,26,10);function uy(e){if(!function(e){if(e.length<dy.length)return!1;for(let t=0;t<dy.length;t++)if(e[t]!==dy[t])return!1;return!0}(e.readBytes(dy.length)))throw new Error("wrong PNG signature")}const hy=new TextDecoder("latin1");function fy(e){if(function(e){if(!py.test(e))throw new Error("invalid latin1 text")}(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const py=/^[\u0000-\u00FF]*$/;function my(e,t,n){const r=gy(t);e[r]=function(e,t){return hy.decode(e.readBytes(t))}(t,n-r.length-1)}function gy(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=hy.decode(e.readBytes(t-e.offset-1));return e.skip(1),fy(n),n}const xy=-1,by=0,yy=2,vy=3,wy=4,Ny=6,jy=-1,Sy=0,ky=-1,Ay=0,Py=-1,Ly=0,Cy=1,_y=0,Ey=1,Ty=2,By=0,Ry=1;class Fy extends Ax{constructor(e,n={}){super(e),t(this,"_checkCrc"),t(this,"_inflator"),t(this,"_png"),t(this,"_apng"),t(this,"_end"),t(this,"_hasPalette"),t(this,"_palette"),t(this,"_hasTransparency"),t(this,"_transparency"),t(this,"_compressionMethod"),t(this,"_filterMethod"),t(this,"_interlaceMethod"),t(this,"_colorType"),t(this,"_isAnimated"),t(this,"_numberOfFrames"),t(this,"_numberOfPlays"),t(this,"_frames"),t(this,"_writingDataChunks");const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new Vb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jy,this._filterMethod=ky,this._interlaceMethod=Py,this._colorType=xy,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(uy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":my(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Yb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Yb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case by:n=1;break;case yy:n=3;break;case vy:n=1;break;case wy:n=2;break;case Ny:n=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Sy)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case by:case yy:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case vy:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=gy(this),n=this.readUint8();if(n!==Sy)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Hb(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=ly({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case _y:break;case Ey:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const i=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[i+e]=0}break;case Ty:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case By:for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){const{index:s,frameIndex:a}=r(n,i);for(let n=0;n<this._png.channels;n++)e.data[s+n]=t.data[a+n]}break;case Ry:for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:o}=r(i,s);for(let r=0;r<this._png.channels;r++){const i=t.data[o+this._png.channels-1]/n,s=r%(this._png.channels-1)==0?1:t.data[o+r],l=Math.floor(i*s+(1-i)*e.data[a+r]);e.data[a+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(null==(e=this._frames)?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==Ay)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ly)this._png.data=ly({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==Cy)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const e=a[d],i=Math.ceil((n-e.x)/e.xStep),s=Math.ceil((r-e.y)/e.yStep);if(i<=0||s<=0)continue;const u=i*o,h=new Uint8Array(u);for(let a=0;a<s;a++){const s=t[c++],d=t.subarray(c,c+u);c+=u;const f=new Uint8Array(u);ty(s,d,f,h,u,o),h.set(f);for(let t=0;t<i;t++){const i=e.x+t*e.xStep,s=e.y+a*e.yStep;if(!(i>=n||s>=r))for(let e=0;e<o;e++)l[(s*n+i)*o+e]=f[t*o+e]}}}if(16===s){const e=new Uint16Array(l.buffer);if(ry)for(let t=0;t<e.length;t++)e[t]=iy(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_y,blendOp:By,data:e}),this._inflator=new Vb,this._writingDataChunks=!1}}var Dy,Oy;(Oy=Dy||(Dy={}))[Oy.UNKNOWN=0]="UNKNOWN",Oy[Oy.METRE=1]="METRE";var My=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function Iy(){My.console&&"function"==typeof My.console.log&&My.console.log.apply(My.console,arguments)}var zy={log:Iy,warn:function(e){My.console&&("function"==typeof My.console.warn?My.console.warn.apply(My.console,arguments):Iy.call(null,arguments))},error:function(e){My.console&&("function"==typeof My.console.error?My.console.error.apply(My.console,arguments):Iy(e))}};function Uy(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Hy(r.response,t,n)},r.onerror=function(){zy.error("could not download file")},r.send()}function qy(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function Vy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Hy=My.saveAs||("object"!==("undefined"==typeof window?"undefined":Mg(window))||window!==My?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=My.URL||My.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?qy(i.href)?Uy(e,t,n):Vy(i,i.target="_blank"):Vy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(qy(e))Uy(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Vy(r)})}else navigator.msSaveOrOpenBlob((i=e,void 0===(s=n)?s={autoBom:!1}:"object"!==Mg(s)&&(zy.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),t);var i,s}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Uy(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(My.HTMLElement)||My.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":Mg(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=My.URL||My.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Wy(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var $y=My.atob.bind(My),Gy=My.btoa.bind(My);
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yy(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Jy(n,r,i,s,t[0],7,-680876936),s=Jy(s,n,r,i,t[1],12,-389564586),i=Jy(i,s,n,r,t[2],17,606105819),r=Jy(r,i,s,n,t[3],22,-1044525330),n=Jy(n,r,i,s,t[4],7,-176418897),s=Jy(s,n,r,i,t[5],12,1200080426),i=Jy(i,s,n,r,t[6],17,-1473231341),r=Jy(r,i,s,n,t[7],22,-45705983),n=Jy(n,r,i,s,t[8],7,1770035416),s=Jy(s,n,r,i,t[9],12,-1958414417),i=Jy(i,s,n,r,t[10],17,-42063),r=Jy(r,i,s,n,t[11],22,-1990404162),n=Jy(n,r,i,s,t[12],7,1804603682),s=Jy(s,n,r,i,t[13],12,-40341101),i=Jy(i,s,n,r,t[14],17,-1502002290),n=Xy(n,r=Jy(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Xy(s,n,r,i,t[6],9,-1069501632),i=Xy(i,s,n,r,t[11],14,643717713),r=Xy(r,i,s,n,t[0],20,-373897302),n=Xy(n,r,i,s,t[5],5,-701558691),s=Xy(s,n,r,i,t[10],9,38016083),i=Xy(i,s,n,r,t[15],14,-660478335),r=Xy(r,i,s,n,t[4],20,-405537848),n=Xy(n,r,i,s,t[9],5,568446438),s=Xy(s,n,r,i,t[14],9,-1019803690),i=Xy(i,s,n,r,t[3],14,-187363961),r=Xy(r,i,s,n,t[8],20,1163531501),n=Xy(n,r,i,s,t[13],5,-1444681467),s=Xy(s,n,r,i,t[2],9,-51403784),i=Xy(i,s,n,r,t[7],14,1735328473),n=Qy(n,r=Xy(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Qy(s,n,r,i,t[8],11,-2022574463),i=Qy(i,s,n,r,t[11],16,1839030562),r=Qy(r,i,s,n,t[14],23,-35309556),n=Qy(n,r,i,s,t[1],4,-1530992060),s=Qy(s,n,r,i,t[4],11,1272893353),i=Qy(i,s,n,r,t[7],16,-155497632),r=Qy(r,i,s,n,t[10],23,-1094730640),n=Qy(n,r,i,s,t[13],4,681279174),s=Qy(s,n,r,i,t[0],11,-358537222),i=Qy(i,s,n,r,t[3],16,-722521979),r=Qy(r,i,s,n,t[6],23,76029189),n=Qy(n,r,i,s,t[9],4,-640364487),s=Qy(s,n,r,i,t[12],11,-421815835),i=Qy(i,s,n,r,t[15],16,530742520),n=Zy(n,r=Qy(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Zy(s,n,r,i,t[7],10,1126891415),i=Zy(i,s,n,r,t[14],15,-1416354905),r=Zy(r,i,s,n,t[5],21,-57434055),n=Zy(n,r,i,s,t[12],6,1700485571),s=Zy(s,n,r,i,t[3],10,-1894986606),i=Zy(i,s,n,r,t[10],15,-1051523),r=Zy(r,i,s,n,t[1],21,-2054922799),n=Zy(n,r,i,s,t[8],6,1873313359),s=Zy(s,n,r,i,t[15],10,-30611744),i=Zy(i,s,n,r,t[6],15,-1560198380),r=Zy(r,i,s,n,t[13],21,1309151649),n=Zy(n,r,i,s,t[4],6,-145523070),s=Zy(s,n,r,i,t[11],10,-1120210379),i=Zy(i,s,n,r,t[2],15,718787259),r=Zy(r,i,s,n,t[9],21,-343485551),e[0]=ov(n,e[0]),e[1]=ov(r,e[1]),e[2]=ov(i,e[2]),e[3]=ov(s,e[3])}function Ky(e,t,n,r,i,s){return t=ov(ov(t,e),ov(r,s)),ov(t<<i|t>>>32-i,n)}function Jy(e,t,n,r,i,s,a){return Ky(t&n|~t&r,e,t,i,s,a)}function Xy(e,t,n,r,i,s,a){return Ky(t&r|n&~r,e,t,i,s,a)}function Qy(e,t,n,r,i,s,a){return Ky(t^n^r,e,t,i,s,a)}function Zy(e,t,n,r,i,s,a){return Ky(n^(t|~r),e,t,i,s,a)}function ev(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Yy(r,tv(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Yy(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Yy(r,i),r}function tv(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var nv="0123456789abcdef".split("");function rv(e){for(var t="",n=0;n<4;n++)t+=nv[e>>8*n+4&15]+nv[e>>8*n&15];return t}function iv(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function sv(e){return ev(e).map(iv).join("")}var av="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=rv(e[t]);return e.join("")}(ev("hello"));function ov(e,t){if(av){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function lv(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,f=0,p="";for(l=0;l<u;l++)f=(f+(d=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=d,a=o[(o[h]+o[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^a);return p}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var cv={print:4,modify:8,copy:16,"annot-forms":32};function dv(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==cv.perm)throw new Error("Invalid permission: "+e);i+=cv[e]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=sv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=lv(this.encryptionKey,this.padding)}function uv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function hv(e){if("object"!==Mg(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(o){My.console&&zy.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function fv(e){if(!(this instanceof fv))return new fv(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function pv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function mv(e,t,n,r,i){if(!(this instanceof mv))return new mv(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,pv.call(this,r,i)}function gv(e,t,n,r,i){if(!(this instanceof gv))return new gv(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,pv.call(this,r,i)}function xv(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;"object"===Mg(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===s?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=hv;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(e){p=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var x=f.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var b="compat",y="advanced",v=b;function w(){this.saveGraphicsState(),X(new Ee(he,0,0,-he,0,fn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",v=y}function N(){this.restoreGraphicsState(),c="S",v=b}var j=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},f.compatAPI=function(e){var t=v===y;return t&&N.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.isAdvancedAPI=function(){return v===y};var S,k=function(e){if(v!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};S=f.hpf=f.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,16)};var P=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return A(e,2)},L=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return A(e,3)},C=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b?e*he:v===y?e:void 0},_=function(e){return C((t=e,v===b?fn()-t:v===y?t:void 0));var t};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,T="00000000000000000000000000000000",B=f.__private__.getFileId=function(){return T},R=f.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(bt=new dv(d.userPermissions,d.userPassword,d.ownerPassword,T)),T};f.setFileId=function(e){return R(e),this},f.getFileId=function(){return B()};var F=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),s=[n,z(r),"'",z(i),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),s].join("")},D=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,s,a,0)},O=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=F(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},M=f.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=D(E)),t};f.setCreationDate=function(e){return O(e),this},f.getCreationDate=function(e){return M(e)};var I,z=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,V=[],H=[],W=0,$=[],G=[],Y=!1,K=H;f.__private__.setCustomOutputDestination=function(e){Y=!0,K=e};var J=function(e){Y||(K=e)};f.__private__.resetCustomOutputDestination=function(){Y=!1,K=H};var X=f.__private__.out=function(e){return e=e.toString(),W+=e.length+1,K.push(e),K},Q=f.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return te=v===y?e/he:e,this};var ne,re=f.__private__.getFontSize=f.getFontSize=function(){return v===b?te:te*he},ie=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return ie=e,this},f.__private__.getR2L=f.getR2L=function(){return ie};var se,ae=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};f.__private__.getZoomMode=function(){return ne};var oe,le=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};f.__private__.getPageMode=function(){return se};var ce=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};f.__private__.getLayoutMode=function(){return oe},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return ae(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},f.__private__.getDocumentProperties=function(){return de},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,fe,pe,me,ge={},xe={},be=[],ye={},ve={},we={},Ne={},je=null,Se=0,ke=[],Ae=new hv(f),Pe=e.hotfixes||[],Le={},Ce={},_e=[],Ee=function e(t,n,r,i,s,a){if(!(this instanceof e))return new e(t,n,r,i,s,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(s)&&(s=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,s,a]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(e)},Ee.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ee(t,n,r,i,s,a)},Ee.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=Math.sqrt(e*e+t*t),o=(e/=a)*n+(t/=a)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,a=-a),{scale:new Ee(a,0,0,l,0,0),translate:new Ee(1,0,0,1,i,s),rotate:new Ee(e,t,-t,e,0,0),skew:new Ee(1,0,o,1,0,0)}},Ee.prototype.toString=function(e){return this.join(" ")},Ee.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=1/(e*r-t*n),o=r*a,l=-t*a,c=-n*a,d=e*a;return new Ee(o,l,c,d,-o*i-c*s,-l*i-d*s)},Ee.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ee.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ee.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty;return new Ee(e,t,n,r,i,s)},f.Matrix=Ee;var Te=f.matrixMult=function(e,t){return t.multiply(e)},Be=new Ee(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Be;var Re=function(e,t){if(!ve[e]){var n=(t instanceof mv?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,ve[e]=n,ye[n]=t,Ae.publish("addPattern",t)}};f.ShadingPattern=mv,f.TilingPattern=gv,f.addShadingPattern=function(e,t){return k("addShadingPattern()"),Re(e,t),this},f.beginTilingPattern=function(e){k("beginTilingPattern()"),sn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){k("endTilingPattern()"),t.stream=G[I].join("\n"),Re(e,t),Ae.publish("endTilingPattern",t),_e.pop().restore()};var Fe,De=f.__private__.newObject=function(){var e=Oe();return Me(e,!0),e},Oe=f.__private__.newObjectDeferred=function(){return q++,V[q]=function(){return W},q},Me=function(e,t){return t="boolean"==typeof t&&t,V[e]=W,t&&X(e+" 0 obj"),e},Ie=f.__private__.newAdditionalObject=function(){var e={objId:Oe(),content:""};return $.push(e),e},ze=Oe(),Ue=Oe(),qe=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ve=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,s=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new Wy(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===s&&n===r&&r===i)t="string"==typeof n?n+" "+a[0]:2===e.precision?P(n/255)+" "+a[0]:L(n/255)+" "+a[0];else if(void 0===s||"object"===Mg(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");t="string"==typeof n?[n,r,i,a[1]].join(" "):2===e.precision?[P(n/255),P(r/255),P(i/255),a[1]].join(" "):[L(n/255),L(r/255),L(i/255),a[1]].join(" ")}else t="string"==typeof n?[n,r,i,s,a[2]].join(" "):2===e.precision?[P(n),P(r),P(i),P(s),a[2]].join(" "):[L(n),L(r),L(i),L(s),a[2]].join(" ");return t},He=f.__private__.getFilters=function(){return a},We=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||He(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,s=t.length,a=e.objectId,o=function(e){return e};if(null!==d&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=bt.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==xv.API.processDataByFilters?xv.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:s})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[h].value),c[h].value="["+f.join(" ")+"]"}}X("<<");for(var m=0;m<c.length;m++)X("/"+c[m].key+" "+c[m].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},$e=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Me(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(S(e.mediaBox.bottomLeftX))+" "+parseFloat(S(e.mediaBox.bottomLeftY))+" "+S(e.mediaBox.topRightX)+" "+S(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+S(e.cropBox.bottomLeftX)+" "+S(e.cropBox.bottomLeftY)+" "+S(e.cropBox.topRightX)+" "+S(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+S(e.bleedBox.bottomLeftX)+" "+S(e.bleedBox.bottomLeftY)+" "+S(e.bleedBox.topRightX)+" "+S(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+S(e.trimBox.bottomLeftX)+" "+S(e.trimBox.bottomLeftY)+" "+S(e.trimBox.topRightX)+" "+S(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+S(e.artBox.bottomLeftX)+" "+S(e.artBox.bottomLeftY)+" "+S(e.artBox.topRightX)+" "+S(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ae.publish("putPage",{objId:r,pageContext:ke[t],pageNumber:t,page:n}),X("/Contents "+i+" 0 R"),X(">>"),X("endobj");var s=n.join("\n");return v===y&&(s+="\nQ"),Me(i,!0),We({data:s,filters:He(),objectId:i}),X("endobj"),r},Ge=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Se;e++)ke[e].objId=Oe(),ke[e].contentsObjId=Oe();for(e=1;e<=Se;e++)n.push($e({number:e,data:G[e],objId:ke[e].objId,contentsObjId:ke[e].contentsObjId,mediaBox:ke[e].mediaBox,cropBox:ke[e].cropBox,bleedBox:ke[e].bleedBox,trimBox:ke[e].trimBox,artBox:ke[e].artBox,userUnit:ke[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:Ue}));Me(ze,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<Se;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+Se),X(">>"),X("endobj"),Ae.publish("postPutPages")},Ye=function(e){Ae.publish("putFont",{font:e,out:X,newObject:De,putStream:We}),!0!==e.isAlreadyPutted&&(e.objectNumber=De(),X("<<"),X("/Type /Font"),X("/BaseFont /"+uv(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ke=function(e){e.objectNumber=De();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[S(e.x),S(e.y),S(e.x+e.width),S(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");We({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=De(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,f=e[l+1].color;o+=U(Math.round((1-u)*h[0]+u*f[0]).toString(16))+U(Math.round((1-u)*h[1]+u*f[1]).toString(16))+U(Math.round((1-u)*h[2]+u*f[2]).toString(16))}return o.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=De(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var s="/Coords ["+S(parseFloat(e.coords[0]))+" "+S(parseFloat(e.coords[1]))+" ";2===e.type?s+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3])):s+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3]))+" "+S(parseFloat(e.coords[4]))+" "+S(parseFloat(e.coords[5])),X(s+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=Oe(),r=De();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(S).join(" ")+"]"}),i.push({key:"XStep",value:S(e.xStep)}),i.push({key:"YStep",value:S(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),We({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=De(),X("<<"),e)switch(t){case"opacity":X("/ca "+P(e[t]));break;case"stroke-opacity":X("/CA "+P(e[t]))}X(">>"),X("endobj")},Ze=function(e){Me(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in X("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof mv&&ye[e].objectNumber>=0&&X("/"+e+" "+ye[e].objectNumber+" 0 R");Ae.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in X("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof f.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&X("/"+t+" "+ye[t].objectNumber+" 0 R");Ae.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");Ae.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Le)Le.hasOwnProperty(e)&&Le[e].objectNumber>=0&&X("/"+e+" "+Le[e].objectNumber+" 0 R");Ae.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){xe[e.fontName]=xe[e.fontName]||{},xe[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,i){var s={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Ae.publish("addFont",{font:s,instance:this}),ge[s.id]=s,et(s),s.id},nt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,i,s,a,o,l,c,d;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&ge[ue].metadata&&ge[ue].metadata[i]&&ge[ue].metadata[i].encoding&&(s=ge[ue].metadata[i].encoding,!a&&ge[ue].encoding&&(a=ge[ue].encoding),!a&&s.codePages&&(a=s.codePages[0]),"string"==typeof a&&(a=s[a]),a)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=a[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=f.__private__.beginPage=function(e){G[++Se]=[],ke[Se]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},at(Se),J(G[I])},it=function(e,t){var r,s,a;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(s=r[0],a=r[1])),Array.isArray(e)&&(s=e[0]*he,a=e[1]*he),isNaN(s)&&(s=i[0],a=i[1]),(s>14400||a>14400)&&(zy.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),a=Math.min(14400,a)),i=[s,a],n.substr(0,1)){case"l":a>s&&(i=[a,s]);break;case"p":s>a&&(i=[a,s])}rt(i),Mt(Dt),X($t),0!==Qt&&X(Qt+" J"),0!==Zt&&X(Zt+" j"),Ae.publish("addPage",{pageNumber:Se})},st=function(e){e>0&&e<=Se&&(G.splice(e,1),ke.splice(e,1),Se--,I>Se&&(I=Se),this.setPage(I))},at=function(e){e>0&&e<=Se&&(I=e)},ot=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},lt=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==xe[r]&&void 0!==xe[r][t]?i=xe[r][t]:void 0!==xe[e]&&void 0!==xe[e][t]?i=xe[e][t]:!1===n.disableWarning&&zy.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=xe.times[t])&&(i=xe.times.normal),i},ct=f.__private__.putInfo=function(){var e=De(),t=function(e){return e};for(var n in null!==d&&(t=bt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+xv.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(de[n]))+")");X("/CreationDate ("+nt(t(E))+")"),X(">>"),X("endobj")},dt=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(De(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+P(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}se&&X("/PageMode /"+se),Ae.publish("putCatalog"),X(">>"),X("endobj")},ut=f.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==d&&X("/Encrypt "+bt.oid+" 0 R"),X("/ID [ <"+T+"> <"+T+"> ]"),X(">>")},ht=f.__private__.putHeader=function(){X("%PDF-"+p),X("%")},ft=f.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof V[t]?X((e+V[t]()).slice(-10)+" 00000 n "):void 0!==V[t]?X((e+V[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},pt=f.__private__.buildDocument=function(){var e;q=0,W=0,H=[],V=[],$=[],ze=Oe(),Ue=Oe(),J(H),Ae.publish("buildDocument"),ht(),Ge(),function(){Ae.publish("putAdditionalObjects");for(var e=0;e<$.length;e++){var t=$[e];Me(t.objId,!0),X(t.content),X("endobj")}Ae.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Le)Le.hasOwnProperty(e)&&Ke(Le[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof mv?Je(ye[t]):ye[t]instanceof gv&&Xe(ye[t],e))}(e),Ae.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),Ae.publish("postPutResources"),null!==d&&(bt.oid=De(),X("<<"),X("/Filter /Standard"),X("/V "+bt.v),X("/R "+bt.r),X("/U <"+bt.toHexString(bt.U)+">"),X("/O <"+bt.toHexString(bt.O)+">"),X("/P "+bt.P),X(">>"),X("endobj")),ct(),dt();var t=W;return ft(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(G[I]),H.join("\n")},mt=f.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=f.output=f.__private__.output=((Fe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":f.save(t.filename);break;case"arraybuffer":return Z(pt());case"blob":return mt(pt());case"bloburi":case"bloburl":if(void 0!==My.URL&&"function"==typeof My.URL.createObjectURL)return My.URL&&My.URL.createObjectURL(mt(pt()))||void 0;zy.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=Gy(r)}catch(p){n=Gy(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(My)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,s="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=My.open();return null!==o&&o.document.write(a),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(My)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=My.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(My))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=My.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return My.document.location.href=this.output("datauristring",t);default:return null}}).foo=function(){try{return Fe.apply(this,arguments)}catch(n){var e=n.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+n.message;if(!My.console)throw new Error(t);My.console.error(t,n),My.alert&&alert(t)}},Fe.foo.bar=Fe,Fe.foo),xt=function(e){return!0===Array.isArray(Pe)&&Pe.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==xt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var bt=null;O(),R();var yt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ke[e].objId,pageNumber:e,pageContext:ke[e]}},vt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in ke)if(ke[t].objId===e)break;return yt(t)},wt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ke[I].objId,pageNumber:I,pageContext:ke[I]}};f.addPage=function(){return it.apply(this,arguments),this},f.setPage=function(){return at.apply(this,arguments),J.call(this,G[I]),this},f.insertPage=function(e){return this.addPage(),this.movePage(I,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=ke[e];for(var i=e;i>t;i--)G[i]=G[i-1],ke[i]=ke[i-1];G[t]=n,ke[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=ke[e];for(var s=e;s<t;s++)G[s]=G[s+1],ke[s]=ke[s+1];G[t]=n,ke[t]=r,this.setPage(t)}return this},f.deletePage=function(){return st.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,r,i){var s,a,o,l,c,d,u,f,p,m=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ee==0?(o=arguments[4],l=arguments[5],"object"===Mg(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(k("The transform parameter of text() with a Matrix value"),p=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var x,b="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Ft,N=m.internal.scaleFactor;function j(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function A(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function P(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,s=e.concat(),a=[],o=s.length;o--;)"string"==typeof(r=s.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var L=!1,_=!0;if("string"==typeof e)L=!0;else if(Array.isArray(e)){var E=e.concat();a=[];for(var T,B=E.length;B--;)("string"!=typeof(T=E.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(_=!1);L=_}if(!1===L)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var R=te/m.internal.scaleFactor,F=R*(w-1);switch(r.baseline){case"bottom":n-=F;break;case"top":n+=R-F;break;case"hanging":n+=R-2*F;break;case"middle":n+=R/2-F}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,d))},[]))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ae.publish("preProcessText",s),e=s.text,o=(r=s.options).angle,p instanceof Ee==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),v===y&&(o=-o);var D=Math.cos(o),O=Math.sin(o);p=new Ee(D,O,-O,D,0,0)}else o&&o instanceof Ee&&(p=o);v!==y||p||(p=Be),void 0!==(c=r.charSpace||Jt)&&(b+=S(C(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(b+=S(100*f)+" Tz\n"),r.lang;var M=-1,I=void 0!==r.renderingMode?r.renderingMode:r.stroke,z=m.internal.getCurrentPageInfo().pageContext;switch(I){case 0:case!1:case"fill":M=0;break;case 1:case!0:case"stroke":M=1;break;case 2:case"fillThenStroke":M=2;break;case 3:case"invisible":M=3;break;case 4:case"fillAndAddForClipping":M=4;break;case 5:case"strokeAndAddPathForClipping":M=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":M=6;break;case 7:case"addToPathForClipping":M=7}var U=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==M?b+=M+" Tr\n":-1!==U&&(b+="0 Tr\n"),-1!==M&&(z.usedRenderingMode=M),l=r.align||"left";var q,V=te*w,H=m.internal.pageSize.getWidth(),W=ge[ue];c=r.charSpace||Jt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var $=[],G=function(e){return m.getStringUnitWidth(e,{font:W,charSpace:c,fontSize:te,doKerning:!1})*te/N};if("[object Array]"===Object.prototype.toString.call(e)){var Y;a=A(e),"left"!==l&&(q=a.map(G));var K,J=0;if("right"===l){t-=q[0],e=[],B=a.length;for(var Q=0;Q<B;Q++)0===Q?(K=qt(t),Y=Vt(n)):(K=C(J-q[Q]),Y=-V),e.push([a[Q],K,Y]),J=q[Q]}else if("center"===l){t-=q[0]/2,e=[],B=a.length;for(var Z=0;Z<B;Z++)0===Z?(K=qt(t),Y=Vt(n)):(K=C((J-q[Z])/2),Y=-V),e.push([a[Z],K,Y]),J=q[Z]}else if("left"===l){e=[],B=a.length;for(var ee=0;ee<B;ee++)e.push(a[ee])}else if("justify"===l&&"Identity-H"===W.encoding){e=[],B=a.length,d=0!==d?d:H;for(var ne=0,re=0;re<B;re++)if(Y=0===re?Vt(n):-V,K=0===re?qt(t):ne,re<B-1){var se=C((d-q[re])/(a[re].split(" ").length-1)),ae=a[re].split(" ");e.push([ae[0]+" ",K,Y]),ne=0;for(var oe=1;oe<ae.length;oe++){var le=(G(ae[oe-1]+" "+ae[oe])-G(ae[oe]))*N+se;oe==ae.length-1?e.push([ae[oe],le,0]):e.push([ae[oe]+" ",le,0]),ne-=le}}else e.push([a[re],K,Y]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],B=a.length,d=0!==d?d:H,re=0;re<B;re++){Y=0===re?Vt(n):-V,K=0===re?qt(t):0;var ce=a[re].split(" ").length-1,de=ce>0?(d-q[re])/ce:0;re<B-1?$.push(S(C(de))):$.push(0),e.push([a[re],K,Y])}}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=P(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ae.publish("postProcessText",s),e=s.text,x=s.mutex.isHex||!1;var he=ge[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=P(e,function(e,t,n){return[j(e),t,n]})),a=A(e),e=[];for(var fe,pe,me,xe=Array.isArray(a[0])?1:0,be="",ye=function(e,t,n){var i="";return n instanceof Ee?(n="number"==typeof r.angle?Te(n,new Ee(1,0,0,1,e,t)):Te(new Ee(1,0,0,1,e,t),n),v===y&&(n=Te(new Ee(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=S(e)+" "+S(t)+" Td\n",i},ve=0;ve<a.length;ve++){switch(be="",xe){case 1:me=(x?"<":"(")+a[ve][0]+(x?">":")"),fe=parseFloat(a[ve][1]),pe=parseFloat(a[ve][2]);break;case 0:me=(x?"<":"(")+a[ve]+(x?">":")"),fe=qt(t),pe=Vt(n)}void 0!==$&&void 0!==$[ve]&&(be=$[ve]+" Tw\n"),0===ve?e.push(be+ye(fe,pe,p)+me):0===xe?e.push(be+me):1===xe&&e.push(be+ye(fe,pe,p)+me)}e=0===xe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=S(te*w)+" TL\n",we+=Yt+"\n",we+=b,we+=e,X(we+="ET"),h[ue]=!0,m};var Nt=f.__private__.clip=f.clip=function(e){return X("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return Nt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return X("n"),this};var jt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return jt(e)&&(c=e),this};var St=f.__private__.getStyle=f.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},kt=f.close=function(){return X("h"),this};f.stroke=function(){return X("S"),this},f.fill=function(e){return At("f",e),this},f.fillEvenOdd=function(e){return At("f*",e),this},f.fillStroke=function(e){return At("B",e),this},f.fillStrokeEvenOdd=function(e){return At("B*",e),this};var At=function(e,t){"object"===Mg(t)?Ct(t,e):X(e)},Pt=function(e){null===e||v===y&&void 0===e||(e=St(e),X(e))};function Lt(e,t,n,r,i){var s=new gv(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);s.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Re(a,s),s}var Ct=function(e,t){var n=ve[e.key],r=ye[n];if(r instanceof mv)X("q"),X(_t(t)),r.gState&&f.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof gv){var i=new Ee(1,0,0,-1,0,fn());e.matrix&&(i=i.multiply(e.matrix||Be),n=Lt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&f.setGState(r.gState),X(t),X("Q")}},_t=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Et=f.moveTo=function(e,t){return X(S(C(e))+" "+S(_(t))+" m"),this},Tt=f.lineTo=function(e,t){return X(S(C(e))+" "+S(_(t))+" l"),this},Bt=f.curveTo=function(e,t,n,r,i,s){return X([S(C(e)),S(_(t)),S(C(n)),S(_(r)),S(C(i)),S(_(s)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!jt(i))throw new Error("Invalid arguments passed to jsPDF.line");return v===b?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,i,s){var a,o,l,c,d,u,h,f,p,m,g,x;if("number"==typeof e&&(x=n,n=t,t=e,e=x),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!jt(i)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Et(t,n),a=r[0],o=r[1],c=e.length,m=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(m=d[0]*a+m,g=d[1]*o+g,Tt(m,g)):(u=d[0]*a+m,h=d[1]*o+g,f=d[2]*a+m,p=d[3]*o+g,m=d[4]*a+m,g=d[5]*o+g,Bt(u,h,f,p,m,g));return s&&kt(),Pt(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Et(r[0],r[1]);break;case"l":Tt(r[0],r[1]);break;case"c":Bt.apply(this,r);break;case"h":kt()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!jt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b&&(r=-r),X([S(C(e)),S(_(t)),S(C(n)),S(C(r)),"re"].join(" ")),Pt(i),this},f.__private__.triangle=f.triangle=function(e,t,n,r,i,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!jt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,s-r],[e-i,t-s]],e,t,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,i,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!jt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*i,0],[i*o,0,i,s-s*o,i,s],[0,r-2*s],[0,s*o,-i*o,s,-i,s],[2*i-n,0],[-i*o,0,-i,-s*o,-i,-s],[0,2*s-r],[0,-s*o,i*o,-s,i,-s]],e+i,t,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!jt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Et(e+n,t),Bt(e+n,t-a,e+s,t-r,e,t-r),Bt(e-s,t-r,e-n,t-a,e-n,t),Bt(e-n,t+a,e-s,t+r,e,t+r),Bt(e+s,t+r,e+n,t+a,e+n,t),Pt(i),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!jt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=j(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Rt=f.__private__.getFont=f.getFont=function(){return ge[lt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in xe)if(xe.hasOwnProperty(e))for(t in n[e]=[],xe[e])xe[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,i){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=j(n,r)),tt.call(this,e,t,n,i=i||"Identity-H")};var Ft,Dt=e.lineWidth||.200025,Ot=f.__private__.getLineWidth=f.getLineWidth=function(){return Dt},Mt=f.__private__.setLineWidth=f.setLineWidth=function(e){return Dt=e,X(S(C(e))+" w"),this};f.__private__.setLineDash=xv.API.setLineDash=xv.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return S(C(e))}).join(" "),t=S(C(t)),X("["+e+"] "+t+" d"),this};var It=f.__private__.getLineHeight=f.getLineHeight=function(){return te*Ft};f.__private__.getLineHeight=f.getLineHeight=function(){return te*Ft};var zt=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Ft=e),this},Ut=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ft};zt(e.lineHeight);var qt=f.__private__.getHorizontalCoordinate=function(e){return C(e)},Vt=f.__private__.getVerticalCoordinate=function(e){return v===y?e:ke[I].mediaBox.topRightY-ke[I].mediaBox.bottomLeftY-C(e)},Ht=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return S(qt(e))},Wt=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return S(Vt(e))},$t=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return qe($t)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return $t=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X($t),this};var Gt=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return qe(Gt)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return Gt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Gt),this};var Yt=e.textColor||"0 g",Kt=f.__private__.getTextColor=f.getTextColor=function(){return qe(Yt)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return Yt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Jt||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Qt=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,X(t+" J"),this};var Zt=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(S(C(e))+" M"),this},f.GState=fv,f.setGState=function(e){(e="string"==typeof e?we[Ne[e]]:en(null,e)).equals(je)||(X("/"+e.id+" gs"),je=e)};var en=function(e,t){if(!e||!Ne[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var i="GS"+(Object.keys(we).length+1).toString(10);we[i]=t,t.id=i}return e&&(Ne[e]=t.id),Ae.publish("addGState",t),t}};f.addGState=function(e,t){return en(e,t),this},f.saveGraphicsState=function(){return X("q"),be.push({key:ue,size:te,color:Yt}),this},f.restoreGraphicsState=function(){X("Q");var e=be.pop();return ue=e.key,te=e.size,Yt=e.color,je=null,this},f.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},f.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},rn=function(){this.page=Se,this.currentPage=I,this.pages=G.slice(0),this.pagesContext=ke.slice(0),this.x=fe,this.y=pe,this.matrix=me,this.width=on(I),this.height=cn(I),this.outputDestination=K,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){Se=this.page,I=this.currentPage,ke=this.pagesContext,G=this.pages,fe=this.x,pe=this.y,me=this.matrix,ln(I,this.width),dn(I,this.height),K=this.outputDestination};var sn=function(e,t,n,r,i){_e.push(new rn),Se=I=0,G=[],fe=e,pe=t,me=i,rt([n,r])};for(var an in f.beginFormObject=function(e,t,n,r,i){return sn(e,t,n,r,i),this},f.endFormObject=function(e){return function(e){if(Ce[e])_e.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Le).length+1).toString(10);t.id=n,Ce[e]=n,Le[n]=t,Ae.publish("addFormObject",t),_e.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=Le[Ce[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},f.getFormObject=function(e){var t=Le[Ce[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Hy(mt(pt()),e),"function"==typeof Hy.unload&&My.setTimeout&&setTimeout(Hy.unload,911),this):new Promise(function(t,n){try{var r=Hy(mt(pt()),e);"function"==typeof Hy.unload&&My.setTimeout&&setTimeout(Hy.unload,911),t(r)}catch(i){n(i.message)}})},xv.API)xv.API.hasOwnProperty(an)&&("events"===an&&xv.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ae,xv.API.events):f[an]=xv.API[an]);function on(e){return ke[e].mediaBox.topRightX-ke[e].mediaBox.bottomLeftX}function ln(e,t){ke[e].mediaBox.topRightX=t+ke[e].mediaBox.bottomLeftX}function cn(e){return ke[e].mediaBox.topRightY-ke[e].mediaBox.bottomLeftY}function dn(e,t){ke[e].mediaBox.topRightY=t+ke[e].mediaBox.bottomLeftY}var un=f.getPageWidth=function(e){return on(e=e||I)/he},hn=f.setPageWidth=function(e,t){ln(e,t*he)},fn=f.getPageHeight=function(e){return cn(e=e||I)/he},pn=f.setPageHeight=function(e,t){dn(e,t*he)};return f.internal={pdfEscape:nt,getStyle:St,getFont:Rt,getFontSize:re,getCharSpace:Xt,getTextColor:Kt,getLineHeight:It,getLineHeightFactor:Ut,getLineWidth:Ot,write:Q,getHorizontalCoordinate:qt,getVerticalCoordinate:Vt,getCoordinateString:Ht,getVerticalCoordinateString:Wt,collections:{},newObject:De,newAdditionalObject:Ie,newObjectDeferred:Oe,newObjectDeferredBegin:Me,getFilters:He,putStream:We,events:Ae,scaleFactor:he,pageSize:{getWidth:function(){return un(I)},setWidth:function(e){hn(I,e)},getHeight:function(){return fn(I)},setHeight:function(e){pn(I,e)}},encryptionOptions:d,encryption:bt,getEncryptor:function(e){return null!==d?bt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:ot,get pages(){return G},out:X,f2:P,f3:L,getPageInfo:yt,getPageInfoByObjId:vt,getCurrentPageInfo:wt,getPDFVersion:m,Point:tn,Rectangle:nn,Matrix:Ee,hasHotfix:xt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return un(I)},set:function(e){hn(I,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return fn(I)},set:function(e){pn(I,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var i=e[t][0].split("-");et({id:r,fontName:i[0],fontStyle:i[1]||""})}Ae.publish("addFonts",{fonts:ge,dictionary:xe})}.call(f,ee),ue="F1",it(i,n),Ae.publish("initialized"),f}dv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},dv.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dv.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},dv.prototype.processOwnerPassword=function(e,t){return lv(sv(t).substr(0,5),e)},dv.prototype.encryptor=function(e,t){var n=sv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return lv(n,e)}},fv.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Mg(e)!==Mg(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},xv.API={events:[]},xv.version="3.0.4";var bv=xv.API,yv=1,vv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nv=function(e){return e.toFixed(2)},jv=function(e){return e.toFixed(5)};bv.__acroform__={};var Sv=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kv=function(e){return e*yv},Av=function(e){var t=new qv,n=nw.internal.getHeight(e)||0,r=nw.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nv(r)),Number(Nv(n))],t},Pv=bv.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Lv=bv.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Cv=bv.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_v=bv.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Cv(e,t-1)},Ev=bv.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pv(e,t-1)},Tv=bv.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Lv(e,t-1)},Bv=bv.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Nv(l.lowerLeft_X)),Number(Nv(l.lowerLeft_Y)),Number(Nv(l.upperRight_X)),Number(Nv(l.upperRight_Y))]},Rv=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Fv(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Nv(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Av(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},Fv=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var s=n,a=nw.internal.getHeight(e)||0;a=a<0?-a:a;var o=nw.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<i.length){var s=n+" "+i[t+1][0];return Dv(s,e,r).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,u=Dv("3",e,s).height,h=e.multiline?a-s:(a-u)/2,f=h+=2,p=0,m=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+Dv(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var x="",b=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var v=!1;if(1!==i[y].length&&g!==i[y].length-1){if((u+2)*(b+2)+2>a)continue e;x+=i[y][g],v=!0,m=y,y--}else{x=" "==(x+=i[y][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(y),N=l(w,x,s),j=y>=i.length-1;if(N&&!j){x+=" ",g=0;continue}if(N||j){if(j)m=w;else if(e.multiline&&(u+2)*(b+2)+2>a)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>a)continue e;m=w}}for(var S="",k=p;k<=m;k++){var A=i[k];if(e.multiline){if(k===m){S+=A[g]+" ",g=(g+1)%A.length;continue}if(k===p){S+=A[A.length-1]+" ";continue}}S+=A[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,d=Dv(S,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Nv(c)+" "+Nv(f)+" Td\n",t+="("+vv(S)+") Tj\n",t+=-Nv(c)+" 0 Td\n",f=-(s+2),d=0,p=v?m:m+1,b++,x=""}break}return r.text=t,r.fontSize=s,r},Dv=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Ov={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Mv=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Iv=bv.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(0!==s&&(i+=" "),Mg(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+vv(r(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zv=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+vv(r(e))+")"},Uv=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Uv.prototype.toString=function(){return this.objId+" 0 R"},Uv.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Uv.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Iv(i,this.objId,this.scope)}):i instanceof Uv?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var qv=function(){Uv.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Sv(qv,Uv);var Vv=function(){Uv.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vv(t(e))+")"}},set:function(t){e=t}})};Sv(Vv,Uv);var Hv=function e(){Uv.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(t,3))},set:function(e){!0===Boolean(e)?this.F=Ev(t,3):this.F=Tv(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Qv)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vv(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/yv:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Qv||this instanceof ew))return zv(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Kv==0?zv(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Kv==0?"("===e.substr(0,1)?wv(e.substr(1,e.length-2)):wv(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kv==1?wv(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Kv==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Kv==0?zv(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof Kv==0?"("===e.substr(0,1)?wv(e.substr(1,e.length-2)):wv(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kv==1?wv(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof Kv==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,1):this.Ff=Tv(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,2):this.Ff=Tv(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,3):this.Ff=Tv(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Sv(Hv,Uv);var Wv=function(){Hv.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Iv(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,18):this.Ff=Tv(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Ev(this.Ff,19):this.Ff=Tv(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Ev(this.Ff,20),t.sort()):this.Ff=Tv(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,22):this.Ff=Tv(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,23):this.Ff=Tv(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,27):this.Ff=Tv(this.Ff,27)}}),this.hasAppearanceStream=!1};Sv(Wv,Hv);var $v=function(){Wv.call(this),this.fontName="helvetica",this.combo=!1};Sv($v,Wv);var Gv=function(){$v.call(this),this.combo=!0};Sv(Gv,$v);var Yv=function(){Gv.call(this),this.edit=!0};Sv(Yv,Gv);var Kv=function(){Hv.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,15):this.Ff=Tv(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,16):this.Ff=Tv(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,17):this.Ff=Tv(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,26):this.Ff=Tv(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+vv(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Mg(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Sv(Kv,Hv);var Jv=function(){Kv.call(this),this.pushButton=!0};Sv(Jv,Kv);var Xv=function(){Kv.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Sv(Xv,Kv);var Qv=function(){var e,t;Hv.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+vv(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===Mg(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nw.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sv(Qv,Hv),Xv.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Xv.prototype.createOption=function(e){var t=new Qv;return t.Parent=this,t.optionName=e,this.Kids.push(t),sw.call(this.scope,t),t};var Zv=function(){Kv.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nw.CheckBox.createAppearanceStream()};Sv(Zv,Kv);var ew=function(){Hv.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,13):this.Ff=Tv(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,21):this.Ff=Tv(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,23):this.Ff=Tv(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,24):this.Ff=Tv(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,25):this.Ff=Tv(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,26):this.Ff=Tv(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sv(ew,Hv);var tw=function(){ew.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(_v(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Ev(this.Ff,14):this.Ff=Tv(this.Ff,14)}}),this.password=!0};Sv(tw,ew);var nw={CheckBox:{createAppearanceStream:function(){return{N:{On:nw.CheckBox.YesNormal},D:{On:nw.CheckBox.YesPushDown,Off:nw.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Av(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Fv(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Nv(nw.internal.getWidth(e))+" "+Nv(nw.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Nv(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Av(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=nw.internal.getHeight(e),a=nw.internal.getWidth(e),o=Fv(e,e.caption);return i.push("1 g"),i.push("0 0 "+Nv(a)+" "+Nv(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nv(a-1)+" "+Nv(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Nv(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=Av(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nv(nw.internal.getWidth(e))+" "+Nv(nw.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nw.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nw.RadioButton.Circle.YesNormal,t.D[e]=nw.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Av(e);t.scope=e.scope;var n=[],r=nw.internal.getWidth(e)<=nw.internal.getHeight(e)?nw.internal.getWidth(e)/4:nw.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=nw.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+jv(nw.internal.getWidth(e)/2)+" "+jv(nw.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Av(e);t.scope=e.scope;var n=[],r=nw.internal.getWidth(e)<=nw.internal.getHeight(e)?nw.internal.getWidth(e)/4:nw.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nw.internal.Bezier_C).toFixed(5)),a=Number((r*nw.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jv(nw.internal.getWidth(e)/2)+" "+jv(nw.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+jv(nw.internal.getWidth(e)/2)+" "+jv(nw.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Av(e);t.scope=e.scope;var n=[],r=nw.internal.getWidth(e)<=nw.internal.getHeight(e)?nw.internal.getWidth(e)/4:nw.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nw.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jv(nw.internal.getWidth(e)/2)+" "+jv(nw.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nw.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nw.RadioButton.Cross.YesNormal,t.D[e]=nw.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Av(e);t.scope=e.scope;var n=[],r=nw.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Nv(nw.internal.getWidth(e)-2)+" "+Nv(nw.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Nv(r.x1.x)+" "+Nv(r.x1.y)+" m"),n.push(Nv(r.x2.x)+" "+Nv(r.x2.y)+" l"),n.push(Nv(r.x4.x)+" "+Nv(r.x4.y)+" m"),n.push(Nv(r.x3.x)+" "+Nv(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Av(e);t.scope=e.scope;var n=nw.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nv(nw.internal.getWidth(e))+" "+Nv(nw.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nv(nw.internal.getWidth(e)-2)+" "+Nv(nw.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nv(n.x1.x)+" "+Nv(n.x1.y)+" m"),r.push(Nv(n.x2.x)+" "+Nv(n.x2.y)+" l"),r.push(Nv(n.x4.x)+" "+Nv(n.x4.y)+" m"),r.push(Nv(n.x3.x)+" "+Nv(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Av(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nv(nw.internal.getWidth(e))+" "+Nv(nw.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};nw.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nw.internal.getWidth(e),n=nw.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},nw.internal.getWidth=function(e){var t=0;return"object"===Mg(e)&&(t=kv(e.Rect[2])),t},nw.internal.getHeight=function(e){var t=0;return"object"===Mg(e)&&(t=kv(e.Rect[3])),t};var rw,iw,sw=bv.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Hv.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ov)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yv=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Vv,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Mv(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],s=[],a=i.Rect;if(i.Rect&&(i.Rect=Bv(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=nw.createDefaultAppearanceStream(i),"object"===Mg(i)&&"function"==typeof i.getKeyValueListForStream&&(s=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var o=Rv(i);s.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var d=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,i)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,i)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===Mg(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Hv))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function aw(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}bv.AcroFormChoiceField=Wv,bv.AcroFormListBox=$v,bv.AcroFormComboBox=Gv,bv.AcroFormEditBox=Yv,bv.AcroFormButton=Kv,bv.AcroFormPushButton=Jv,bv.AcroFormRadioButton=Xv,bv.AcroFormCheckBox=Zv,bv.AcroFormTextField=ew,bv.AcroFormPasswordField=tw,bv.AcroFormAppearance=nw,bv.AcroForm={ChoiceField:Wv,ListBox:$v,ComboBox:Gv,EditBox:Yv,Button:Kv,PushButton:Jv,RadioButton:Xv,CheckBox:Zv,TextField:ew,PasswordField:tw,Appearance:nw},xv.AcroForm={ChoiceField:Wv,ListBox:$v,ComboBox:Gv,EditBox:Yv,Button:Kv,PushButton:Jv,RadioButton:Xv,CheckBox:Zv,TextField:ew,PasswordField:tw,Appearance:nw},xv.AcroForm,function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,s,a,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(N(e))for(l in r)for(a=r[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(a=r[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var a="",o=0,l=t.transparency.length;o<l;o++)a+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===x.INDEXED){var f=this.internal.newObject();r({data:S(new Uint8Array(t.palette)),objectId:f}),n("endobj")}},a=function(){var e=this.internal.collections[t+"images"];for(var n in e)s.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var i in n)r("/I"+(e=n[i]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===Mg(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return $y(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return $y(t.toDataURL(s,1).split("base64,").pop())}},p=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,s){var a=m.call(this,n,r,i),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=a[0],r=a[1],d[i.index]=i,s){s*=Math.PI/180;var u=Math.cos(s),h=Math.sin(s),f=function(e){return e.toFixed(4)},p=[f(u),f(h),f(-1*h),f(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(N(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=N(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,i,s,a,o,c,d;if("number"==typeof arguments[1]?(t=n,r=arguments[1],i=arguments[2],s=arguments[3],a=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],a=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===Mg(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,i=u.y||i||0,s=u.w||u.width||s,a=u.h||u.height||a,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=k.call(this,e,t,o,c);return g.call(this,r,i,s,a,p,d),this};var k=function(t,r,s,a){var o,l,c,m;if("string"==typeof t&&i(t)===n){t=unescape(t);var g=A(t,!1);(""!==g||void 0!==(g=e.loadFile(t,!0)))&&(t=g)}if(h(t)&&(t=f(t,r)),r=i(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=s)||0===c.length)&&(s="string"==typeof(m=t)||N(m)?y(m):N(m.data)?y(m.data):null),(o=p.call(this,s))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=j(t)),o=this["process"+r.toUpperCase()](t,d.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(a),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},A=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=w(e))&&void 0!==i?i:e;try{r=$y(n)}catch(s){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+s.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,s,a="";if(h(t)&&(t=f(t)),"string"==typeof t&&i(t)===n&&(""===(a=A(t,!1))&&(a=e.loadFile(t)||""),t=a),s=i(t),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(t instanceof Uint8Array||(t=j(t)),!(r=this["process"+s.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=s,r}}(xv.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
rw=xv.API,iw=function(e){if(void 0!==e&&""!=e)return!0},xv.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),rw.events.push(["putPage",function(e){for(var t,n,r,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),o=e.pageContext.annotations,l=!1,c=0;c<o.length&&!l;c++)switch((t=o[c]).type){case"link":(iw(t.options.url)||iw(t.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var d=0;d<o.length;d++){t=o[d];var u=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(f.objId),g=t.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(t.bounds.x)+" "+s(t.bounds.y+t.bounds.h)+" "+i(t.bounds.x+t.bounds.w)+" "+s(t.bounds.y)+"] ")+"/Contents ("+u(m(t.contents))+")",r+=" /Popup "+p.objId+" 0 R",r+=" /P "+a.objId+" 0 R",r+=" /T ("+u(m(g))+") >>",f.content=r;var x=f.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(t.bounds.x+30)+" "+s(t.bounds.y+t.bounds.h)+" "+i(t.bounds.x+t.bounds.w+30)+" "+s(t.bounds.y)+"] ")+" /Parent "+x,t.open&&(r+=" /Open true"),r+=" >>",p.content=r,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+i(t.bounds.x)+" "+s(t.bounds.y)+" "+i(t.bounds.x+t.bounds.w)+" "+s(t.bounds.y+t.bounds.h)+"] ";var b=t.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+u(h(t.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(t.options.name){var y=this.annotations._nameMap[t.options.name];t.options.pageNumber=y.page,t.options.top=y.y}else t.options.top||(t.options.top=0);if(n="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",r="",t.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+u(h(t.options.url))+") >>";else if(t.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,r+=" /FitV "+t.options.left+"]";break;default:var v=s(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),r+=" /XYZ "+t.options.left+" "+v+" "+t.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),rw.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},rw.link=function(e,t,n,r,i){var s=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:a(e),y:o(t),w:a(e+n),h:o(t+r)},options:i,type:"link"})},rw.textWithLink=function(e,t,n,r){var i,s,a=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;i=Math.ceil(o*l)}else s=a,i=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,n-o,s,i,r),a},rw.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,i+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,i+=e.charAt(t-s),t-=s,s=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===s(e)?-1:!c(e)||!a(t)&&!a(n)||!a(n)&&o(t)||o(e)&&!a(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&a(t)&&!o(t)&&a(n)&&c(n)?3:o(e)||!a(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,s="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],a(s)?(i=h(s,o,l),d[n]+=-1!==i?String.fromCharCode(t[s.charCodeAt(0)][i]):s):d[n]+=s;d[n]=u(d[n])}return d.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(xv.API),xv.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(xv.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,a=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)a<(l=this.getStringUnitWidth(e[u],{font:i})*n)&&(a=l);return 0!==a&&(o=e.length),{w:a/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,f,p,m=[],g=[],x=[],b={},y={},v=[],w=[],N=(d=d||{}).autoSize||!1,j=!1!==d.printHeaders,S=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,k=d.margins||Object.assign({width:this.getPageWidth()},t),A="number"==typeof d.padding?d.padding:3,P=d.headerBackgroundColor||"#c8c8c8",L=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=L,this.setFontSize(S),null==c)g=m=Object.keys(l[0]),x=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===Mg(c[0]))for(m=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,x=m.map(function(){return"left"}));if(N||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<m.length;u+=1){for(b[p=m[u]]=l.map(function(e){return e[p]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[p],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)v.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[p]=Math.max.apply(null,v)+A+A,v=[]}if(j){var C={};for(u=0;u<m.length;u+=1)C[m[u]]={},C[m[u]].text=g[u],C[m[u]].align=x[u];var _=o.call(this,C,y);w=m.map(function(t){return new s(e,n,y[t],_,C[t].text,void 0,C[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var E=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var T=o.call(this,l[u],y);for(f=0;f<m.length;f+=1){var B=l[u][m[f]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:f,data:B},this),a.call(this,new s(e,n,y[m[f]],T,B,u+2,E[m[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(xv.API);var ow={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cw=aw(lw),dw=[100,200,300,400,500,600,700,800,900],uw=aw(dw);function hw(e){var t,n=e.family.replace(/"|'/g,"").toLowerCase(),r=(t=e.style,ow[t=t||"normal"]?t:"normal"),i=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),s=function(e){return"number"==typeof cw[e=e||"normal"]?e:"normal"}(e.stretch);return{family:n,style:r,weight:i,stretch:s,src:e.src||[],ref:e.ref||{name:n,style:[s,r,i].join(" ")}}}function fw(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var pw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function xw(e){return e.trimLeft()}function bw(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function yw(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var vw,ww,Nw,jw,Sw,kw,Aw,Pw,Lw=["times"];function Cw(e,t,n,r,i){var s=4,a=Tw;switch(i){case xv.API.image_compression.FAST:s=1,a=Ew;break;case xv.API.image_compression.MEDIUM:s=6,a=Bw;break;case xv.API.image_compression.SLOW:s=9,a=Rw}e=function(e,t,n,r){for(var i,s=e.length/t,a=new Uint8Array(e.length+s),o=[_w,Ew,Tw,Bw,Rw],l=0;l<s;l+=1){var c=l*t,d=e.subarray(c,c+t);if(r)a.set(r(d,n,i),c+l);else{for(var u=o.length,h=[],f=0;f<u;f+=1)h[f]=o[f](d,n,i);var p=Dw(h.concat());a.set(h[p],c+l)}i=d}return a}(e,t,Math.ceil(n*r/8),a);var o=bx(e,{level:s});return xv.API.__addimage__.arrayBufferToBinaryString(o)}function _w(e){var t=Array.apply([],e);return t.unshift(0),t}function Ew(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function Tw(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=e[s]-a+256&255}return i}function Bw(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=e[s-t]||0,o=n&&n[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function Rw(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=Fw(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function Fw(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function Dw(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function Ow(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return Iw(e,i)>>s&a}function Mw(e,t,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(t&o)<<a;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,s,Iw(e,s)&~(o<<a)&65535|l)}function Iw(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function zw(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,d=[],u=0,h=null,f=0,p=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++],w=v>>6&1,N=1<<1+(7&v),j=o,S=l,k=!1;v>>7&&(k=!0,j=t,S=N,t+=3*N);var A=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}d.push({x:g,y:x,width:b,height:y,has_local_palette:k,palette_offset:j,palette_size:S,data_offset:A,data_length:t-A,transparent_index:h,interlaced:!!w,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),s=i.width*i.height,a=new Uint8Array(s);Uw(e,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=n-c,u=c,h=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=h,m=4*d;!0===i.interlaced&&(m+=4*n*7);for(var g=8,x=0,b=a.length;x<b;++x){var y=a[x];if(0===u&&(u=c,(p+=m)>=f&&(m=4*d+4*n*(g-1),p=h+(c+d)*(g<<1),g>>=1)),y===l)p+=4;else{var v=e[o+3*y],w=e[o+3*y+1],N=e[o+3*y+2];r[p++]=N,r[p++]=w,r[p++]=v,r[p++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),s=i.width*i.height,a=new Uint8Array(s);Uw(e,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=n-c,u=c,h=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=h,m=4*d;!0===i.interlaced&&(m+=4*n*7);for(var g=8,x=0,b=a.length;x<b;++x){var y=a[x];if(0===u&&(u=c,(p+=m)>=f&&(m=4*d+4*n*(g-1),p=h+(c+d)*(g<<1),g>>=1)),y===l)p+=4;else{var v=e[o+3*y],w=e[o+3*y+1],N=e[o+3*y+2];r[p++]=v,r[p++]=w,r[p++]=N,r[p++]=255}--u}}}function Uw(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,d=0,u=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;d<16&&0!==f;)u|=e[t++]<<d,d+=8,1===f?f=e[t++]:--f;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==s){if(g===a)break;for(var x=g<o?g:m,b=0,y=x;y>s;)y=p[y]>>8,++b;var v=y;if(h+b+(x!==g?1:0)>r)return void zy.log("Warning, gif stream longer than expected.");n[h++]=v;var w=h+=b;for(x!==g&&(n[h++]=v),y=x;b--;)y=p[y],n[--w]=255&y,y>>=8;null!==m&&o<4096&&(p[o++]=m<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=a+1,c=(1<<(l=i+1))-1,m=null}return h!==r&&zy.log("Warning, gif stream shorter than expected."),n
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/}function qw(e){var t,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,x=7,b=new Array(64),y=new Array(64),v=new Array(64),w=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,r=0,i=new Array,s=1;s<=16;s++){for(var a=1;a<=e[s];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=s,r++,n++;n*=2}return i}function B(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<x),n--,--x<0&&(255==g?(R(255),R(0)):R(g),x=7,g=0)}function R(e){m.push(e)}function F(e){R(e>>8&255),R(255&e)}function D(e,t,n,r,i){for(var s,a=i[0],o=i[240],l=function(e,t){var n,r,i,s,a,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],i=e[h+2],s=e[h+3],a=e[h+4],o=e[h+5],l=e[h+6];var p=n+(c=e[h+7]),m=n-c,g=r+l,x=r-l,b=i+o,y=i-o,v=s+a,w=s-a,N=p+v,j=p-v,S=g+b,k=g-b;e[h]=N+S,e[h+4]=N-S;var A=.707106781*(k+j);e[h+2]=j+A,e[h+6]=j-A;var P=.382683433*((N=w+y)-(k=x+m)),L=.5411961*N+P,C=1.306562965*k+P,_=.707106781*(S=y+x),E=m+_,T=m-_;e[h+5]=T+L,e[h+3]=T-L,e[h+1]=E+C,e[h+7]=E-C,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],i=e[h+16],s=e[h+24],a=e[h+32],o=e[h+40],l=e[h+48];var B=n+(c=e[h+56]),R=n-c,F=r+l,D=r-l,O=i+o,M=i-o,I=s+a,z=s-a,U=B+I,q=B-I,V=F+O,H=F-O;e[h]=U+V,e[h+32]=U-V;var W=.707106781*(H+q);e[h+16]=q+W,e[h+48]=q-W;var $=.382683433*((U=z+M)-(H=D+R)),G=.5411961*U+$,Y=1.306562965*H+$,K=.707106781*(V=M+D),J=R+K,X=R-K;e[h+40]=X+G,e[h+24]=X-G,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],f[d]=u>0?u+.5|0:u-.5|0;return f}(e,t),c=0;c<64;++c)p[j[c]]=l[c];var d=p[0]-n;n=p[0],0==d?B(r[0]):(B(r[h[s=32767+d]]),B(u[s]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return B(a),n;for(var g,x=1;x<=m;){for(var b=x;0==p[x]&&x<=m;)++x;var y=x-b;if(y>=16){g=y>>4;for(var v=1;v<=g;++v)B(o);y&=15}s=32767+p[x],B(i[(y<<4)+h[s]]),B(u[s]),x++}return 63!=m&&B(a),n}function O(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[j[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=a((i[s]*e+50)/100);u=Math.min(Math.max(u,1),255),l[j[s]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(o[j[f]]*h[p]*h[m]*8),d[f]=1/(l[j[f]]*h[p]*h[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){var a,u;s&&O(s),m=new Array,g=0,x=7,F(65496),F(65504),F(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),F(1),F(1),R(0),R(0),function(){F(65499),F(132),R(0);for(var e=0;e<64;e++)R(o[e]);R(1);for(var t=0;t<64;t++)R(l[t])}(),a=e.width,u=e.height,F(65472),F(17),R(8),F(u),F(a),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1),function(){F(65476),F(418),R(0);for(var e=0;e<16;e++)R(S[e+1]);for(var t=0;t<=11;t++)R(k[t]);R(16);for(var n=0;n<16;n++)R(A[n+1]);for(var r=0;r<=161;r++)R(P[r]);R(1);for(var i=0;i<16;i++)R(L[i+1]);for(var s=0;s<=11;s++)R(C[s]);R(17);for(var a=0;a<16;a++)R(_[a+1]);for(var o=0;o<=161;o++)R(E[o])}(),F(65498),F(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var h=0,f=0,p=0;g=0,x=7,this.encode.displayName="_encode_";for(var w,j,T,M,I,z,U,q,V,H=e.data,W=e.width,$=e.height,G=4*W,Y=0;Y<$;){for(w=0;w<G;){for(I=G*Y+w,U=-1,q=0,V=0;V<64;V++)z=I+(q=V>>3)*G+(U=4*(7&V)),Y+q>=$&&(z-=G*(Y+1+q-$)),w+U>=G&&(z-=w+U-G+4),j=H[z++],T=H[z++],M=H[z++],b[V]=(N[j]+N[T+256|0]+N[M+512|0]>>16)-128,y[V]=(N[j+768|0]+N[T+1024|0]+N[M+1280|0]>>16)-128,v[V]=(N[j+1280|0]+N[T+1536|0]+N[M+1792|0]>>16)-128;h=D(b,c,h,t,r),f=D(y,d,f,n,i),p=D(v,d,p,n,i),w+=32}Y+=8}if(x>=0){var K=[];K[1]=x+1,K[0]=(1<<x+1)-1,B(K)}return F(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=T(S,k),n=T(L,C),r=T(A,P),i=T(_,E),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,u[32767+i]=[],u[32767+i][1]=n,u[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256|0]=38470*e,N[e+512|0]=7471*e+32768,N[e+768|0]=-11059*e,N[e+1024|0]=-21709*e,N[e+1280|0]=32768*e+8421375,N[e+1536|0]=-27439*e,N[e+1792|0]=-5329*e}(),O(e)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vw(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hw(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var s=0;s<i;s++)e[t+s]=n[r+s]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function s(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,i){for(var s=i[r],a=0;a<s&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,s){t(!(i%r));do{e[n+(i-=r)]=s}while(0<i)}function d(e,n,r,i,a){if(t(2328>=a),512>=a)var o=s(512);else if(null==(o=s(a)))return 0;return function(e,n,r,i,a,o){var d,h,f=n,p=1<<r,m=s(16),g=s(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),h=0;h<a;++h){if(15<i[h])return 0;++m[i[h]]}if(m[0]==a)return 0;for(g[1]=0,d=1;15>d;++d){if(m[d]>1<<d)return 0;g[d+1]=g[d]+m[d]}for(h=0;h<a;++h)d=i[h],0<i[h]&&(o[g[d]++]=h);if(1==g[15])return(i=new u).g=0,i.value=o[0],c(e,f,1,p,i),p;var x,b=-1,y=p-1,v=0,w=1,N=1,j=1<<r;for(h=0,d=1,a=2;d<=r;++d,a<<=1){if(w+=N<<=1,0>(N-=m[d]))return 0;for(;0<m[d];--m[d])(i=new u).g=d,i.value=o[h++],c(e,f+v,a,j,i),v=l(v,d)}for(d=r+1,a=2;15>=d;++d,a<<=1){if(w+=N<<=1,0>(N-=m[d]))return 0;for(;0<m[d];--m[d]){if(i=new u,(v&y)!=b){for(f+=j,x=1<<(b=d)-r;15>b&&!(0>=(x-=m[b]));)++b,x<<=1;p+=j=1<<(x=b-r),e[n+(b=v&y)].g=x+r,e[n+b].value=f-n-b}i.g=d-r,i.value=o[h++],c(e,f+(v>>r),a,j,i),v=l(v,d)}}return w!=2*g[15]-1?0:p}(e,n,r,i,a,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=a(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mn,h)}function p(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,A(e)}function m(e,t){for(var n=0;0<t--;)n|=L(e,128)<<t;return n}function g(e,t){var n=m(e,t);return P(e)?-n:n}function x(e,n,r,i){var s,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),s=0;s<i;++s)a+=n[r+s]<<8*s;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Un-8>>>0,++e.bb,e.u-=8;j(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=zn){var r=N(e)&In[n];return e.u+=n,b(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&Un-1)>>>0}function j(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Un}function S(e,t){e.u=t,e.h=j(e)}function k(e){e.u>=qn&&(t(e.u>=qn),b(e))}function A(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function P(e){return m(e,1)}function L(e,t){var n=e.Ca;0>e.b&&A(e);var r=e.b,i=n*t>>>8,s=(e.I>>>r>i)+0;for(s?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Vn[r],e.b-=r,e.Ca=(n<<r)-1,s}function C(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function _(e,t){return e[t+0]|e[t+1]<<8}function E(e,t){return _(e,t)|e[t+2]<<16}function T(e,t){return _(e,t)|_(e,t+2)<<16}function B(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function R(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function D(e,n,r,i){t(null!=r),t(null!=i);var s=r[0],a=i[0];return 0==s&&(s=(e*a+n/2)/n),0==a&&(a=(n*s+e/2)/e),0>=s||0>=a?0:(r[0]=s,i[0]=a,1)}function O(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function I(t,n){e[n]=function(n,r,i,s,a,o,l){var c;for(c=0;c<a;++c){var d=e[t](o[l+c-1],i,s+c);o[l+c]=M(n[r+c],d)}}}function z(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return q(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,i,s,a){for(r=s[a-1],n=0;n<i;++n)s[a+n]=r=M(e[t+n],r)}function $(e,t,n,r,i){var s;for(s=0;s<n;++s){var a=e[t+s],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));r[i+s]=(4278255360&a)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,r,i,s){var a;for(a=0;a<r;++a){var o=t[n+a],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),i[s+a]=(4278255360&o)+(d<<16)+c}}function K(t,n,r,i,s){e[n]=function(e,t,n,r,a,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)a[o++]=s(n[i(e[t++])])},e[t]=function(t,n,a,o,l,c,d){var u=8>>t.b,h=t.Ea,f=t.K[0],p=t.w;if(8>u)for(t=(1<<t.b)-1,p=(1<<u)-1;n<a;++n){var m,g=0;for(m=0;m<h;++m)m&t||(g=i(o[l++])),c[d++]=s(f[g&p]),g>>=u}else e["VP8LMapColor"+r](o,l,f,p,c,d,n,a,h)}}function J(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s}}function X(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s,r[i++]=s>>24&255}}function Q(e,t,n,r,i){for(n=t+n;t<n;){var s=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[i++]=s,r[i++]=a}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var s=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=s,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=255&s,r[i++]=s>>8&255,r[i++]=s>>16&255}}function te(e,t,n,i,s,a){if(0==a)for(n=t+n;t<n;)C(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else r(i,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==qr||e==Vr||e==Hr||e==Wr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,i=t.ba.f.RGBA,s=i.eb,a=i.fb+e.ka*i.A,o=gi[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,x=t.Nc,b=e.ka,y=e.ka+e.T,v=e.U,w=v+1>>1;for(0==b?o(l,c,null,null,d,u,h,f,d,u,h,f,s,a,null,null,v):(o(t.ec,t.fc,l,c,p,m,g,x,d,u,h,f,s,a-i.A,s,a,v),++n);b+2<y;b+=2)p=d,m=u,g=h,x=f,u+=e.Rc,f+=e.Rc,a+=2*i.A,o(l,(c+=2*e.fa)-e.fa,l,c,p,m,g,x,d,u,h,f,s,a-i.A,s,a,v);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,c,v),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,f,w),n--):1&y||o(l,c,null,null,d,u,h,f,d,u,h,f,s,a+i.A,null,null,v),n}function ue(e,n,r){var i=e.F,s=[e.J];if(null!=i){var a=e.U,o=n.ba.S,l=o==Ir||o==Hr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=Sr(i,s[0],e.width,a,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&Nr(u,d,l,a,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Dr||n==Mr||n==Ir||n==zr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Fn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,bn()}}else alert("todo:EmitYUV");i&&(t.Jb=ue,r&&gn())}if(r&&!Ci){for(e=0;256>e;++e)_i[e]=89858*(e-128)+ki>>Si,Bi[e]=-22014*(e-128)+ki,Ti[e]=-45773*(e-128),Ei[e]=113618*(e-128)+ki>>Si;for(e=Ai;e<Pi;++e)t=76283*(e-16)+ki>>Si,Ri[e-Ai]=We(t,255),Fi[e-Ai]=We(t+8>>4,15);Ci=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function xe(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var r=N(n),i=e[t+=255&r].g-8;return 0<i&&(S(n,n.u+8),r=N(n),t+=e[t].value,t+=r&(1<<i)-1),S(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,s){var a=e.ab,o=e.c*n,l=e.C;n=l+n;var c=i,d=s;for(s=e.Ta,i=e.Ua;0<a--;){var u=e.gc[a],h=l,f=n,p=c,m=d,g=(d=s,c=i,u.Ea);switch(t(h<f),t(f<=u.nc),u.hc){case 2:$n(p,m,(f-h)*g,d,c);break;case 0:var x=h,b=f,y=d,v=c,w=(A=u).Ea;0==x&&(Hn(p,m,null,null,1,y,v),W(p,m+1,0,0,w-1,y,v+1),m+=w,v+=w,++x);for(var N=1<<A.b,j=N-1,S=O(w,A.b),k=A.K,A=A.w+(x>>A.b)*S;x<b;){var P=k,L=A,C=1;for(Wn(p,m,y,v-w,1,y,v);C<w;){var _=(C&~j)+N;_>w&&(_=w),(0,Xn[P[L++]>>8&15])(p,m+ +C,y,v+C-w,_-C,y,v+C),C=_}m+=w,v+=w,++x&j||(A+=S)}f!=u.nc&&r(d,c-g,d,c+(f-h-1)*g,g);break;case 1:for(g=p,b=m,w=(p=u.Ea)-(v=p&~(y=(m=1<<u.b)-1)),x=O(p,u.b),N=u.K,u=u.w+(h>>u.b)*x;h<f;){for(j=N,S=u,k=new z,A=b+v,P=b+p;b<A;)G(j[S++],k),Qn(k,g,b,m,d,c),b+=m,c+=m;b<P&&(G(j[S++],k),Qn(k,g,b,w,d,c),b+=w,c+=w),++h&y||(u+=x)}break;case 3:if(p==d&&m==c&&0<u.b){for(b=d,p=g=c+(f-h)*g-(v=(f-h)*O(u.Ea,u.b)),m=d,y=c,x=[],v=(w=v)-1;0<=v;--v)x[v]=m[y+v];for(v=w-1;0<=v;--v)b[p+v]=x[v];Gn(u,h,f,d,g,d,c)}else Gn(u,h,f,p,m,d,c)}c=s,d=i}d!=i&&r(s,i,c,d,o)}function Ne(e,n){var r=e.V,i=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var a=e.l,o=e.Ta,l=e.Ua,c=a.width;if(we(e,s,r,i),s=l=[l],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var d=a.j-r;r=a.j,s[0]+=d*c}if(r>=i?r=0:(s[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(i=r.S,s=a.U,a=a.T,d=u.eb,u.A),f=a;for(u=u.fb+e.Ma*u.A;0<f--;){var p=o,m=l,g=s,x=d,b=u;switch(i){case Fr:Zn(p,m,g,x,b);break;case Dr:er(p,m,g,x,b);break;case qr:er(p,m,g,x,b),Nr(x,b,0,g,1,0);break;case Or:rr(p,m,g,x,b);break;case Mr:te(p,m,g,x,b,1);break;case Vr:te(p,m,g,x,b,1),Nr(x,b,0,g,1,0);break;case Ir:te(p,m,g,x,b,0);break;case Hr:te(p,m,g,x,b,0),Nr(x,b,1,g,1,0);break;case zr:tr(p,m,g,x,b);break;case Wr:tr(p,m,g,x,b),jr(x,b,g,1,0);break;case Ur:nr(p,m,g,x,b);break;default:t(0)}l+=c,u+=h}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function je(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Se(e,n,r,i,s,a){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=mi[e.Z]);n<r;++n)mi[e.Z](o,l,i,s,i,s,a),o=i,l=s,s+=a;e.qd=o,e.rd=l}}function ke(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var s=e.l.width,a=r.ca,o=r.tb+s*i,l=e.V,c=e.Ba+e.c*i,d=e.gc;t(1==e.ab),t(3==d[0].hc),Kn(d[0],i,n,l,c,a,o),Se(r,i,n,a,o,s)}e.C=e.Ma=n}function Ae(e,n,r,i,s,a,o){var l=e.$/i,c=e.$%i,d=e.m,u=e.s,h=r+e.$,f=h;s=r+i*s;var p=r+i*a,m=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,b=u.wc,y=h<p?ve(u,c,l):null;t(e.C<a),t(p<=s);var v=!1;e:for(;;){for(;v||h<p;){var w=0;if(l>=g){var A=h-r;t((g=e).Pb),g.wd=g.m,g.xd=A,0<g.s.ua&&R(g.s.Wa,g.s.vb),g=l+Zr}if(c&b||(y=ve(u,c,l)),t(null!=y),y.Qb&&(n[h]=y.qb,v=!0),!v)if(k(d),y.jc){w=d,A=n;var P=h,L=y.pd[N(w)&Mn-1];t(y.jc),256>L.g?(S(w,w.u+L.g),A[P]=L.value,w=0):(S(w,w.u+L.g-256),t(256<=L.value),w=L.value),0==w&&(v=!0)}else w=be(y.G[0],y.H[0],d);if(d.h)break;if(v||256>w){if(!v)if(y.nd)n[h]=(y.qb|w<<8)>>>0;else{if(k(d),v=be(y.G[1],y.H[1],d),k(d),A=be(y.G[2],y.H[2],d),P=be(y.G[3],y.H[3],d),d.h)break;n[h]=(P<<24|v<<16|w<<8|A)>>>0}if(v=!1,++h,++c>=i&&(c=0,++l,null!=o&&l<=a&&!(l%16)&&o(e,l),null!=x))for(;f<h;)w=n[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),A=be(y.G[4],y.H[4],d),k(d),A=xe(i,A=ge(A,d)),d.h)break;if(h-r<A||s-h<w)break e;for(P=0;P<w;++P)n[h+P]=n[h+P-A];for(h+=w,c+=w;c>=i;)c-=i,++l,null!=o&&l<=a&&!(l%16)&&o(e,l);if(t(h<=s),c&b&&(y=ve(u,c,l)),null!=x)for(;f<h;)w=n[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<m))break e;for(v=w-280,t(null!=x);f<h;)w=n[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(v>>>(A=x).Xa)),n[w]=A.X[v],v=!0}v||t(d.h==j(d))}if(e.Pb&&d.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&R(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>a?a:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Pe(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Le(){var t=new an;return null==t?null:(t.a=0,t.xb=pi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),$n=$,Qn=Y,Zn=J,er=X,tr=Q,nr=Z,rr=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Jn,t)}function Ce(e,n,r,o,l){var c=1,h=[e],p=[n],m=o.m,g=o.s,x=null,b=0;e:for(;;){if(r)for(;c&&y(m,1);){var v=h,w=p,j=o,A=1,P=j.m,L=j.gc[j.ab],C=y(P,2);if(j.Oc&1<<C)c=0;else{switch(j.Oc|=1<<C,L.hc=C,L.Ea=v[0],L.nc=w[0],L.K=[null],++j.ab,t(4>=j.ab),C){case 0:case 1:L.b=y(P,3)+2,A=Ce(O(L.Ea,L.b),O(L.nc,L.b),0,j,L.K),L.K=L.K[0];break;case 3:var _,E=y(P,8)+1,T=16<E?0:4<E?1:2<E?2:3;if(v[0]=O(L.Ea,T),L.b=T,_=A=Ce(E,1,0,j,L.K)){var R,F=E,D=L,I=1<<(8>>D.b),z=s(I);if(null==z)_=0;else{var U=D.K[0],q=D.w;for(z[0]=D.K[0][0],R=1;R<1*F;++R)z[R]=M(U[q+R],z[R-1]);for(;R<4*I;++R)z[R]=0;D.K[0]=null,D.K[0]=z,_=1}}A=_;break;case 2:break;default:t(0)}c=A}}if(h=h[0],p=p[0],c&&y(m,1)&&!(c=1<=(b=y(m,4))&&11>=b)){o.a=3;break e}var V;if(V=c)t:{var H,W,$,G=o,Y=h,K=p,J=b,X=r,Q=G.m,Z=G.s,ee=[null],te=1,ne=0,re=Qr[J];n:for(;;){if(X&&y(Q,1)){var ie=y(Q,3)+2,se=O(Y,ie),ae=O(K,ie),oe=se*ae;if(!Ce(se,ae,0,G,ee))break n;for(ee=ee[0],Z.xc=ie,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(W=0;5>W;++W){var ce=Yr[W];!W&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=a(te*re,u),ue=te,he=a(ue,f);if(null==he)var fe=null;else t(65536>=ue),fe=he;var pe=s(ne);if(null==fe||null==pe||null==de){G.a=1;break n}var me=de;for(H=$=0;H<te;++H){var ge=fe[H],xe=ge.G,be=ge.H,ve=0,we=1,Ne=0;for(W=0;5>W;++W){ce=Yr[W],xe[W]=me,be[W]=$,!W&&0<J&&(ce+=1<<J);r:{var je,Se=ce,ke=G,Le=pe,_e=me,Ee=$,Te=0,Be=ke.m,Re=y(Be,1);if(i(Le,0,0,Se),Re){var Fe=y(Be,1)+1,De=y(Be,1),Oe=y(Be,0==De?1:8);Le[Oe]=1,2==Fe&&(Le[Oe=y(Be,8)]=1);var Me=1}else{var Ie=s(19),ze=y(Be,4)+4;if(19<ze){ke.a=3;var Ue=0;break r}for(je=0;je<ze;++je)Ie[Jr[je]]=y(Be,3);var qe=void 0,Ve=void 0,He=ke,We=Ie,$e=Se,Ge=Le,Ye=0,Ke=He.m,Je=8,Xe=a(128,u);i:for(;d(Xe,0,7,We,19);){if(y(Ke,1)){var Qe=2+2*y(Ke,3);if((qe=2+y(Ke,Qe))>$e)break i}else qe=$e;for(Ve=0;Ve<$e&&qe--;){k(Ke);var Ze=Xe[0+(127&N(Ke))];S(Ke,Ke.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ve++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],it=y(Ke,$r[nt])+rt;if(Ve+it>$e)break i;for(var st=tt?Je:0;0<it--;)Ge[Ve++]=st}}Ye=1;break i}Ye||(He.a=3),Me=Ye}(Me=Me&&!Be.h)&&(Te=d(_e,Ee,8,Le,Se)),Me&&0!=Te?Ue=Te:(ke.a=3,Ue=0)}if(0==Ue)break n;if(we&&1==Kr[W]&&(we=0==me[$].g),ve+=me[$].g,$+=Ue,3>=W){var at,ot=pe[0];for(at=1;at<ce;++at)pe[at]>ot&&(ot=pe[at]);Ne+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][be[3]+0].value<<24|xe[1][be[1]+0].value<<16|xe[2][be[2]+0].value)>>>0,0==ve&&256>xe[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Ne,ge.jc){var lt,ct=ge;for(lt=0;lt<Mn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ye(ht,8,ut),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ut),ye(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=de,V=1;break t}V=0}if(!(c=V)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!B(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var ft=o,pt=h,mt=p,gt=ft.s,xt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=O(pt,xt),gt.wc=0==xt?-1:(1<<xt)-1,r){o.xb=fi;break e}if(null==(x=s(h*p))){o.a=1,c=0;break e}c=(c=Ae(o,x,0,h,p,p,null))&&!m.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(r)),o.$=0,r||Pe(g)):Pe(g),c}function _e(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=s(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ee(e,n){var r=e.C,i=n-r,s=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var o=16<i?16:i,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,f=e.Ta,p=e.Ua;we(e,o,s,a),kr(f,p,u,h,d),Se(l,r,r+o,u,h,c),i-=o,s+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Te(){this.ub=this.yd=this.td=this.Rb=0}function Be(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Re(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fe(){var e;this.Yb=(function e(t,n,r){for(var i=r[n],s=0;s<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e=[],0,[3,11]),e)}function De(){this.jb=s(3),this.Wc=o([4,8],Fe),this.Xc=o([4,17],Fe)}function Oe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Me(){this.ld=this.La=this.dd=this.tc=0}function Ie(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Me),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new $e}function Ve(){this.y=s(16),this.f=s(8),this.ea=s(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Te,this.Kc=new Be,this.ed=new Oe,this.Qa=new Re,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,v),this.ia=0,this.pb=a(4,ze),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Ie),this.sb=0,this.wa=Array(new Me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=o([4,2],Me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function $e(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Xe)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ke(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,a=n.ha;if(4>a)return Ye(e,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");s+=3,a-=3;var c=e.Kc;if(l.Rb){if(7>a)return Ye(e,7,"cannot parse picture header");if(!Ke(r,s,a))return Ye(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,i(o.Zb,0,0,o.Zb.length),i(o.Lb,0,0,o.Lb)}if(l.ub>a)return Ye(e,7,"bad partition length");p(o=e.m,r,s,l.ub),s+=l.ub,a-=l.ub,l.Rb&&(c.Ld=P(o),c.Kd=P(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=P(o),c.Cb){if(c.Bb=P(o),P(o)){for(c.Fb=P(o),d=0;4>d;++d)c.Zb[d]=P(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=P(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=P(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=P(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=P(o),c.Pc&&P(o)){for(u=0;4>u;++u)P(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)P(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=a;if(a=d=s,s=d+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>c&&(f=c),p(e.Jc[+h],r,d,f),d+=f,c-=f,a+=3}p(e.Jc[+u],r,d,c),r=d<s?0:5}if(0!=r)return Ye(e,r,"cannot parse partitions");for(r=m(d=e.m,7),a=P(d)?g(d,4):0,s=P(d)?g(d,4):0,c=P(d)?g(d,4):0,u=P(d)?g(d,4):0,d=P(d)?g(d,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var x=h.Zb[f];h.Fb||(x+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}x=r}var b=e.pb[f];b.Sc[0]=ei[We(x+a,127)],b.Sc[1]=ti[We(x+0,127)],b.Eb[0]=2*ei[We(x+s,127)],b.Eb[1]=101581*ti[We(x+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ei[We(x+u,117)],b.Qc[1]=ti[We(x+d,127)],b.lc=x+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(P(o),l=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(s=0;3>s;++s)for(c=0;11>c;++c)u=L(o,li[r][a][s][c])?m(o,8):ai[r][a][s][c],l.Wc[r][a].Yb[s][c]=u;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][ci[a]]}return e.kc=P(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,n,r,i,s,a){var o=t[i].Yb[n];for(n=0;16>i;++i){if(!L(e,o[n+0]))return i;for(;!L(e,o[n+1]);)if(o=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(L(e,o[n+2])){var c=e,d=0;if(L(c,(h=o)[(u=n)+3]))if(L(c,h[u+6])){for(o=0,u=2*(d=L(c,h[u+8]))+(h=L(c,h[u+9+d])),d=0,h=ri[u];h[o];++o)d+=d+L(c,h[o]);d+=3+(8<<u)}else L(c,h[u+7])?(d=7+2*L(c,165),d+=L(c,145)):d=5+L(c,159);else d=L(c,h[u+4])?3+L(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=a+ii[i],0>(c=e).b&&A(c);var u,h=c.b,f=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(u+1&f)<<h,s[l]=((d^f)-f)*r[(0<i)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function et(e,t,n,r,i,s){Ze(e,t,0,n,r+i),Ze(e,t,1,n,r+s),Ze(e,t,2,n,r-s),Ze(e,t,3,n,r-i)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var i,a=0,o=s(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[a+0]=l+u,o[a+1]=c+d,o[a+2]=c-d,o[a+3]=l-u,a+=4,t++}for(i=a=0;4>i;++i)l=(e=o[a+0]+4)+o[a+8],c=e-o[a+8],d=(35468*o[a+4]>>16)-tt(o[a+12]),Ze(n,r,0,0,l+(u=tt(o[a+4])+(35468*o[a+12]>>16))),Ze(n,r,1,0,c+d),Ze(n,r,2,0,c-d),Ze(n,r,3,0,l-u),a++,r+=32}function rt(e,t,n,r){var i=e[t+0]+4,s=35468*e[t+4]>>16,a=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,i+a,e=tt(e[t+1]),o),et(n,r,1,i+s,e,o),et(n,r,2,i-s,e,o),et(n,r,3,i-a,e,o)}function it(e,t,n,r,i){nt(e,t,n,r),i&&nt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function at(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)Ze(n,r,t,i,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var i,a=s(16);for(i=0;4>i;++i){var o=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],d=e[t+0+i]-e[t+12+i];a[0+i]=o+l,a[8+i]=o-l,a[4+i]=d+c,a[12+i]=d-c}for(i=0;4>i;++i)o=(e=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],d=e-a[3+4*i],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function ct(e,t,n){var r,i=t-32,s=Br,a=255-e[i-1];for(r=0;r<n;++r){var o,l=s,c=a+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[i+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function yt(e,t){mt(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,i=t-32;for(i=new Uint8Array([vt(e[i-1],e[i+0],e[i+1]),vt(e[i+0],e[i+1],e[i+2]),vt(e[i+1],e[i+2],e[i+3]),vt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function Nt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96];C(e,t+0,16843009*vt(e[t-1-32],n,r)),C(e,t+32,16843009*vt(n,r,i)),C(e,t+64,16843009*vt(r,i,s)),C(e,t+96,16843009*vt(i,s,s))}function jt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(a,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,a,s),e[t+3+32]=e[t+2+0]=vt(l,o,a),e[t+3+0]=vt(c,l,o)}function kt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],s=e[t+4-32],a=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,i,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(i,s,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(s,a,o),e[t+3+64]=e[t+2+96]=vt(a,o,l),e[t+3+96]=vt(o,l,l)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+a+1>>1,e[t+1+0]=e[t+2+64]=a+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(i,r,n),e[t+0+64]=vt(r,n,s),e[t+0+32]=e[t+1+96]=vt(n,s,a),e[t+1+32]=e[t+2+96]=vt(s,a,o),e[t+2+32]=e[t+3+96]=vt(a,o,l),e[t+3+32]=vt(o,l,c)}function Pt(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],s=e[t+3-32],a=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+s+1>>1,e[t+3+0]=e[t+2+64]=s+a+1>>1,e[t+0+32]=vt(n,r,i),e[t+1+32]=e[t+0+96]=vt(r,i,s),e[t+2+32]=e[t+1+96]=vt(i,s,a),e[t+3+32]=e[t+2+96]=vt(s,a,o),e[t+3+64]=vt(a,o,l),e[t+3+96]=vt(o,l,c)}function Lt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+s+1>>1,e[t+1+0]=vt(n,r,i),e[t+3+0]=e[t+1+32]=vt(r,i,s),e[t+3+32]=e[t+1+64]=vt(i,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96],a=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=s+i+1>>1,e[t+3+0]=vt(o,l,c),e[t+2+0]=vt(a,o,l),e[t+1+0]=e[t+3+32]=vt(n,a,o),e[t+1+32]=e[t+3+64]=vt(r,n,a),e[t+1+64]=e[t+3+96]=vt(i,r,n),e[t+1+96]=vt(s,i,r)}function _t(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Et(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Tt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Bt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Tt(r>>4,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Tt(r>>3,e,t)}function Ft(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Tt(r>>3,e,t)}function Dt(e,t){Tt(128,e,t)}function Ot(e,t,n){var r=e[t-n],i=e[t+0],s=3*(i-r)+Er[1020+e[t-2*n]-e[t+n]],a=Tr[112+(s+4>>3)];e[t-n]=Br[255+r+Tr[112+(s+3>>3)]],e[t+0]=Br[255+i-a]}function Mt(e,t,n,r){var i=e[t+0],s=e[t+n];return Rr[255+e[t-2*n]-e[t-n]]>r||Rr[255+s-i]>r}function It(e,t,n,r){return 4*Rr[255+e[t-n]-e[t+0]]+Rr[255+e[t-2*n]-e[t+n]]<=r}function zt(e,t,n,r,i){var s=e[t-3*n],a=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Rr[255+o-l]+Rr[255+a-c]>r?0:Rr[255+e[t-4*n]-s]<=i&&Rr[255+s-a]<=i&&Rr[255+a-o]<=i&&Rr[255+u-d]<=i&&Rr[255+d-c]<=i&&Rr[255+c-l]<=i}function Ut(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)It(e,t+r,n,i)&&Ot(e,t+r,n)}function qt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)It(e,t+r*n,1,i)&&Ot(e,t+r*n,1)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)Ut(e,t+=4*n,n,r)}function Ht(e,t,n,r){var i;for(i=3;0<i;--i)qt(e,t+=4,n,r)}function Wt(e,t,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(zt(e,t,n,s,a))if(Mt(e,t,n,o))Ot(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],f=l[c+0],p=l[c+d],m=l[c+2*d],g=27*(b=Er[1020+3*(f-h)+Er[1020+u-p]])+63>>7,x=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=Br[255+l[c-3*d]+b],l[c-2*d]=Br[255+u+x],l[c-d]=Br[255+h+g],l[c+0]=Br[255+f-g],l[c+d]=Br[255+p-x],l[c+2*d]=Br[255+m-b]}t+=r}}function $t(e,t,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(zt(e,t,n,s,a))if(Mt(e,t,n,o))Ot(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],f=l[c+d],p=Tr[112+(4+(m=3*(h-u))>>3)],m=Tr[112+(m+3>>3)],g=p+1>>1;l[c-2*d]=Br[255+l[c-2*d]+g],l[c-d]=Br[255+u+m],l[c+0]=Br[255+h-p],l[c+d]=Br[255+f-g]}t+=r}}function Gt(e,t,n,r,i,s){Wt(e,t,n,1,16,r,i,s)}function Yt(e,t,n,r,i,s){Wt(e,t,1,n,16,r,i,s)}function Kt(e,t,n,r,i,s){var a;for(a=3;0<a;--a)$t(e,t+=4*n,n,1,16,r,i,s)}function Jt(e,t,n,r,i,s){var a;for(a=3;0<a;--a)$t(e,t+=4,1,n,16,r,i,s)}function Xt(e,t,n,r,i,s,a,o){Wt(e,t,i,1,8,s,a,o),Wt(n,r,i,1,8,s,a,o)}function Qt(e,t,n,r,i,s,a,o){Wt(e,t,1,i,8,s,a,o),Wt(n,r,1,i,8,s,a,o)}function Zt(e,t,n,r,i,s,a,o){$t(e,t+4*i,i,1,8,s,a,o),$t(n,r+4*i,i,1,8,s,a,o)}function en(e,t,n,r,i,s,a,o){$t(e,t+4,1,i,8,s,a,o),$t(n,r+4,1,i,8,s,a,o)}function tn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new u}function an(){this.xb=this.a=0,this.l=new $e,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=a(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $e,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,i,s,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[s+t]=e+n[r+t]&255,e=i[s+t]}function cn(e,t,n,r,i,s,a){var o;if(null==e)ln(null,null,n,r,i,s,a);else for(o=0;o<a;++o)i[s+o]=e[t+o]+n[r+o]&255}function dn(e,t,n,r,i,s,a){if(null==e)ln(null,null,n,r,i,s,a);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<a;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,i[s+o]=d}}function un(e,n,i,a){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,f=e.mb,p=e.nb,m=u+1,g=h-1,b=c.l;if(t(null!=d&&null!=f&&null!=n),mi[0]=null,mi[1]=ln,mi[2]=cn,mi[3]=dn,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(b.put=fe,b.ac=he,b.bc=pe,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=Le();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,x(n.m,d,m,g),!Ce(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&je(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=_e(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=l-i}t(null!=e.ga),t(i+a<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(m=e.rc,g=e.Vc,b=e.Fa,u=e.P+1+i*n,h=e.mb,f=e.nb+i*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=mi[d.Z]),c=0;c<a;++c)mi[d.Z](m,g,b,u,h,f,n),m=h,g=f,f+=n,u+=n;else for(c=0;c<a;++c)r(h,f,b,u,n),m=h,g=f,f+=n,u+=n;e.rc=m,e.Vc=g}else{if(t(null!=d.mc),n=i+a,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,m=c.Ba,g=c.c;var y=c.i,v=(b=1,u=c.$/g,h=c.$%g,f=c.m,p=c.s,c.$),w=g*y,N=g*n,S=p.wc,A=v<N?ve(p,h,u):null;t(v<=w),t(n<=y),t(je(p));t:for(;;){for(;!f.h&&v<N;){if(h&S||(A=ve(p,h,u)),t(null!=A),k(f),256>(y=be(A.G[0],A.H[0],f)))d[m+v]=y,++v,++h>=g&&(h=0,++u<=n&&!(u%16)&&ke(c,u));else{if(!(280>y)){b=0;break t}y=ge(y-256,f);var P,L=be(A.G[4],A.H[4],f);if(k(f),!(v>=(L=xe(g,L=ge(L,f)))&&w-v>=y)){b=0;break t}for(P=0;P<y;++P)d[m+v+P]=d[m+v+P-L];for(v+=y,h+=y;h>=g;)h-=g,++u<=n&&!(u%16)&&ke(c,u);v<N&&h&S&&(A=ve(p,h,u))}t(f.h==j(f))}ke(c,u>n?n:u);break t}!b||f.h&&v<w?(b=0,c.a=f.h?5:3):c.$=v,n=b}else n=Ae(c,c.V,c.Ba,c.c,c.i,n,Ee);if(!n){a=0;break e}}i+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*o}function hn(e,t,n,r,i,s){for(;0<i--;){var a,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(a=0;a<r;++a){var u=c[d+4*a];255!=u&&(u*=32897,o[l+4*a+0]=o[l+4*a+0]*u>>23,o[l+4*a+1]=o[l+4*a+1]*u>>23,o[l+4*a+2]=o[l+4*a+2]*u>>23)}t+=s}}function fn(e,t,n,r,i){for(;0<r--;){var s;for(s=0;s<n;++s){var a=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=i}}function pn(e,t,n,r,i,s,a,o){var l,c,d=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var u=e[t+l];s[a+4*l]=u,d&=u}t+=n,a+=o}return 255!=d}function mn(e,t,n,r,i){var s;for(s=0;s<i;++s)n[r+s]=e[t+s]>>8}function gn(){Nr=hn,jr=fn,Sr=pn,kr=mn}function xn(n,r,i){e[n]=function(e,n,s,a,o,l,c,d,u,h,f,p,m,g,x,b,y){var v,w=y-1>>1,N=o[l+0]|c[d+0]<<16,j=u[h+0]|f[p+0]<<16;t(null!=e);var S=3*N+j+131074>>2;for(r(e[n+0],255&S,S>>16,m,g),null!=s&&(S=3*j+N+131074>>2,r(s[a+0],255&S,S>>16,x,b)),v=1;v<=w;++v){var k=o[l+v]|c[d+v]<<16,A=u[h+v]|f[p+v]<<16,P=N+k+j+A+524296,L=P+2*(k+j)>>3;S=L+N>>1,N=(P=P+2*(N+A)>>3)+k>>1,r(e[n+2*v-1],255&S,S>>16,m,g+(2*v-1)*i),r(e[n+2*v-0],255&N,N>>16,m,g+(2*v-0)*i),null!=s&&(S=P+j>>1,N=L+A>>1,r(s[a+2*v-1],255&S,S>>16,x,b+(2*v-1)*i),r(s[a+2*v+0],255&N,N>>16,x,b+(2*v+0)*i)),N=k,j=A}1&y||(S=3*N+j+131074>>2,r(e[n+y-1],255&S,S>>16,m,g+(y-1)*i),null!=s&&(S=3*j+N+131074>>2,r(s[a+y-1],255&S,S>>16,x,b+(y-1)*i)))}}function bn(){gi[Fr]=xi,gi[Dr]=yi,gi[Or]=bi,gi[Mr]=vi,gi[Ir]=wi,gi[zr]=Ni,gi[Ur]=ji,gi[qr]=yi,gi[Vr]=vi,gi[Hr]=wi,gi[Wr]=Ni}function yn(e){return-16384&e?0>e?0:255:e>>Li}function vn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Nn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function jn(e,t,n,r,i){r[i+0]=vn(e,n),r[i+1]=wn(e,t,n),r[i+2]=Nn(e,t)}function Sn(e,t,n,r,i){r[i+0]=Nn(e,t),r[i+1]=wn(e,t,n),r[i+2]=vn(e,n)}function kn(e,t,n,r,i){var s=wn(e,t,n);t=s<<3&224|Nn(e,t)>>3,r[i+0]=248&vn(e,n)|s>>5,r[i+1]=t}function An(e,t,n,r,i){var s=240&Nn(e,t)|15;r[i+0]=240&vn(e,n)|wn(e,t,n)>>4,r[i+1]=s}function Pn(e,t,n,r,i){r[i+0]=255,jn(e,t,n,r,i+1)}function Ln(e,t,n,r,i){Sn(e,t,n,r,i),r[i+3]=255}function Cn(e,t,n,r,i){jn(e,t,n,r,i),r[i+3]=255}function _n(t,n,r){e[t]=function(e,t,i,s,a,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],i[s+0],a[o+0],l,c),n(e[t+1],i[s+0],a[o+0],l,c+r),t+=2,++s,++o,c+=2*r;1&d&&n(e[t+0],i[s+0],a[o+0],l,c)}}function En(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Tn(e,t,n,r,i){switch(e>>>30){case 3:sr(t,n,r,i,0);break;case 2:ar(t,n,r,i);break;case 1:lr(t,n,r,i)}}function Bn(e,t){var n,s,a=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,f=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[f+32*n-1]=129;for(0<a?l[c-1-32]=d[u-1-32]=h[f-1-32]=129:(i(l,c-32-1,127,21),i(d,u-32-1,127,9),i(h,f-32-1,127,9)),s=0;s<e.za;++s){var p=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,f+32*n-4,h,f+32*n+4,4)}var m=e.Gd,g=e.Hd+s,x=p.ad,b=p.Hc;if(0<a&&(r(l,c-32,m[g].y,0,16),r(d,u-32,m[g].f,0,8),r(h,f-32,m[g].ea,0,8)),p.Za){var y=l,v=c-32+16;for(0<a&&(s>=e.za-1?i(y,v,m[g].y[15],4):r(y,v,m[g+1].y,0,4)),n=0;4>n;n++)y[v+128+n]=y[v+256+n]=y[v+384+n]=y[v+0+n];for(n=0;16>n;++n,b<<=2)y=l,v=c+Di[n],ui[p.Ob[n]](y,v),Tn(b,x,16*+n,y,v)}else if(y=En(s,a,p.Ob[0]),di[y](l,c),0!=b)for(n=0;16>n;++n,b<<=2)Tn(b,x,16*+n,l,c+Di[n]);for(n=p.Gc,y=En(s,a,p.Dd),hi[y](d,u),hi[y](h,f),b=x,y=d,v=u,255&(p=0|n)&&(170&p?or(b,256,y,v):cr(b,256,y,v)),p=h,b=f,255&(n>>=8)&&(170&n?or(x,320,p,b):cr(x,320,p,b)),a<e.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,d,u+224,8),r(m[g].ea,0,h,f+224,8)),n=8*o*e.B,m=e.sa,g=e.ta+16*s+16*o*e.R,x=e.qa,p=e.ra+8*s+n,b=e.Ha,y=e.Ia+8*s+n,n=0;16>n;++n)r(m,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(x,p+n*e.B,d,u+32*n,8),r(b,y+n*e.B,h,f+32*n,8)}}function Rn(e,r,i,s,a,o,l,c,d){var u=[0],h=[0],f=0,p=null!=d?d.kd:0,m=null!=d?d:new nn;if(null==e||12>i)return 7;m.data=e,m.w=r,m.ha=i,r=[r],i=[i],m.gb=[m.gb];e:{var g=r,b=i,y=m.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var v=T(e,g[0]+4);if(12>v||4294967286<v){y=3;break e}if(p&&v>b[0]-8){y=7;break e}y[0]=v,g[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(v=0<m.gb[0],i=i[0];;){e:{var N=e;b=r,y=i;var j=u,S=h,k=g=[0];if((L=f=[f])[0]=0,8>y[0])y=7;else{if(!n(N,b[0],"VP8X")){if(10!=T(N,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var A=T(N,b[0]+8),P=1+E(N,b[0]+12);if(2147483648<=P*(N=1+E(N,b[0]+15))){y=3;break e}null!=k&&(k[0]=A),null!=j&&(j[0]=P),null!=S&&(S[0]=N),b[0]+=18,y[0]-=18,L[0]=1}y=0}}if(f=f[0],g=g[0],0!=y)return y;if(b=!!(2&g),!v&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],g=h[0],f&&b&&null==d){y=0;break}if(4>i){y=7;break}if(v&&f||!v&&!f&&!n(e,r[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{A=e,y=r,v=i;var L=m.gb;j=m.na,S=m.P,k=m.Sa,P=22,t(null!=A),t(null!=v),N=y[0];var C=v[0];for(t(null!=j),t(null!=k),j[0]=null,S[0]=null,k[0]=0;;){if(y[0]=N,v[0]=C,8>C){y=7;break e}var _=T(A,N+4);if(4294967286<_){y=3;break e}var B=8+_+1&-2;if(P+=B,0<L&&P>L){y=3;break e}if(!n(A,N,"VP8 ")||!n(A,N,"VP8L")){y=0;break e}if(C[0]<B){y=7;break e}n(A,N,"ALPH")||(j[0]=A,S[0]=N+8,k[0]=_),N+=B,C-=B}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=y)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];e:if(L=e,y=r,v=i,j=m.gb[0],S=m.Ja,k=m.xa,A=y[0],N=!n(L,A,"VP8 "),P=!n(L,A,"VP8L"),t(null!=L),t(null!=v),t(null!=S),t(null!=k),8>v[0])y=7;else{if(N||P){if(L=T(L,A+4),12<=j&&L>j-12){y=3;break e}if(p&&L>v[0]-8){y=7;break e}S[0]=L,y[0]+=8,v[0]-=8,k[0]=P}else k[0]=5<=v[0]&&47==L[A+0]&&!(L[A+4]>>5),S[0]=v[0];y=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=y)break;if(4294967286<m.Ja)return 3;if(null==c||b||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>i){y=7;break}c=l,p=g,b=o,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],L=[0],j=[0],x(S=new w,e,r,i),me(S,v,L,j)?(null!=c&&(c[0]=v[0]),null!=p&&(p[0]=L[0]),null!=b&&(b[0]=j[0]),e=1):e=0):e=0}else{if(10>i){y=7;break}c=g,null==e||10>i||!Ke(e,r+3,i-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=m,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-i));break}return 0==y||7==y&&f&&null==d?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=s&&(s[0]=l),null!=a&&(a[0]=g),0):y}function Fn(e,t,n){var r=t.width,i=t.height,s=0,a=0,o=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,a=e.j,11>n||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=l||s+o>r||a+l>i))return 0;if(t.v=s,t.j=a,t.va=s+o,t.o=a+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!D(o,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Dn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function On(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=i||0>=a||o+i>e||l+a>t)return 2;e=i,t=a}if(n.da){if(!D(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Fr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=a=i=t=0;var u=(l=c*Ii[e])*d;if(11>e||(a=(d+1)/2*(t=(c+1)/2),12==e&&(o=(i=c)*d)),null==(d=s(u+2*a+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=a,c.ea=d,c.W=0+u+a,c.Db=t,c.Ed=a,12==e&&(c.F=d,c.J=0+u+2*a),c.Tc=o,c.lb=i)}if(t=1,i=r.S,a=r.width,o=r.height,i>=Fr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+a<=e.size,t&=l>=a*Ii[i],t&=null!=e.eb;else{e=r.f.kb,l=(a+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(o-1)+a;t&=c*(o-1)+a<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=a&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=a,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Dn(r)),e}var Mn=64,In=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zn=24,Un=32,qn=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];I("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=W,I("Predictor2","PredictorAdd2"),I("Predictor3","PredictorAdd3"),I("Predictor4","PredictorAdd4"),I("Predictor5","PredictorAdd5"),I("Predictor6","PredictorAdd6"),I("Predictor7","PredictorAdd7"),I("Predictor8","PredictorAdd8"),I("Predictor9","PredictorAdd9"),I("Predictor10","PredictorAdd10"),I("Predictor11","PredictorAdd11"),I("Predictor12","PredictorAdd12"),I("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var $n,Gn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Kn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Qn,Zn,er,tr,nr,rr,ir,sr,ar,or,lr,cr,dr,ur,hr,fr,pr,mr,gr,xr,br,yr,vr,wr,Nr,jr,Sr,kr,Ar=s(511),Pr=s(2041),Lr=s(225),Cr=s(767),_r=0,Er=Pr,Tr=Lr,Br=Cr,Rr=Ar,Fr=0,Dr=1,Or=2,Mr=3,Ir=4,zr=5,Ur=6,qr=7,Vr=8,Hr=9,Wr=10,$r=[2,3,7],Gr=[3,3,11],Yr=[280,256,256,256,40],Kr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ti=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ii=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],di=[],ui=[],hi=[],fi=1,pi=2,mi=[],gi=[];xn("UpsampleRgbLinePair",jn,3),xn("UpsampleBgrLinePair",Sn,3),xn("UpsampleRgbaLinePair",Cn,4),xn("UpsampleBgraLinePair",Ln,4),xn("UpsampleArgbLinePair",Pn,4),xn("UpsampleRgba4444LinePair",An,2),xn("UpsampleRgb565LinePair",kn,2);var xi=e.UpsampleRgbLinePair,bi=e.UpsampleBgrLinePair,yi=e.UpsampleRgbaLinePair,vi=e.UpsampleBgraLinePair,wi=e.UpsampleArgbLinePair,Ni=e.UpsampleRgba4444LinePair,ji=e.UpsampleRgb565LinePair,Si=16,ki=1<<Si-1,Ai=-227,Pi=482,Li=6,Ci=0,_i=s(256),Ei=s(256),Ti=s(256),Bi=s(256),Ri=s(Pi-Ai),Fi=s(Pi-Ai);_n("YuvToRgbRow",jn,3),_n("YuvToBgrRow",Sn,3),_n("YuvToRgbaRow",Cn,4),_n("YuvToBgraRow",Ln,4),_n("YuvToArgbRow",Pn,4),_n("YuvToRgba4444Row",An,2),_n("YuvToRgb565Row",kn,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Oi=[0,2,8],Mi=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Dr,u=new tn,h=new ae;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var f=h.width,p=h.height,m=new oe;if(null==m||null==e)var g=2;else t(null!=m),g=Rn(e,n,o,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=g?f=0:(null!=f&&(f[0]=m.width[0]),null!=p&&(p[0]=m.height[0]),f=1),f){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new $e,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=Rn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=fe,l.ac=he,l.bc=pe,l.ma=u,c.xa){if(null==(e=Le())){u=1;break e}if(function(e,n){var r=[0],i=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,x(e.m,n.data,n.w,n.ha),!me(e.m,r,i,s)){e.a=3;break t}if(e.xb=pi,n.width=r[0],n.height=i[0],!Ce(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=On(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Fn(c.Oa,o,Mr)){l.a=2;break n}if(!_e(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!B(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ae(l,l.V,l.Ba,l.c,l.i,o.o,Ne))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=On(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(f=0>(f=o.Md)?0:100<f?255:255*f/100)){for(p=m=0;4>p;++p)12>(g=c.pb[p]).lc&&(g.ia=f*Mi[0>g.lc?0:g.lc]>>3),m|=g.ia;m&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Oi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),u.dd=f,u.tc=2*h+f,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*f;if((u=l+832+(c=3*(16*o+Oi[e.L])/2*p)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=a(p,Ve),e.Hd=0,e.rb=a(m+1,Ie),e.sb=1,e.wa=g?a(g,Me):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=a(x,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Oi[e.L])*e.R,p=p/2*e.B,e.sa=u,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*o*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+p,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),i(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!_r){for(o=-255;255>=o;++o)Ar[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Pr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Lr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Cr[255+o]=0>o?0:255<o?255:o;_r=1}ir=lt,sr=it,or=st,lr=at,cr=ot,ar=rt,dr=Gt,ur=Yt,hr=Xt,fr=Qt,pr=Kt,mr=Jt,gr=Zt,xr=en,br=Ut,yr=qt,vr=Vt,wr=Ht,ui[0]=jt,ui[1]=dt,ui[2]=wt,ui[3]=Nt,ui[4]=St,ui[5]=At,ui[6]=kt,ui[7]=Pt,ui[8]=Ct,ui[9]=Lt,di[0]=gt,di[1]=ht,di[2]=ft,di[3]=pt,di[4]=xt,di[5]=bt,di[6]=yt,hi[0]=Bt,hi[1]=ut,hi[2]=_t,hi[3]=Et,hi[4]=Ft,hi[5]=Rt,hi[6]=Dt,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(a=0;a<c.za;++a){var d=l,u=c,h=u.Ac,f=u.Bc+4*a,p=u.zc,m=u.ya[u.aa+a];if(u.Qa.Bb?m.$b=L(d,u.Pa.jb[0])?2+L(d,u.Pa.jb[2]):L(d,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=L(d,u.Bd)),m.Za=!L(d,145)+0,m.Za){var g=m.Ob,x=0;for(u=0;4>u;++u){var b,y=p[0+u];for(b=0;4>b;++b){y=oi[h[f+b]][y];for(var v=si[L(d,y[0])];0<v;)v=si[2*v+L(d,y[v])];y=-v,h[f+b]=y}r(g,x,h,f,4),x+=4,p[0+u]=y}}else y=L(d,156)?L(d,128)?1:3:L(d,163)?2:0,m.Ob[0]=y,i(h,f,y,4),i(p,0,y,4);m.Dd=L(d,142)?L(d,114)?L(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],f=l.kc?a.Ad:0)d.la=h.la=0,a.Za||(d.Na=h.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,N;if(d=h,h=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],u=p.ad,g=0,x=l.rb[l.sb-1],y=b=0,i(u,g,0,384),p.Za)var j=0,S=f[3];else{v=s(16);var k=d.Na+x.Na;if(k=ni(h,f[1],k,m.Eb,0,v,0),d.Na=x.Na=(0<k)+0,1<k)ir(v,0,u,g);else{var A=v[0]+3>>3;for(v=0;256>v;v+=16)u[g+v]=A}j=1,S=f[0]}var P=15&d.la,C=15&x.la;for(v=0;4>v;++v){var _=1&C;for(A=N=0;4>A;++A)P=P>>1|(_=(k=ni(h,S,k=_+(1&P),m.Sc,j,u,g))>j)<<7,N=N<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;P>>=4,C=C>>1|_<<7,b=(b<<8|N)>>>0}for(S=P,j=C>>4,w=0;4>w;w+=2){for(N=0,P=d.la>>4+w,C=x.la>>4+w,v=0;2>v;++v){for(_=1&C,A=0;2>A;++A)k=_+(1&P),P=P>>1|(_=0<(k=ni(h,f[2],k,m.Qc,0,u,g)))<<3,N=N<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;P>>=2,C=C>>1|_<<5}y|=N<<4*w,S|=P<<4<<w,j|=(240&C)<<w}d.la=S,x.la=j,p.Hc=b,p.Gc=y,p.ia=43690&y?0:m.ia,f=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,c=1,a=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(a.M=o.M,a.uc=d,Bn(o,a),c=1,a=(N=o.D).Nb,d=(y=Oi[o.L])*o.R,h=y/2*o.B,v=16*a*o.R,A=8*a*o.B,f=o.sa,p=o.ta-d+v,m=o.qa,u=o.ra-h+A,g=o.Ha,x=o.Ia-h+A,C=0==(P=N.M),b=P>=o.Va-1,2==o.Aa&&Bn(o,N),N.uc)for(_=(k=o).D.M,t(k.D.uc),N=k.yb;N<k.Hb;++N){j=N,S=_;var E=(T=(U=k).D).Nb;w=U.R;var T=T.wa[T.Y+j],B=U.sa,R=U.ta+16*E*w+16*j,F=T.dd,D=T.tc;if(0!=D)if(t(3<=D),1==U.L)0<j&&yr(B,R,w,D+4),T.La&&wr(B,R,w,D),0<S&&br(B,R,w,D+4),T.La&&vr(B,R,w,D);else{var O=U.B,M=U.qa,I=U.ra+8*E*O+8*j,z=U.Ha,U=U.Ia+8*E*O+8*j;E=T.ld,0<j&&(ur(B,R,w,D+4,F,E),fr(M,I,z,U,O,D+4,F,E)),T.La&&(mr(B,R,w,D,F,E),xr(M,I,z,U,O,D,F,E)),0<S&&(dr(B,R,w,D+4,F,E),hr(M,I,z,U,O,D+4,F,E)),T.La&&(pr(B,R,w,D,F,E),gr(M,I,z,U,O,D,F,E))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(N=16*P,P=16*(P+1),C?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+A,l.ea=o.Ha,l.W=o.Ia+A):(N-=y,l.y=f,l.O=p,l.f=m,l.N=u,l.ea=g,l.W=x),b||(P-=y),P>l.o&&(P=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&N<P&&(l.J=un(o,l,N,P-N),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break t}N<l.j&&(y=l.j-N,N=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),N<P&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=N-l.j,l.U=l.va-l.v,l.T=P-N,c=l.put(l))}a+1!=o.Ic||b||(r(o.sa,o.ta-d,f,p+16*o.R,d),r(o.qa,o.ra-h,m,u+8*o.B,h),r(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=Dn(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Ii=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var f=[0],p=[0],m=[],g=new l,x=e,b=function(e,t){var n={},r=0,i=!1,s=0,a=0;if(n.frames=[],!
/** @license
       * Copyright (c) 2017 Dominik Homberger
      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
      The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      https://webpjs.appspot.com
      WebPRiffParser dominikhlbg@gmail.com
      */
function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var f=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?a:t-8,g.src_size=s+l+8,r++,i&&(i=!1,s=0,a=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+u(e,p),p+=3,g.canvas_height=1+u(e,p),p+=3;break;case"ALPH":i=!0,s=f+8,a=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),p=t+4,g.loop_count=d(e,p),p+=2;break;case"ANMF":var m,g;(g=n.frames[r]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=o&&(t+=f)}return n}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,v=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],p=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var N=v[0],j=g.WebPDecodeRGBA(x,N.src_off,N.src_size,p,f);N.rgba=j,N.imgwidth=p[0],N.imgheight=f[0];for(var S=0;S<p[0]*f[0]*4;S++)m[S]=j[S];return this.width=p,this.height=f,this.data=m,this}!function(e){var t,n,r,i,s,a,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null,p=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){f=null,p=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var s=t[6],a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var o=function(e){var t,n,r=[],i=e.trim();if(""===i)return Lw;if(i in mw)return[mw[i]];for(;""!==i;){switch(n=null,t=(i=xw(i)).charAt(0)){case'"':case"'":n=bw(i.substring(1),t);break;default:n=yw(i)}if(null===n)return Lw;if(r.push(n[0]),""!==(i=xw(n[1]))&&","!==i.charAt(0))return Lw;i=i.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},pw,n.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(i[(s=hw(t[o])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+gw(s)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=cw[e],r=n<=cw.normal?-1:1,i=fw(t,lw,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(s.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=ow[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=uw[e],r=fw(t,dw,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+gw(s)+"'.");return a}(function(e,t){var n,r,i=e.getFontList(),s=JSON.stringify(i);if(null===f||p!==s){var a=(n=i,r=[],Object.keys(n).forEach(function(e){n[e].forEach(function(t){var n=null;switch(t){case"bold":n={family:e,weight:"bold"};break;case"italic":n={family:e,style:"italic"};break;case"bolditalic":n={family:e,weight:"bold",style:"italic"};break;case"":case"normal":n={family:e}}null!==n&&(n.ref={name:e,style:t},r.push(n))})}),r);f=function(e){for(var t={},n=0;n<e.length;++n){var r=hw(e[n]),i=r.family,s=r.stretch,a=r.style,o=r.weight;t[i]=t[i]||{},t[i][s]=t[i][s]||{},t[i][s][a]=t[i][s][a]||{},t[i][s][a][o]=r}return t}(a.concat(t)),p=s}return f}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var m=0;m<o.length;m++)if(u[o[m]]){d=u[o[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,O.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,O.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw zy.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},u.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===Mg(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw zy.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw zy.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),s=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},u.prototype.bezierCurveTo=function(e,t,n,r,i,s){if(isNaN(i)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw zy.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new a(i,s)),l=this.ctx.transform.applyToPoint(new a(e,t)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},u.prototype.arc=function(e,t,n,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw zy.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new a(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:s})},u.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw zy.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw zy.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw zy.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw zy.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=parseFloat(s[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new Wy(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw zy.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=R(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;L.call(this,{text:e,x:t,y:n,scale:s,angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw zy.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=R(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;L.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw zy.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw zy.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw zy.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw zy.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s))throw zy.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(e,t,n,r,i,s);this.ctx.transform=this.ctx.transform.multiply(a)},u.prototype.setTransform=function(e,t,n,r,i,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,n,r,i,s)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,i,s,a,c,d){var u=this.pdf.getImageProperties(e),h=1,f=1,p=1,x=1;void 0!==r&&void 0!==c&&(p=c/r,x=d/i,h=u.width/r*c/r,f=u.height/i*d/i),void 0===s&&(s=t,a=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=i),void 0===r&&void 0===c&&(c=u.width,d=u.height);var v=this.ctx.transform.decompose(),N=R(v.rotate.shx),j=new l,S=(j=(j=(j=j.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new o(s-t*p,a-n*x,r*h,i*f));if(this.autoPaging){for(var k,A=g.call(this,S),P=[],L=0;L<A.length;L+=1)-1===P.indexOf(A[L])&&P.push(A[L]);y(P);for(var C=P[0],_=P[P.length-1],E=C;E<_+1;E++){this.pdf.setPage(E);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],B=1===E?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===E?0:F+(E-2)*D;if(0!==this.ctx.clip_path.length){var M=this.path;k=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(k,this.posX+this.margin[3],-O+B+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var I=JSON.parse(JSON.stringify(S));I=b([I],this.posX+this.margin[3],-O+B+this.ctx.prevPageLastElemOffset)[0];var z=(E>C||E<_)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",I.x,I.y,I.w,I.h,null,null,N),z&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,N)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var s=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"bct":var a=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)x.call(this);return r},x=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=s},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){var n=this.fillStyle,r=this.strokeStyle,i=this.lineCap,s=this.lineWidth,a=Math.abs(s*this.ctx.transform.scaleX),o=this.lineJoin;if(this.autoPaging){for(var l,c,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var p=g.call(this,u[f]),v=0;v<p.length;v+=1)-1===h.indexOf(p[v])&&h.push(p[v]);for(var N=0;N<h.length;N++)for(;this.pdf.internal.getNumberOfPages()<h[N];)x.call(this);y(h);for(var j=h[0],S=h[h.length-1],k=j;k<S+1;k++){this.pdf.setPage(k),this.fillStyle=n,this.strokeStyle=r,this.lineCap=i,this.lineWidth=a,this.lineJoin=o;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P=1===k?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_=1===k?0:L+(k-2)*C;if(0!==this.ctx.clip_path.length){var E=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(l,this.posX+this.margin[3],-_+P+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=E}if(c=JSON.parse(JSON.stringify(d)),this.path=b(c,this.posX+this.margin[3],-_+P+this.ctx.prevPageLastElemOffset),!1===t||0===k){var T=(k>j||k<S)&&m.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,C,null).clip().discardPath()),w.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=s}this.path=d}else this.lineWidth=a,w.call(this,e,t),this.lineWidth=s},w=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,i=[],s=this.path,a=0;a<s.length;a++){var o=s[a];switch(o.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:o,deltas:[],abs:[]});break;case"lt":var l=i.length;if(s[a-1]&&!isNaN(s[a-1].x)&&(n=[o.x-s[a-1].x,o.y-s[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[a-1].x,o.y1-s[a-1].y,o.x2-s[a-1].x,o.y2-s[a-1].y,o.x-s[a-1].x,o.y-s[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=s[a-1].x+2/3*(o.x1-s[a-1].x),d=s[a-1].y+2/3*(o.y1-s[a-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),m=o.x,g=o.y;n=[c-s[a-1].x,d-s[a-1].y,u-s[a-1].x,h-s[a-1].y,m-s[a-1].x,g-s[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,b=0;b<i.length;b++)if(i[b].arc)for(var y=i[b].abs,v=0;v<y.length;v++){var w=y[v];"arc"===w.type?S.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):C.call(this,w.x,w.y),x=!0}else if(!0===i[b].close)this.pdf.internal.out("h"),x=!1;else if(!0!==i[b].begin){var N=i[b].start.x,j=i[b].start.y;_.call(this,i[b].deltas,N,j),x=!0}r&&k.call(this,r),t&&A.call(this)}},N=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},j=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,n,r,i,s,a,o,l){for(var c=T.call(this,n,r,i,s),d=0;d<c.length;d++){var u=c[d];0===d&&(l?P.call(this,u.x1+e,u.y1+t):C.call(this,u.x1+e,u.y1+t)),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?A.call(this):k.call(this,a)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},L=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n,r,i,s=this.pdf.getTextDimensions(e.text),c=N.call(this,e.y),d=j.call(this,c)-s.h,u=this.ctx.transform.applyToPoint(new a(e.x,c));if(this.autoPaging){var h=this.ctx.transform.decompose(),f=new l;f=(f=(f=f.multiply(h.translate)).multiply(h.skew)).multiply(h.scale);for(var p=this.ctx.transform.applyToRectangle(new o(e.x,c,s.w,s.h)),x=f.applyToRectangle(new o(e.x,d,s.w,s.h)),v=g.call(this,x),S=[],k=0;k<v.length;k+=1)-1===S.indexOf(v[k])&&S.push(v[k]);y(S);for(var A=S[0],P=S[S.length-1],L=A;L<P+1;L++){this.pdf.setPage(L);var C=1===L?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[2],T=E-this.margin[0],B=this.pdf.internal.pageSize.width-this.margin[1],R=B-this.margin[3],F=1===L?0:_+(L-2)*T;if(0!==this.ctx.clip_path.length){var D=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-1*F+C),w.call(this,"fill",!0),this.path=D}var O=b([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-F+C+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),i=this.lineWidth,this.lineWidth=i*e.scale);var M="text"!==this.autoPaging;if(M||O.y+O.h<=E){if(M||O.y>=C&&O.x<=B){var I=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||B-O.x)[0],z=b([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-F+C+this.ctx.prevPageLastElemOffset)[0],U=M&&(L>A||L<P)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,T,null).clip().discardPath()),this.pdf.text(I,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else O.y<E&&(this.ctx.prevPageLastElemOffset+=E-O.y);e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=i)}}else e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),i=this.lineWidth,this.lineWidth=i*e.scale),this.pdf.text(e.text,u.x+this.posX,u.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=i)},C=function(e,t,i,s){i=i||0,s=s||0,this.pdf.internal.out(n(e+i)+" "+r(t+s)+" l")},_=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,n,r,a,o,l,c,d){this.pdf.internal.out([t(i(r+e)),t(s(a+n)),t(i(o+e)),t(s(l+n)),t(i(c+e)),t(s(d+n)),"c"].join(" "))},T=function(e,t,n,r){for(var i=2*Math.PI,s=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var o=[],l=r?-1:1,c=t;a>1e-5;){var d=c+l*Math.min(a,s);o.push(B.call(this,e,c,d)),a-=Math.abs(d-c),c=d}return o},B=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),s=e*Math.sin(r),a=i,o=-s,l=a*a+o*o,c=l+a*i+o*s,d=4/3*(Math.sqrt(2*l*c)-c)/(a*s-o*i),u=a-d*o,h=o+d*a,f=u,p=-h,m=r+t,g=Math.cos(m),x=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:f*g-p*x,y3:f*x+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},R=function(e){return 180*e/Math.PI},F=function(e,t,n,r,i,s){var a=e+.5*(n-e),l=t+.5*(r-t),c=i+.5*(n-i),d=s+.5*(r-s),u=Math.min(e,i,a,c),h=Math.max(e,i,a,c),f=Math.min(t,s,l,d),p=Math.max(t,s,l,d);return new o(u,f,h-u,p-f)},D=function(e,t,n,r,i,s,a,l){var c,d,u,h,f,p,m,g,x,b,y,v,w,N,j=n-e,S=r-t,k=i-n,A=s-r,P=a-i,L=l-s;for(d=0;d<41;d++)x=(m=(u=e+(c=d/40)*j)+c*((f=n+c*k)-u))+c*(f+c*(i+c*P-f)-m),b=(g=(h=t+c*S)+c*((p=r+c*A)-h))+c*(p+c*(s+c*L-p)-g),0==d?(y=x,v=b,w=x,N=b):(y=Math.min(y,x),v=Math.min(v,b),w=Math.max(w,x),N=Math.max(N,b));return new o(Math.round(y),Math.round(v),Math.round(w-y),Math.round(N-v))},O=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(xv.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){var t,n,r,i,s,a,o,l,c,d;for(n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(s=((s=((s=((s=(s-(d=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(a+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,s,a=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],i=0,s=(e+=t="uuuuu"[d](e[o]%5||5))[o];s>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),a.fromCharCode.apply(a,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=bx(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,a){var o=0,l=e||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(xv.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(i){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(xv.API),function(e){function t(){return(My.html2canvas?Promise.resolve(My.html2canvas):Og(()=>import("./html2canvas.esm-BTH0Ap93.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function n(){return(My.DOMPurify?Promise.resolve(My.DOMPurify):Og(()=>import("./purify.es-BLKhEpFv.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var r=function(e){var t=Mg(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},s=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},a=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(n).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var a=n[s],o=a.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},a.prototype.get=function(e,t){return this.then(function(){var n=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},a.prototype.setMargin=function(e){return this.then(function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||xv.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},a.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},a.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:a.convert(Object.assign({},r),Promise.prototype),s=n.call(i,e,t);return a.convert(s,r.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then(function(){throw new Error(e)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,xv.getPageSize=function(e,t,n){if("object"===Mg(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(a.hasOwnProperty(s))l=a[s][1]/i,c=a[s][0]/i;else try{l=n[1],c=n[0]}catch(d){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(hw):null;var n=new a(t);return t.worker?n:n.from(e).doCallback()}}(xv.API),xv.API.addJS=function(e){return Nw=e,this.internal.events.subscribe("postPutResources",function(){vw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ww=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Nw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==vw&&void 0!==ww&&this.internal.out("/Names <</JavaScript "+vw+" 0 R>>")}),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var s=r[i],a=n.exec(s);if(null!=a){var o=a[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(xv.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,s,a){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,s={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),s={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(xv.API),xv.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=new Fy(e,{checkCrc:!0}).decode(),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;i=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,i=e.palette,s=e.depth,a=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<i.length;h++){var f=wx(i[h],4),p=f[0],m=f[1],g=f[2],x=f[3];o.push(p,m,g),null!=x&&(0===x?(u++,l.length<1&&l.push(h)):x<255&&(d=!0))}if(d||u>1){a=!0,l=void 0;var b=t*n;c=new Uint8Array(b);for(var y=new DataView(r.buffer),v=0;v<b;v++){var w=wx(i[Ow(y,v,s)],4)[3];c[v]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:a?8:void 0,colorBytes:r,alphaBytes:c,needSMask:a,palette:o,mask:l}}(s):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,i=e.channels,s=e.depth,a=2===i?"DeviceGray":"DeviceRGB",o=i-1,l=n*r,c=o,d=l*c,u=1*l,h=Math.ceil(d*s/8),f=Math.ceil(u*s/8),p=new Uint8Array(h),m=new Uint8Array(f),g=new DataView(t.buffer),x=new DataView(p.buffer),b=new DataView(m.buffer),y=!1,v=0;v<l;v++){for(var w=v*i,N=0;N<c;N++)Mw(x,Ow(g,w+N,s),v*c+N,s);var j=Ow(g,w+c,s);j<(1<<s)-1&&(y=!0),Mw(b,j,1*v,s)}return{colorSpace:a,colorsPerPixel:o,sMaskBitsPerComponent:y?s:void 0,colorBytes:p,alphaBytes:m,needSMask:y}}(s):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),i=0;i<t;i++)r.setUint16(2*i,e[i],!1);return n}(t):t,needSMask:!1}}(s);var u,h,f,p=i,m=p.colorSpace,g=p.colorsPerPixel,x=p.sMaskBitsPerComponent,b=p.colorBytes,y=p.alphaBytes,v=p.needSMask,w=p.palette,N=p.mask,j=null;return r!==xv.API.image_compression.NONE?(j=function(e){var t;switch(e){case xv.API.image_compression.FAST:t=11;break;case xv.API.image_compression.MEDIUM:t=13;break;case xv.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(j," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=Cw(b,Math.ceil(a*g*d/8),g,d,r),v&&(f=Cw(y,Math.ceil(a*x/8),1,x,r))):(u=void 0,h=void 0,e=b,v&&(f=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:N,palette:w,sMask:f,predictor:j,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,r,i){var s=new zw(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new qw(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(xv.API),Vw.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vw.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){zy.log("bit decode error:"+n)}},Vw.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Vw.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Vw.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},Vw.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=e}},Vw.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Vw.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Vw.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Vw.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processBMP=function(t,n,r,i){var s=new Vw(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new qw(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(xv.API),Hw.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processWEBP=function(t,n,r,i){var s=new Hw(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new qw(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(xv.API),xv.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=r[c],u=r[c+1],h=r[c+2],f=r[c+3];s[o++]=d,s[o++]=u,s[o++]=h,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},xv.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jw=xv.API,Sw=jw.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,f=e.length,p=0,m=o[0]||l,g=[];for(n=0;n<f;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(h=u&&"object"===Mg(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/d:0,g.push((o[r]||m)/l+h)),p=r;return g},kw=jw.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return jw.processArabic&&(e=jw.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Sw.apply(this,arguments).reduce(function(e,t){return e+t},0)},Aw=function(e,t,n,r){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>r&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},Pw=function(e,t,n){n||(n={});var r,i,s,a,o,l,c,d=[],u=[d],h=n.textIndent||0,f=0,p=0,m=e.split(" "),g=Sw.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),b=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),m=b,l=kw.apply(this,[x,n])}for(s=0,a=m.length;s<a;s++){var y=0;if(r=m[s],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+f+(p=(i=Sw.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(p>t){for(o=Aw.apply(this,[r,i,t-(h+f),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);p=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=p+l,f=g}else d.push(r),h+=f+p,f=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},jw.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(Pw.apply(this,[r[o],a,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var a=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=a(c).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(r=a(t).slice(3),s="-"):(r=a(t).slice(2),s=""),r=s+r.slice(0,-1)+i[r.slice(-1)];else{if("object"!==Mg(t))throw new Error("Don't know what to do with value type "+Mg(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,s,a={},o=1,l=a,c=[],d="",u="",h=e.length-1,f=1;f<h;f+=1)"'"==(s=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((n=c.pop())[0][n[1]]=l,i=void 0,l=n[0]):"-"==s?o=-1:void 0===i?r.hasOwnProperty(s)?(d+=r[s],i=parseInt(d,16)*o,o=1,d=""):d+=s:r.hasOwnProperty(s)?(u+=r[s],l[i]=parseInt(u,16)*o,o=1,i=void 0,u=""):u+=s;return a},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(xv.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r,i,s=void 0,a=n.font,o=n.instance;if(!a.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(s=!1===o.existsFileInVFS(a.postScriptName)?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");r=a,i=/^\x00\x01\x00\x00/.test(i=s)?t(i):t($y(i)),r.metadata=e.API.TTFFont.open(i),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}}])}(xv),xv.API.addSvgAsImage=function(e,t,n,r,i,s,a,o){if(isNaN(t)||isNaN(n))throw zy.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw zy.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(My.canvg?Promise.resolve(My.canvg):Og(()=>import("./index.es-CIH7F7Lw.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,a,o)})},xv.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},xv.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=o.length;for(u=0;u<f;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===Mg(e))for(i in e)if(s=e[i],h(o,i)&&void 0!==s){if("boolean"===n[i].type&&"boolean"==typeof s)n[i].value=s;else if("name"===n[i].type&&h(n[i].valueSet,s))n[i].value=s;else if("integer"===n[i].type&&Number.isInteger(s))n[i].value=s;else if("array"===n[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)"number"!=typeof s[c][d]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(xv.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],s=[""],a=0,o=e.length;a<o;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(i[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,i,s,a,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;a<o;a++)t=n[a],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,s=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=s();a({data:c,addLength1:!0,objectId:u}),i("endobj");var h=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=s();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+uv(n.fontName)),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=s();i("<<"),i("/Type /Font"),i("/BaseFont /"+uv(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=s(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+uv(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,s=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=s();a({data:l,addLength1:!0,objectId:d}),i("endobj");var u=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),i("endobj");var h=s();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+d+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+uv(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+uv(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,s=e.y,a=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",f=0,p="",m=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:i,y:s,options:a,mutex:o};for(p=r,u=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=p[f]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=n(h,d[u])),o.isHex=!0,{text:g,x:i,y:s,options:a,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([i(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(i(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(xv),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(xv.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,s,a,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,a,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?a[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(i&&!s){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var f=e[o],p=f>=1425&&f<=2303||64286===f;if(l=t[d],p&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":a[o-1];break;case"B":g=!1,n=!0,h=x;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&N(r,n,{hiLevel:x}),r.reverse(),t&&t.reverse(),r.join("")},N=function(e,t,i){var s,a,o,l,c,f=-1,p=e.length,m=0,y=[],w=x?u:d,N=[];for(g=!1,n=!1,r=!1,a=0;a<p;a++)N[a]=b(e[a]);for(o=0;o<p;o++){if(c=m,y[o]=v(e,N,y,o),s=240&(m=w[c][h[y[o]]]),m&=15,t[o]=l=w[m][5],s>0)if(16===s){for(a=f;a<o;a++)t[a]=1;f=-1}else f=-1;if(w[m][6])-1===f&&(f=o);else if(f>-1){for(a=f;a<o;a++)t[a]=l;f=-1}"B"===N[o]&&(t[o]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=x;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=x}}(N,t,p)},j=function(e,t,r,i,s){if(!(s.hiLevel<e)){if(1===e&&1===x&&!n)return t.reverse(),void(r&&r.reverse());for(var a,o,l,c,d=t.length,u=0;u<d;){if(i[u]>=e){for(l=u+1;l<d&&i[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)a=t[c],t[c]=t[o],t[o]=a,r&&(a=r[c],r[c]=r[o],r[o]=a);u=l}u++}}},S=function(e,t,n){var r=e.split(""),i={hiLevel:x};return n||(n=[]),N(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=p.indexOf(e[i]))>=0&&(e[i]=p[r+1])}(r,n,i),j(2,r,t,n,i),j(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=y(e)),void 0===o&&(o=y(e))}(e,t),i||!a||o)if(i&&a&&s^o)x=s?1:0,e=w(e,t,n);else if(!i&&a&&o)x=s?1:0,e=S(e,t,n),e=w(e,t);else if(!i||s||a||o){if(i&&!a&&s^o)e=w(e,t),s?(x=0,e=S(e,t,n)):(x=1,e=S(e,t,n),e=w(e,t));else if(i&&s&&!a&&o)x=1,e=S(e,t,n),e=w(e,t);else if(!i&&!a&&s^o){var r=l;s?(x=1,e=S(e,t,n),x=0,l=!1,e=S(e,t,n),l=r):(x=0,e=S(e,t,n),e=w(e,t),x=1,l=!1,e=S(e,t,n),l=r,e=w(e,t))}}else x=0,e=S(e,t,n);else x=s?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(i=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?i.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):i.push([n.doBidiReorder(t[s])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(xv),xv.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new $w(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new uN(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Gw(this.contents),this.head=new Jw(this),this.name=new rN(this),this.cmap=new Qw(this),this.toUnicode={},this.hhea=new Zw(this),this.maxp=new iN(this),this.hmtx=new sN(this),this.post=new tN(this),this.os2=new eN(this),this.loca=new dN(this),this.glyf=new oN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,s,a;for(s=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Ww,$w=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,s,a,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^s)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*s+256*a+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),Gw=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,s,a,o,l,c,d,u,h,f,p;for(p in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),s=Math.floor(d/o),c=16*h-d,(r=new $w).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(s),r.writeShort(c),i=16*h,l=r.pos+i,a=null,f=[],t)for(u=t[p],r.writeString(p),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),f=f.concat(u),"head"===p&&(a=l),l+=u.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=aN.call(e);e.length%4;)e.push(0);for(r=new $w(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Yw={}.hasOwnProperty,Kw=function(e,t){for(var n in t)Yw.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ww=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Jw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new $w).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Xw=function(){function e(e,t){var n,r,i,s,a,o,l,c,d,u,h,f,p,m,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,i=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,b=i.length;g<b;o=++g)for(m=i[o],n=x=f=p[o];f<=m?x<=m:x>=m;n=f<=m?++x:--x)0===c[o]?s=n+l[o]:0!==(s=a[c[o]/2+(n-f)-(u-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}e.pos=d}return e.encode=function(e,t){var n,r,i,s,a,o,l,c,d,u,h,f,p,m,g,x,b,y,v,w,N,j,S,k,A,P,L,C,_,E,T,B,R,F,D,O,M,I,z,U,q,V,H,W,$,G;switch(C=new $w,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),x={0:0},i={},_=0,R=s.length;_<R;_++)null==x[H=e[r=s[_]]]&&(x[H]=++p),i[r]={old:e[r],new:x[e[r]]},m[r]=x[e[r]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(m),{charMap:i,subtable:C.data,maxGlyphID:p+1};case"unicode":for(P=[],d=[],b=0,x={},n={},g=l=null,E=0,F=s.length;E<F;E++)null==x[v=e[r=s[E]]]&&(x[v]=++b),n[r]={old:v,new:x[v]},a=x[v]-r,null!=g&&a===l||(g&&d.push(g),P.push(r),l=a),g=r;for(g&&d.push(g),d.push(65535),P.push(65535),k=2*(S=P.length),j=2*Math.pow(Math.log(S)/Math.LN2,2),u=Math.log(j/2)/Math.LN2,N=2*S-j,o=[],w=[],h=[],f=T=0,D=P.length;T<D;f=++T){if(A=P[f],c=d[f],65535===A){o.push(0),w.push(0);break}if(A-(L=n[A].new)>=32768)for(o.push(0),w.push(2*(h.length+S-f)),r=B=A;A<=c?B<=c:B>=c;r=A<=c?++B:--B)h.push(n[r].new);else o.push(L-A),w.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*S+2*h.length),C.writeUInt16(0),C.writeUInt16(k),C.writeUInt16(j),C.writeUInt16(u),C.writeUInt16(N),q=0,O=d.length;q<O;q++)r=d[q],C.writeUInt16(r);for(C.writeUInt16(0),V=0,M=P.length;V<M;V++)r=P[V],C.writeUInt16(r);for(W=0,I=o.length;W<I;W++)a=o[W],C.writeUInt16(a);for($=0,z=w.length;$<z;$++)y=w[$],C.writeUInt16(y);for(G=0,U=h.length;G<U;G++)p=h[G],C.writeUInt16(p);return{charMap:n,subtable:C.data,maxGlyphID:b+1}}},e}(),Qw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Xw(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Xw.encode(e,t),(r=new $w).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Zw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),eN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),tN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),nN=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},rN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,s,a,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(o={},i=c=0,d=n.length;c<d;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),s=new nN(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(h){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),iN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),sN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,s,a,o;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),aN=[].slice,oN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,s,a,o,l,c,d;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(a=new $w(t.read(r))).readShort(),l=a.readShort(),d=a.readShort(),o=a.readShort(),c=a.readShort(),this.cache[e]=-1===s?new cN(a,l,d,o,c):new lN(a,s,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,s,a,o;for(s=[],i=[],a=0,o=t.length;a<o;a++)r=e[t[a]],i.push(s.length),r&&(s=s.concat(r.encode(n)));return i.push(s.length),{table:s,offsets:i}},e}(),lN=function(){function e(e,t,n,r,i,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),cN=function(){function e(e,t,n,r,i){var s,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new $w(aN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),dN=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kw(e,Ww),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,s=0;s<n.length;++s)if(n[s]=r,i<t.length&&t[i]==s){++i,n[s]=r;var a=this.offsets[s],o=this.offsets[s+1]-a;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),uN=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,s,a,o;for(r={},s=0,a=e.length;s<a;s++)r[i=e[s]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in o=this.glyphsFor(t))n=o[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,s,a,o,l,c,d,u,h,f,p,m,g;for(r in n=Qw.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(f in u=n.maxGlyphID,s)f in h||(h[f]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),p=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)a=d[e],n.push(c[a]);return n}(),i=this.font.glyf.encode(s,p,h),l=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();xv.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var e,i,s;for(s=[],e=0,i=n.length;e<i;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join("\n")}return""+n},t}();const hN=e=>{const t=new xv;t.setFillColor(220,38,38),t.rect(0,0,210,40,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.setFont(void 0,"bold"),t.text("BloodBridge",105,20,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"normal"),t.text("Blood Purchase Receipt",105,30,{align:"center"}),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont(void 0,"bold"),t.text("Tracking Number:",20,55),t.setFont(void 0,"normal"),t.text(e.trackingNumber||"N/A",70,55),t.setFont(void 0,"bold"),t.text("Date:",20,65),t.setFont(void 0,"normal"),t.text(new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),70,65),t.setFont(void 0,"bold"),t.text("Status:",20,75),t.setFont(void 0,"normal"),t.text(e.status.toUpperCase(),70,75),t.setFont(void 0,"bold"),t.text("Expiry Date:",20,85),t.setFont(void 0,"normal"),t.setTextColor(255,140,0),t.text(e.expiryDate?new Date(e.expiryDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",70,85),t.setTextColor(0,0,0),t.setDrawColor(200,200,200),t.line(20,92,190,92),t.setFontSize(16),t.setFont(void 0,"bold"),t.text("Source Information",20,102),t.setFontSize(12),t.setFont(void 0,"normal"),t.text(`Name: ${e.sourceName}`,20,112),t.text("Type: "+("organization"===e.sourceType?"Organization":"Hospital"),20,120),t.line(20,127,190,127),t.setFontSize(16),t.setFont(void 0,"bold"),t.text("Blood Details",20,137),t.setFontSize(12),t.setFont(void 0,"normal"),t.text(`Blood Type: ${e.bloodType}`,20,147),t.text(`Units: ${e.units}`,20,155),t.text(`Urgency: ${e.urgency.toUpperCase()}`,20,163),t.line(20,170,190,170),t.setFontSize(16),t.setFont(void 0,"bold"),t.text("Patient Information",20,180),t.setFontSize(12),t.setFont(void 0,"normal"),t.text(`Patient Name: ${e.patientName}`,20,190),e.patientAge&&t.text(`Patient Age: ${e.patientAge}`,20,198),e.patientCondition&&t.text(`Condition: ${e.patientCondition}`,20,206),t.line(20,213,190,213),t.setFontSize(16),t.setFont(void 0,"bold"),t.text("Contact Information",20,223),t.setFontSize(12),t.setFont(void 0,"normal"),t.text(`Contact Name: ${e.contactName}`,20,233),t.text(`Phone: ${e.contactPhone}`,20,241),e.contactEmail&&t.text(`Email: ${e.contactEmail}`,20,249),t.line(20,256,190,256),t.setFontSize(16),t.setFont(void 0,"bold"),t.text("Pricing Breakdown",20,256),t.setFontSize(11),t.setFont(void 0,"normal");let n=266;t.text(`Blood Price (${e.units} units x ${e.pricing.bloodPrice}):`,20,n),t.text(""+e.pricing.bloodPrice*e.units,160,n,{align:"right"}),n+=8,t.text("Processing Fee:",20,n),t.text(`${e.pricing.processingFee}`,160,n,{align:"right"}),n+=8,t.text("Screening Fee:",20,n),t.text(`${e.pricing.screeningFee}`,160,n,{align:"right"}),n+=8,t.text("Service Charge:",20,n),t.text(`${e.pricing.serviceCharge}`,160,n,{align:"right"}),n+=8,e.pricing.additionalFees&&Object.keys(e.pricing.additionalFees).length>0&&Object.entries(e.pricing.additionalFees).forEach(([e,r])=>{const i=e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());t.text(`${i}:`,20,n),t.text(`${r}`,160,n,{align:"right"}),n+=8}),t.setDrawColor(0,0,0),t.setLineWidth(.5),t.line(20,n,190,n),n+=10,t.setFontSize(14),t.setFont(void 0,"bold"),t.text("Total Cost:",20,n),t.setTextColor(22,163,74),t.text(`${e.pricing.totalCost.toLocaleString()}`,160,n,{align:"right"}),t.setTextColor(128,128,128),t.setFontSize(10),t.setFont(void 0,"normal"),t.text("Thank you for using BloodBridge!",105,285,{align:"center"}),t.text("For support, contact: support@bloodbridge.bd",105,292,{align:"center"});const r=`BloodBridge_Receipt_${e.trackingNumber||e._id}.pdf`;t.save(r)},fN=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState(""),[a,o]=V.useState("all"),l=df();V.useEffect(()=>{c()},[]);const c=async()=>{try{const e=localStorage.getItem("token");if(!e)return void l("/login");const n=await yg.get("/api/blood-purchases/my-purchases",{headers:{Authorization:`Bearer ${e}`}});t(n.data.purchases||[]),r(!1)}catch(e){console.error("Error fetching purchases:",e),s("Failed to load purchases"),r(!1)}},d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=e.filter(e=>"all"===a||e.status===a);return n?Z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-red-600 mx-auto"}),Z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchases..."})]})}):Z.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:Z.jsxs("div",{className:"container mx-auto px-4",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsx("h1",{className:"text-4xl font-bold text-red-600",children:"My Blood Purchases"}),Z.jsx("button",{onClick:()=>l("/buy-blood"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition font-semibold",children:"+ New Purchase"})]}),i&&Z.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg mb-6",children:i}),Z.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Verified",value:"verified"},{label:"Confirmed",value:"confirmed"},{label:"Ready",value:"ready"},{label:"Completed",value:"completed"},{label:"Cancelled",value:"cancelled"}].map(e=>Z.jsx("button",{onClick:()=>o(e.value),className:"px-4 py-2 rounded-lg font-semibold transition "+(a===e.value?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:e.label},e.value))}),Z.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Purchases"}),Z.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),Z.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"pending"===e.status).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Progress"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>"verified"===e.status||"confirmed"===e.status||"ready"===e.status).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"completed"===e.status).length})]})]}),0===u.length?Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[Z.jsx("div",{className:"text-6xl mb-4",children:""}),Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No purchases found"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"all"===a?"You haven't made any blood purchase requests yet.":`No purchases with status "${a}".`}),Z.jsx("button",{onClick:()=>l("/buy-blood"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition font-semibold",children:"Make Your First Purchase"})]}):Z.jsx("div",{className:"space-y-4",children:u.map(e=>{return Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{children:[Z.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.sourceName}),Z.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold "+("organization"===e.sourceType?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.sourceType})]}),e.trackingNumber&&Z.jsxs("p",{className:"text-sm font-mono bg-blue-50 text-blue-700 px-3 py-1 rounded inline-block mb-2",children:["Tracking: ",e.trackingNumber]}),Z.jsxs("p",{className:"text-xs text-gray-500",children:["Order Date: ",d(e.createdAt)]})]}),Z.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n=e.status,{pending:"bg-yellow-100 text-yellow-800",verified:"bg-blue-100 text-blue-800",confirmed:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",completed:"bg-green-600 text-white",cancelled:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"}`,children:e.status.toUpperCase()})]}),Z.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Blood Type"}),Z.jsx("p",{className:"text-lg font-bold text-red-600",children:e.bloodType})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Units"}),Z.jsx("p",{className:"text-lg font-bold text-gray-800",children:e.units})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Cost"}),Z.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",e.pricing.totalCost]})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Expiry Date"}),Z.jsx("p",{className:"text-lg font-bold text-orange-600",children:e.expiryDate?d(e.expiryDate):"N/A"})]})]}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4 text-sm",children:[Z.jsx("div",{children:Z.jsxs("p",{className:"text-gray-600",children:["Patient: ",e.patientName]})}),Z.jsx("div",{children:Z.jsxs("p",{className:"text-gray-600",children:["Contact: ",e.contactPhone]})}),Z.jsx("div",{children:Z.jsxs("p",{className:(t=e.urgency,{emergency:"text-red-600 font-bold",urgent:"text-orange-600 font-semibold",normal:"text-gray-600"}[t]||"text-gray-600"),children:["Urgency: ",e.urgency.toUpperCase()]})})]}),Z.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[Z.jsxs("div",{className:"text-sm text-gray-600",children:[Z.jsxs("p",{children:["Required: ",d(e.requiredDate)]}),Z.jsxs("p",{children:["Submitted: ",d(e.createdAt)]})]}),e.pickupDetails&&Z.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-sm",children:[Z.jsx("p",{className:"font-semibold text-green-800 mb-1",children:"Pickup Details:"}),e.pickupDetails.date&&Z.jsxs("p",{className:"text-gray-700",children:["Date: ",d(e.pickupDetails.date)]}),e.pickupDetails.time&&Z.jsxs("p",{className:"text-gray-700",children:["Time: ",e.pickupDetails.time]}),e.pickupDetails.address&&Z.jsxs("p",{className:"text-gray-700",children:["Address: ",e.pickupDetails.address]})]}),Z.jsxs("div",{className:"flex gap-2",children:[["completed","ready"].includes(e.status)&&Z.jsxs("button",{onClick:()=>hN(e),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Receipt"]}),["pending","verified"].includes(e.status)&&Z.jsx("button",{onClick:()=>(async e=>{var t,n;if(window.confirm("Are you sure you want to cancel this purchase?"))try{const t=localStorage.getItem("token");await yg.delete(`/api/blood-purchases/${e}`,{headers:{Authorization:`Bearer ${t}`}}),c(),alert("Purchase cancelled successfully")}catch(r){console.error("Error cancelling purchase:",r),alert((null==(n=null==(t=r.response)?void 0:t.data)?void 0:n.message)||"Failed to cancel purchase")}})(e._id),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition font-semibold",children:"Cancel"})]})]}),e.adminNotes&&Z.jsxs("div",{className:"mt-4 bg-blue-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Admin Notes:"}),Z.jsx("p",{className:"text-sm text-gray-700",children:e.adminNotes})]})]},e._id);var t,n})})]})})},pN=yg.create({baseURL:"https://bloodbridge-five.vercel.app",withCredentials:!1,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});pN.interceptors.request.use(e=>{"get"===e.method&&(e.params={...e.params,_t:Date.now()});const t=localStorage.getItem("adminToken"),n=localStorage.getItem("token"),r=t||n;return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>(console.error("Request Error:",e),Promise.reject(e))),pN.interceptors.response.use(e=>e,e=>{if(!e.response)return Promise.reject({message:"Unable to connect to the server. Please check your internet connection."});if(401===e.response.status){return"true"===localStorage.getItem("isAdminLoggedIn")?(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),localStorage.removeItem("isAdminLoggedIn"),window.location.href="/admin"):(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject({message:"Session expired. Please login again."})}return Promise.reject({message:e.response.data.message||"An error occurred",status:e.response.status})});const mN=({isOpen:e,onClose:t,message:n,buttonText:r,buttonAction:i})=>{const s=df();return e?Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[Z.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Notice"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:n}),Z.jsxs("div",{className:"flex justify-end space-x-4",children:[Z.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Close"}),Z.jsx("button",{onClick:()=>{t(),i&&s(i)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:r})]})]})}):null},gN=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState(""),[a,o]=V.useState(!1),l=df(),c=[{_id:"static1",patientName:"John Smith",bloodType:"O+",units:2,hospital:"City General Hospital",urgency:"emergency",requiredDate:new Date(Date.now()+864e5),status:"pending",contactName:"Sarah Smith",contactPhone:"+1 234-567-8901",isStatic:!0,createdAt:new Date(Date.now()-432e6)},{_id:"static2",patientName:"Maria Garcia",bloodType:"A-",units:3,hospital:"St. Mary's Medical Center",urgency:"urgent",requiredDate:new Date(Date.now()+1728e5),status:"approved",contactName:"Carlos Garcia",contactPhone:"+1 234-567-8902",isStatic:!0,createdAt:new Date(Date.now()-3456e5)},{_id:"static3",patientName:"David Chen",bloodType:"B+",units:1,hospital:"Metropolitan Hospital",urgency:"normal",requiredDate:new Date(Date.now()+2592e5),status:"fulfilled",contactName:"Lisa Chen",contactPhone:"+1 234-567-8903",isStatic:!0,createdAt:new Date(Date.now()-2592e5)},{_id:"static4",patientName:"Emma Wilson",bloodType:"AB+",units:4,hospital:"Children's Hospital",urgency:"emergency",requiredDate:new Date(Date.now()+432e5),status:"pending",contactName:"James Wilson",contactPhone:"+1 234-567-8904",isStatic:!0,createdAt:new Date(Date.now()-1728e5)},{_id:"static5",patientName:"Michael Brown",bloodType:"O-",units:2,hospital:"Regional Medical Center",urgency:"urgent",requiredDate:new Date(Date.now()+3456e5),status:"pending",contactName:"Jennifer Brown",contactPhone:"+1 234-567-8905",isStatic:!0,createdAt:new Date(Date.now()-864e5)},{_id:"static6",patientName:"Sophia Lee",bloodType:"A+",units:3,hospital:"Memorial Hospital",urgency:"normal",requiredDate:new Date(Date.now()+5184e5),status:"approved",contactName:"Robert Lee",contactPhone:"+1 234-567-8906",isStatic:!0,createdAt:new Date(Date.now()-432e5)},{_id:"static7",patientName:"James Wilson",bloodType:"B-",units:2,hospital:"Community Hospital",urgency:"emergency",requiredDate:new Date(Date.now()+864e5),status:"pending",contactName:"Emily Wilson",contactPhone:"+1 234-567-8907",isStatic:!0,createdAt:new Date(Date.now()-216e5)}];V.useEffect(()=>{(async()=>{try{r(!0),s("");const e=(await pN.get("/api/public/blood-requests")).data||[],n=JSON.parse(localStorage.getItem("bloodRequests")||"[]"),i=[...e,...n],a=i.filter((e,t,n)=>t===n.findIndex(t=>t._id===e._id)).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt));t(a)}catch(e){console.error("Error loading blood requests:",e),s("Failed to load blood requests from server"),t(c)}finally{r(!1)}})();const e=e=>{if("bloodRequests"===e.key){const n=[...JSON.parse(e.newValue||"[]").map(e=>({...e,isStatic:!1})),...c].sort((e,t)=>!e.isStatic&&t.isStatic?-1:e.isStatic&&!t.isStatic?1:new Date(t.createdAt)-new Date(e.createdAt));t(n)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const d=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"fulfilled":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=e=>{switch(e){case"emergency":return"bg-red-100 text-red-800";case"urgent":return"bg-orange-100 text-orange-800";case"normal":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white py-12",children:Z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),Z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading blood requests..."})]})})}):i?Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white py-12",children:Z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Z.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:Z.jsxs("div",{className:"flex",children:[Z.jsx("div",{className:"flex-shrink-0",children:Z.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),Z.jsx("div",{className:"ml-3",children:Z.jsx("p",{className:"text-sm text-red-700",children:i})})]})})})}):Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white py-12",children:Z.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blood Requests"}),Z.jsx("div",{className:"flex gap-4",children:Z.jsx("button",{onClick:()=>{"true"===localStorage.getItem("isAuthenticated")?l("/register-donor"):o(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Request Blood"})})]}),Z.jsx(mN,{isOpen:a,onClose:()=>o(!1),message:"Can't request blood without Register then login",buttonText:"Register As Donor",buttonAction:"/register-donor"}),Z.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[Z.jsx("div",{className:"overflow-x-auto",children:Z.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[Z.jsx("thead",{className:"bg-gray-50",children:Z.jsxs("tr",{children:[Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blood Type"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Units"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hospital"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Date"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"})]})}),Z.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>Z.jsxs("tr",{className:"hover:bg-gray-50 "+(e.isStatic?"":"bg-blue-50"),children:[Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.patientName,!e.isStatic&&Z.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"New"})]})}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsx("div",{className:"text-sm text-gray-900",children:e.bloodType})}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsx("div",{className:"text-sm text-gray-900",children:e.units})}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsx("div",{className:"text-sm text-gray-900",children:e.hospital})}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u(e.urgency)}`,children:e.urgency})}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsx("div",{className:"text-sm text-gray-900",children:new Date(e.requiredDate).toLocaleDateString()})}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d(e.status)}`,children:e.status})}),Z.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[Z.jsx("div",{className:"text-sm text-gray-900",children:e.contactName}),Z.jsx("div",{className:"text-sm text-gray-500",children:e.contactPhone})]})]},e._id))})]})}),0===e.length&&Z.jsx("div",{className:"text-center py-12",children:Z.jsx("p",{className:"text-gray-500",children:"No blood requests found"})})]})]})})},xN=[{id:1,name:"Evercare Hospital Dhaka",emergencyHotline:"10678",ambulance:"+880 1714-090000",address:"Plot 81, Block-E, Bashundhara R/A, Dhaka 1229",website:"https://www.evercarebd.com",bloodInventory:{"A+":28,"A-":7,"B+":32,"B-":5,"AB+":10,"AB-":3,"O+":35,"O-":6},pricing:{bloodPrice:2200,processingFee:350,screeningFee:450,serviceCharge:200,additionalFees:{crossMatching:500,storagePerDay:100}}},{id:2,name:"United Hospital Limited",emergencyContact:"01914-001234 / 01914-001232",address:"Plot 15, Road 71, Gulshan, Dhaka 1212",website:"https://uhlbd.com",bloodInventory:{"A+":30,"A-":8,"B+":34,"B-":6,"AB+":12,"AB-":4,"O+":38,"O-":7},pricing:{bloodPrice:2100,processingFee:320,screeningFee:420,serviceCharge:180,additionalFees:{crossMatching:480,storagePerDay:90}}},{id:3,name:"Square Hospital",emergencyHotline:"10616",landline:"+88 02 8144400",mobile:"+88 01713-377775",address:"18/F, Bir Uttam Qazi Nuruzzaman Sarak, West Panthapath, Dhaka 1205",website:"https://www.squarehospital.com",bloodInventory:{"A+":35,"A-":9,"B+":38,"B-":7,"AB+":14,"AB-":5,"O+":42,"O-":8},pricing:{bloodPrice:2e3,processingFee:300,screeningFee:400,serviceCharge:150,additionalFees:{crossMatching:450,storagePerDay:80}}},{id:4,name:"Bangladesh Specialized Hospital",emergencyContact:"01313-777771",address:"21 Shyamoli, Mirpur Road, Dhaka 1207",website:"https://bdspecializedhospital.com",bloodInventory:{"A+":25,"A-":6,"B+":28,"B-":5,"AB+":10,"AB-":3,"O+":32,"O-":6},pricing:{bloodPrice:1800,processingFee:280,screeningFee:380,serviceCharge:130,additionalFees:{crossMatching:420,storagePerDay:70}}},{id:5,name:"Dhaka Medical College Hospital (DMCH)",address:"Secretariat Road, Dhaka 1000",website:"http://www.dmc.gov.bd",bloodInventory:{"A+":40,"A-":10,"B+":45,"B-":8,"AB+":16,"AB-":5,"O+":50,"O-":9},pricing:{bloodPrice:1200,processingFee:150,screeningFee:250,serviceCharge:50,additionalFees:{crossMatching:300,storagePerDay:40}}},{id:6,name:"Bangabandhu Sheikh Mujib Medical University (BSMMU)",address:"Shahbagh, Dhaka 1000",website:"https://www.bsmmu.edu.bd",bloodInventory:{"A+":38,"A-":9,"B+":42,"B-":7,"AB+":15,"AB-":4,"O+":48,"O-":8},pricing:{bloodPrice:1300,processingFee:180,screeningFee:280,serviceCharge:70,additionalFees:{crossMatching:350,storagePerDay:50}}},{id:7,name:"Labaid Specialized Hospital",address:"26 Green Road, Dhaka 1205",website:"https://www.labaidgroup.com",bloodInventory:{"A+":32,"A-":8,"B+":35,"B-":6,"AB+":12,"AB-":4,"O+":40,"O-":7},pricing:{bloodPrice:1900,processingFee:290,screeningFee:390,serviceCharge:140,additionalFees:{crossMatching:440,storagePerDay:75}}},{id:8,name:"BIRDEM General Hospital",emergencyContact:"02-41060479-80 (Ext: 2302, 2301)",address:"122 Kazi Nazrul Islam Avenue, Shahbagh, Dhaka 1000",website:"https://birdembd.org",bloodInventory:{"A+":30,"A-":7,"B+":33,"B-":6,"AB+":11,"AB-":3,"O+":37,"O-":6},pricing:{bloodPrice:1600,processingFee:240,screeningFee:340,serviceCharge:100,additionalFees:{crossMatching:380,storagePerDay:60}}},{id:9,name:"BRB Hospital Limited",contact:"09610-010647",address:"77/A, East Rajabazar, Panthapath, Dhaka 1215",website:"https://www.brbhospital.com",bloodInventory:{"A+":28,"A-":6,"B+":30,"B-":5,"AB+":10,"AB-":3,"O+":34,"O-":6},pricing:{bloodPrice:1700,processingFee:260,screeningFee:360,serviceCharge:110,additionalFees:{crossMatching:400,storagePerDay:65}}},{id:10,name:"Anwar Khan Modern Medical College Hospital",contact:"02-58616074",address:"House 17, Road 8, Dhanmondi, Dhaka 1205",website:"https://akmmch.com",bloodInventory:{"A+":26,"A-":6,"B+":29,"B-":5,"AB+":9,"AB-":2,"O+":32,"O-":5},pricing:{bloodPrice:1650,processingFee:250,screeningFee:350,serviceCharge:105,additionalFees:{crossMatching:390,storagePerDay:62}}},{id:11,name:"Central Hospital Limited",contact:"02-41060806",address:"House 2, Road 5, Green Road, Dhaka 1205",website:"https://centralhospitalltdbd.com",bloodInventory:{"A+":24,"A-":5,"B+":27,"B-":4,"AB+":8,"AB-":2,"O+":30,"O-":5},pricing:{bloodPrice:1750,processingFee:270,screeningFee:370,serviceCharge:120,additionalFees:{crossMatching:410,storagePerDay:68}}},{id:12,name:"Dhaka Community Hospital Trust",contact:"+8801711-194576 / +8801749-765651",address:"190/1 Boro Moghbazar Wireless Gate, Dhaka 1217",website:"https://dchtrust.org",bloodInventory:{"A+":22,"A-":5,"B+":25,"B-":4,"AB+":7,"AB-":2,"O+":28,"O-":4},pricing:{bloodPrice:1550,processingFee:230,screeningFee:330,serviceCharge:95,additionalFees:{crossMatching:370,storagePerDay:58}}},{id:13,name:"Dhaka Central International Medical College & Hospital",hotline:"10651",address:"2/1 Ring Road, Shyamoli, Dhaka 1207",website:"https://dcimch.com",bloodInventory:{"A+":20,"A-":4,"B+":23,"B-":3,"AB+":6,"AB-":2,"O+":26,"O-":4},pricing:{bloodPrice:1600,processingFee:240,screeningFee:340,serviceCharge:100,additionalFees:{crossMatching:380,storagePerDay:60}}},{id:14,name:"Ship International Hospital",hotline:"10654",emergencyContact:"+8801958-509222",address:"House 4, Road 1, Sector 10, Uttara, Dhaka",website:"https://shiphospitalbd.com",bloodInventory:{"A+":27,"A-":6,"B+":30,"B-":5,"AB+":9,"AB-":3,"O+":33,"O-":6},pricing:{bloodPrice:1850,processingFee:285,screeningFee:385,serviceCharge:135,additionalFees:{crossMatching:430,storagePerDay:72}}},{id:15,name:"National Institute of Cancer Research & Hospital (NICRH)",address:"Mohakhali, TB Gate Road, Dhaka",website:"https://nicrh.gov.bd",bloodInventory:{"A+":35,"A-":8,"B+":38,"B-":7,"AB+":13,"AB-":4,"O+":42,"O-":7},pricing:{bloodPrice:1400,processingFee:200,screeningFee:300,serviceCharge:80,additionalFees:{crossMatching:360,storagePerDay:55}}},{id:16,name:"National Institute of Burn and Plastic Surgery",address:"63 AHM Kamruzzaman Sharani, Chankharpul, Dhaka",bloodInventory:{"A+":18,"A-":4,"B+":21,"B-":3,"AB+":6,"AB-":2,"O+":24,"O-":4},pricing:{bloodPrice:1350,processingFee:190,screeningFee:290,serviceCharge:75,additionalFees:{crossMatching:340,storagePerDay:52}}},{id:17,name:"Holy Family Red Crescent Medical College Hospital",address:"1 Eskaton Garden Road, Ramna, Dhaka 1000",website:"https://www.hfrcmc.edu.bd",bloodInventory:{"A+":32,"A-":7,"B+":35,"B-":6,"AB+":12,"AB-":4,"O+":40,"O-":7},pricing:{bloodPrice:1500,processingFee:220,screeningFee:320,serviceCharge:85,additionalFees:{crossMatching:365,storagePerDay:56}}},{id:18,name:"Enam Medical College & Hospital",address:"9/3 Parboti Nagar, Thana Road, Savar, Dhaka",website:"https://emcbd.info",bloodInventory:{"A+":25,"A-":6,"B+":28,"B-":5,"AB+":9,"AB-":3,"O+":32,"O-":6},pricing:{bloodPrice:1450,processingFee:210,screeningFee:310,serviceCharge:82,additionalFees:{crossMatching:355,storagePerDay:54}}},{id:19,name:"Ad-Din Hospital",contact:"02-9353391-3",address:"Moghbazar, Dhaka",bloodInventory:{"A+":23,"A-":5,"B+":26,"B-":4,"AB+":8,"AB-":2,"O+":29,"O-":5},pricing:{bloodPrice:1550,processingFee:230,screeningFee:330,serviceCharge:95,additionalFees:{crossMatching:370,storagePerDay:58}}},{id:20,name:"Shaheed Suhrawardy Medical College & Hospital",contact:"02-9122560-78",address:"Sher-e-Bangla Nagar, College Gate, Dhaka",bloodInventory:{"A+":36,"A-":9,"B+":40,"B-":7,"AB+":14,"AB-":5,"O+":44,"O-":8},pricing:{bloodPrice:1250,processingFee:170,screeningFee:270,serviceCharge:65,additionalFees:{crossMatching:330,storagePerDay:48}}}],bN={national:[{id:1,name:"Bangladesh Red Crescent Society (BDRCS)",description:"Operates 10 blood centers nationwide, including in Dhaka, Chattogram, Sylhet, Rajshahi, Dinajpur, Jessore, Natore, Magura, and Gopalganj.",contact:"01811 458524 (9:00 AM  5:00 PM)",website:"https://bdrcs.org/donate-blood/",category:"National",icon:"",bloodInventory:{"A+":45,"A-":12,"B+":38,"B-":8,"AB+":15,"AB-":5,"O+":52,"O-":10},pricing:{bloodPrice:1500,processingFee:200,screeningFee:300,serviceCharge:100}},{id:2,name:"SANDHANI",description:"A pioneer in voluntary blood donation, established in 1978. Operates units in 25 medical and dental colleges across Bangladesh.",website:"https://en.wikipedia.org/wiki/Sandhani",category:"National",icon:"",bloodInventory:{"A+":38,"A-":10,"B+":42,"B-":7,"AB+":18,"AB-":4,"O+":48,"O-":8},pricing:{bloodPrice:1200,processingFee:150,screeningFee:250,serviceCharge:50}},{id:3,name:"Medicine Club",description:"Founded in 1981 at Mymensingh Medical College. Active in 21 medical and dental colleges, focusing on blood donation and thalassemia awareness.",website:"https://en.wikipedia.org/wiki/Blood_donation_in_Bangladesh",category:"National",icon:"",bloodInventory:{"A+":35,"A-":9,"B+":40,"B-":6,"AB+":14,"AB-":3,"O+":45,"O-":7},pricing:{bloodPrice:1300,processingFee:180,screeningFee:280,serviceCharge:70}},{id:4,name:"Badhan",description:"Established in 1997 by students of Dhaka University. Promotes voluntary blood donation among university students.",website:"https://www.spaandanb.org/projects/badhan-btc/",category:"National",icon:"",bloodInventory:{"A+":32,"A-":8,"B+":36,"B-":5,"AB+":12,"AB-":3,"O+":42,"O-":6},pricing:{bloodPrice:1100,processingFee:150,screeningFee:250,serviceCharge:50}},{id:5,name:"Quantum Foundation",description:"Operates a nationwide voluntary blood donation program. Maintains a large database of blood donors.",website:"https://blood.quantummethod.org.bd/en",category:"National",icon:"",bloodInventory:{"A+":50,"A-":14,"B+":44,"B-":9,"AB+":20,"AB-":6,"O+":55,"O-":11},pricing:{bloodPrice:1400,processingFee:200,screeningFee:300,serviceCharge:100}}],hospital:[{id:11,name:"Evercare Hospital Dhaka",description:"Offers 24-hour blood transfusion services through their Transfusion Medicine Department.",contact:"01713 041277",website:"https://www.evercarebd.com/dhaka/specialities/transfusion-medicine/",category:"Hospital",icon:"",bloodInventory:{"A+":28,"A-":7,"B+":32,"B-":5,"AB+":10,"AB-":3,"O+":35,"O-":6},pricing:{bloodPrice:2e3,processingFee:300,screeningFee:400,serviceCharge:150}},{id:12,name:"Holy Family Red Crescent Medical College Hospital",description:"Provides blood donation and transfusion services. Located at 1 Eskaton Garden Road, Dhaka.",website:"https://bdrcs.org/blood-program/",category:"Hospital",icon:"",bloodInventory:{"A+":25,"A-":6,"B+":28,"B-":4,"AB+":9,"AB-":2,"O+":32,"O-":5},pricing:{bloodPrice:1600,processingFee:220,screeningFee:320,serviceCharge:80}},{id:13,name:"Lab One Blood Bank",description:"A modern blood bank encouraging voluntary donations and maintaining a donor registry.",website:"https://www.labone.org.bd/lab-one-blood-bank/",category:"Hospital",icon:"",bloodInventory:{"A+":30,"A-":8,"B+":34,"B-":6,"AB+":12,"AB-":4,"O+":38,"O-":7},pricing:{bloodPrice:1800,processingFee:250,screeningFee:350,serviceCharge:120}}],digital:[{id:15,name:"Smart Blood Donor Management System (SBDMS)",description:"Streamlines blood donations, vital for thalassemia patients.",website:"https://sbdms.hupbd.org/",category:"Digital",icon:"",bloodInventory:{"A+":22,"A-":5,"B+":26,"B-":4,"AB+":8,"AB-":2,"O+":28,"O-":5},pricing:{bloodPrice:1350,processingFee:180,screeningFee:280,serviceCharge:90}},{id:16,name:"Blood Donors Club, Bangladesh",description:"A community of voluntary blood donors.",website:"https://en.wikipedia.org/wiki/Blood_donation_in_Bangladesh",category:"Digital",icon:"",bloodInventory:{"A+":20,"A-":4,"B+":24,"B-":3,"AB+":7,"AB-":2,"O+":26,"O-":4},pricing:{bloodPrice:1250,processingFee:160,screeningFee:260,serviceCharge:60}}]},yN=()=>{var e,t,n,r,i,s,a,o,l;const c=df(),d=lf(),[u,h]=V.useState("all"),[f,p]=V.useState(null),[m,g]=V.useState(""),[x,b]=V.useState(""),[y,v]=V.useState(1),[w,N]=V.useState(!1),[j,S]=V.useState(!1),[k,A]=V.useState([]),[P,L]=V.useState(""),[C,_]=V.useState(""),[E,T]=V.useState(""),[B,R]=V.useState(""),[F,D]=V.useState(""),[O,M]=V.useState(""),[I,z]=V.useState("normal"),[U,q]=V.useState(""),[H,W]=V.useState(""),[$,G]=V.useState(!1),[Y,K]=V.useState(""),[J,X]=V.useState(!1),[Q,ee]=V.useState(null),te=["A+","A-","B+","B-","AB+","AB-","O+","O-"];V.useEffect(()=>{var e,t;if((null==(e=d.state)?void 0:e.preSelectedSource)&&(null==(t=d.state)?void 0:t.preSelectedBloodType)){const{preSelectedSource:e,preSelectedBloodType:t}=d.state;"organization"===e.type?h("organizations"):"hospital"===e.type&&h("hospitals"),p(e),g(t),v(1),S(!1),window.history.replaceState({},document.title)}},[d.state]);const ne="all"===u?[...bN.national.map(e=>({...e,sourceType:"organization"})),...bN.hospital.map(e=>({...e,sourceType:"organization"})),...bN.digital.map(e=>({...e,sourceType:"organization"})),...xN.map(e=>({...e,sourceType:"hospital"}))]:"organizations"===u?[...bN.national.map(e=>({...e,sourceType:"organization"})),...bN.hospital.map(e=>({...e,sourceType:"organization"})),...bN.digital.map(e=>({...e,sourceType:"organization"}))]:xN.map(e=>({...e,sourceType:"hospital"})),re=()=>{if(!f||!f.pricing)return 0;const{bloodPrice:e,processingFee:t,screeningFee:n,serviceCharge:r}=f.pricing;return e*y+t+n+r};return console.log("Render state:",{showSuccessModal:J,purchaseResponse:Q}),Z.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:Z.jsxs("div",{className:"container mx-auto px-4",children:[Z.jsx("h1",{className:"text-4xl font-bold text-center text-red-600 mb-8",children:"Buy Blood"}),!f&&Z.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-8 mb-8",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Search for Available Blood"}),Y&&!w&&Z.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded mb-6",children:Y}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blood Type"}),Z.jsxs("select",{value:x,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"",children:"Select Blood Type"}),te.map(e=>Z.jsx("option",{value:e,children:e},e))]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter By"}),Z.jsxs("select",{value:u,onChange:e=>{h(e.target.value),S(!1)},className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Sources"}),Z.jsx("option",{value:"organizations",children:"Organizations Only"}),Z.jsx("option",{value:"hospitals",children:"Hospitals Only"})]})]}),Z.jsx("div",{className:"flex items-end",children:Z.jsxs("button",{onClick:()=>{if(!x)return void K("Please select a blood type to search");const e=ne.filter(e=>e.bloodInventory&&e.bloodInventory[x]>0&&e.pricing).map(e=>({...e,totalPrice:e.pricing.bloodPrice+e.pricing.processingFee+e.pricing.screeningFee+e.pricing.serviceCharge,availableUnits:e.bloodInventory[x]}));e.sort((e,t)=>e.totalPrice-t.totalPrice),A(e),S(!0),K("")},className:"w-full bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center gap-2 font-semibold",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})})]})]}),w||J?J?null:Z.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[Z.jsx("button",{onClick:()=>N(!1),className:"mb-6 text-red-600 hover:text-red-700 flex items-center gap-2",children:" Back"}),Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Complete Purchase Request"}),Y&&Z.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg mb-4",children:Y}),Z.jsxs("form",{onSubmit:async e=>{var t,n,r,i;e.preventDefault(),K(""),G(!0);try{const e=localStorage.getItem("token");if(!e)return K("Please login to purchase blood"),G(!1),void setTimeout(()=>c("/login"),2e3);if(!(P&&B&&F&&U))return K("Please fill in all required fields"),void G(!1);const t=re();console.log("Submitting purchase data:",{sourceType:f.sourceType||("hospital"===f.type?"hospital":"organization"),sourceName:f.name,sourceId:f.id,bloodType:m,units:Number(y)});const n={sourceType:"hospital"===f.type?"hospital":"organization",sourceName:f.name,sourceId:f.id,bloodType:m,units:Number(y),pricing:{bloodPrice:f.pricing.bloodPrice,processingFee:f.pricing.processingFee,screeningFee:f.pricing.screeningFee,serviceCharge:f.pricing.serviceCharge,additionalFees:f.pricing.additionalFees||{},totalCost:t},patientName:P,patientAge:C?Number(C):void 0,patientCondition:E,contactName:B,contactPhone:F,contactEmail:O,urgency:I,requiredDate:U,userNotes:H},r=await yg.post("/api/blood-purchases",n,{headers:{Authorization:`Bearer ${e}`}});console.log("Purchase response:",r.data);const i=r.data.purchase||r.data;ee(i),X(!0),console.log("Modal state set:",{showSuccessModal:!0,responseData:i}),N(!1)}catch(s){console.error("Purchase error:",s),console.error("Error response:",s.response),401===(null==(t=s.response)?void 0:t.status)||403===(null==(n=s.response)?void 0:n.status)?(K("Session expired. Please login again."),setTimeout(()=>c("/login"),2e3)):K((null==(i=null==(r=s.response)?void 0:r.data)?void 0:i.message)||"Failed to submit purchase request")}finally{G(!1)}},className:"space-y-6",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Patient Information"}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Patient Name *"}),Z.jsx("input",{type:"text",value:P,onChange:e=>L(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Patient Age"}),Z.jsx("input",{type:"number",value:C,onChange:e=>_(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Patient Condition/Reason"}),Z.jsx("textarea",{value:E,onChange:e=>T(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",rows:"2"})]})]})]}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Contact Information"}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Name *"}),Z.jsx("input",{type:"text",value:B,onChange:e=>R(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Phone *"}),Z.jsx("input",{type:"tel",value:F,onChange:e=>D(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Email"}),Z.jsx("input",{type:"email",value:O,onChange:e=>M(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Urgency Level *"}),Z.jsxs("select",{value:I,onChange:e=>z(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:[Z.jsx("option",{value:"normal",children:"Normal"}),Z.jsx("option",{value:"urgent",children:"Urgent"}),Z.jsx("option",{value:"emergency",children:"Emergency"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Required Date *"}),Z.jsx("input",{type:"date",value:U,onChange:e=>q(e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Additional Notes"}),Z.jsx("textarea",{value:H,onChange:e=>W(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3",placeholder:"Any special instructions or requirements"})]}),Z.jsxs("div",{className:"bg-red-50 rounded-lg p-6",children:[Z.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Purchase Summary"}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("span",{className:"font-semibold",children:"Source:"})," ",f.name]}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("span",{className:"font-semibold",children:"Blood Type:"})," ",m]}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("span",{className:"font-semibold",children:"Units:"})," ",y]}),Z.jsxs("p",{className:"text-2xl font-bold text-red-600 mt-4",children:["Total: ",re()]})]}),Z.jsx("button",{type:"submit",disabled:$,className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition disabled:bg-gray-400",children:$?"Submitting...":"Submit Purchase Request"})]})]}):Z.jsxs(Z.Fragment,{children:[j?Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Z.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Available Sources (",k.length,")"]}),k.length>0&&Z.jsxs("span",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold",children:["Best Price: ",null==(e=k[0])?void 0:e.totalPrice]})]}),0===k.length?Z.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg",children:Z.jsxs("p",{className:"text-yellow-800 font-medium",children:["No sources found with blood type ",x,". Please try a different search."]})}):Z.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((e,t)=>Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden "+(0===t?"ring-2 ring-green-500":""),children:[0===t&&Z.jsx("div",{className:"bg-green-500 text-white px-4 py-2 text-center font-semibold text-sm",children:" BEST PRICE"}),Z.jsxs("div",{className:"p-6",children:[Z.jsx("div",{className:"flex items-start justify-between mb-4",children:Z.jsxs("div",{children:[Z.jsx("span",{className:"text-3xl mb-2 block",children:e.icon}),Z.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.name}),Z.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold "+("hospital"===e.sourceType?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"hospital"===e.sourceType?"Hospital":"Organization"})]})}),Z.jsxs("div",{className:"space-y-3 mb-4",children:[Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Available Units:"}),Z.jsx("span",{className:"font-bold text-red-600",children:e.availableUnits})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Blood Type:"}),Z.jsx("span",{className:"font-bold text-gray-900",children:x})]}),Z.jsxs("div",{className:"border-t pt-3",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Blood Price:"}),Z.jsxs("span",{className:"text-gray-800",children:["",e.pricing.bloodPrice]})]}),Z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Processing:"}),Z.jsxs("span",{className:"text-gray-800",children:["",e.pricing.processingFee]})]}),Z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Screening:"}),Z.jsxs("span",{className:"text-gray-800",children:["",e.pricing.screeningFee]})]}),Z.jsxs("div",{className:"flex justify-between items-center font-bold text-lg border-t pt-2 mt-2",children:[Z.jsx("span",{className:"text-gray-900",children:"Total:"}),Z.jsxs("span",{className:"text-green-600",children:["",e.totalPrice]})]})]})]}),Z.jsx("button",{onClick:()=>(e=>{p(e),g(x),S(!1),v(1)})(e),className:"w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition-colors duration-200 font-semibold",children:"Purchase Now"}),e.contact&&Z.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center",children:["Contact: ",e.contact]})]})]},e.id))})]}):!f&&Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Z.jsx("p",{className:"text-gray-500 text-lg",children:"Select a blood type and click Search to find available sources"})]}),f&&!w&&!J&&Z.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[Z.jsx("button",{onClick:()=>{p(null),S(!0)},className:"mb-6 text-red-600 hover:text-red-700 flex items-center gap-2",children:" Back to search results"}),Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:f.name}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Blood Type *"}),Z.jsxs("select",{value:m,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"",children:"Choose Blood Type"}),te.map(e=>Z.jsxs("option",{value:e,children:[e," (Available: ",f.bloodInventory[e]||0," units)"]},e))]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Units *"}),Z.jsx("input",{type:"number",min:"1",value:y,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),m&&f.pricing&&Z.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[Z.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Price Breakdown"}),Z.jsxs("div",{className:"space-y-2 text-gray-700",children:[Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Blood Type:"}),Z.jsx("span",{className:"font-bold text-red-600 text-lg",children:m})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Available Units:"}),Z.jsxs("span",{className:"font-semibold text-green-600",children:[f.bloodInventory[m]," units"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Expiry Date:"}),Z.jsx("span",{className:"font-semibold text-orange-600",children:(()=>{const e=new Date,t=Math.floor(8*Math.random())+35,n=new Date(e);return n.setDate(e.getDate()+t),n})().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),Z.jsx("div",{className:"border-t pt-2 mt-2"}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsxs("span",{children:["Blood Price (",y," units):"]}),Z.jsxs("span",{className:"font-semibold",children:["",f.pricing.bloodPrice*y]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Processing Fee:"}),Z.jsxs("span",{className:"font-semibold",children:["",f.pricing.processingFee]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Screening/Test Fee:"}),Z.jsxs("span",{className:"font-semibold",children:["",f.pricing.screeningFee]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Service Charge:"}),Z.jsxs("span",{className:"font-semibold",children:["",f.pricing.serviceCharge]})]}),Z.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-bold text-red-600",children:[Z.jsx("span",{children:"Total Cost:"}),Z.jsxs("span",{children:["",re()]})]})]})]}),Y&&Z.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg mb-4",children:Y}),!localStorage.getItem("token")&&Z.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg mb-4",children:Z.jsxs("div",{className:"flex items-start",children:[Z.jsx("svg",{className:"h-5 w-5 text-yellow-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),Z.jsx("div",{className:"ml-3",children:Z.jsxs("p",{className:"text-sm text-yellow-700",children:[Z.jsx("span",{className:"font-semibold",children:"Authentication Required:"})," You must be logged in to purchase blood. Please"," ",Z.jsx("button",{onClick:()=>c("/register-donor"),className:"underline font-semibold hover:text-yellow-900",children:"register"})," ","first, then"," ",Z.jsx("button",{onClick:()=>c("/login"),className:"underline font-semibold hover:text-yellow-900",children:"login"})," ","to continue."]})})]})}),Z.jsx("button",{onClick:()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("isLoggedIn");if(!e||!t)return K("Please register and login to purchase blood"),void setTimeout(()=>c("/register-donor"),2e3);if(!f||!m||y<1)return void K("Please select source, blood type, and units");const n=f.bloodInventory[m];!n||n<y?K(`Insufficient stock. Only ${n||0} units available`):(K(""),N(!0))},className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition",children:"Proceed to Purchase"})]})]}),J&&Q&&Z.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[Z.jsxs("div",{className:"text-center mb-8",children:[Z.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:Z.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),Z.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Purchase Request Submitted Successfully!"}),Z.jsx("p",{className:"text-gray-600",children:"Your blood purchase request has been received and is being processed"})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),Z.jsxs("div",{className:"space-y-3",children:[Z.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[Z.jsx("span",{className:"text-gray-600",children:"Blood Type:"}),Z.jsx("span",{className:"font-bold text-red-600 text-lg",children:Q.bloodType||(null==(t=Q.purchase)?void 0:t.bloodType)})]}),Z.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[Z.jsx("span",{className:"text-gray-600",children:"Units:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:Q.units||(null==(n=Q.purchase)?void 0:n.units)})]}),Z.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[Z.jsx("span",{className:"text-gray-600",children:"Source:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:Q.sourceName||(null==(r=Q.purchase)?void 0:r.sourceName)})]}),Z.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[Z.jsx("span",{className:"text-gray-600",children:"Patient Name:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:Q.patientName||(null==(i=Q.purchase)?void 0:i.patientName)})]}),Z.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[Z.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:Q.contactPhone||(null==(s=Q.purchase)?void 0:s.contactPhone)})]}),Z.jsxs("div",{className:"flex justify-between items-center pt-3",children:[Z.jsx("span",{className:"text-gray-900 font-semibold text-lg",children:"Total Cost:"}),Z.jsxs("span",{className:"font-bold text-green-600 text-2xl",children:["",((null==(a=Q.pricing)?void 0:a.totalCost)||(null==(l=null==(o=Q.purchase)?void 0:o.pricing)?void 0:l.totalCost)||0).toLocaleString()]})]})]})]}),Z.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-6",children:[Z.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"What happens next?"}),Z.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"Your request will be reviewed by the source organization"})]}),Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"You'll receive a confirmation once the order is approved"})]}),Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"The organization will contact you for pickup or delivery arrangements"})]})]})]}),Z.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Z.jsx("button",{onClick:()=>c("/"),className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 font-semibold",children:"Go to Home"}),Z.jsx("button",{onClick:()=>{X(!1),N(!1),p(null),g(""),S(!1),L(""),_(""),T(""),R(""),D(""),M(""),z("normal"),q(""),W("")},className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-semibold",children:"Make Another Purchase"})]})]})]})})},vN=V.createContext({});const wN="undefined"!=typeof window,NN=wN?V.useLayoutEffect:V.useEffect,jN=V.createContext(null);function SN(e,t){-1===e.indexOf(t)&&e.push(t)}function kN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const AN=(e,t,n)=>n>t?t:n<e?e:n;const PN={},LN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function CN(e){return"object"==typeof e&&null!==e}const _N=e=>/^0[^.\s]+$/u.test(e);function EN(e){let t;return()=>(void 0===t&&(t=e()),t)}const TN=e=>e,BN=(e,t)=>n=>t(e(n)),RN=(...e)=>e.reduce(BN),FN=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class DN{constructor(){this.subscriptions=[]}add(e){return SN(this.subscriptions,e),()=>kN(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ON=e=>1e3*e,MN=e=>e/1e3;function IN(e,t){return t?e*(1e3/t):0}const zN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function UN(e,t,n,r){if(e===t&&n===r)return TN;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=zN(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:zN(i(e),t,r)}const qN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,VN=e=>t=>1-e(1-t),HN=UN(.33,1.53,.69,.99),WN=VN(HN),$N=qN(WN),GN=e=>(e*=2)<1?.5*WN(e):.5*(2-Math.pow(2,-10*(e-1))),YN=e=>1-Math.sin(Math.acos(e)),KN=VN(YN),JN=qN(YN),XN=UN(.42,0,1,1),QN=UN(0,0,.58,1),ZN=UN(.42,0,.58,1),ej=e=>Array.isArray(e)&&"number"==typeof e[0],tj={linear:TN,easeIn:XN,easeInOut:ZN,easeOut:QN,circIn:YN,circInOut:JN,circOut:KN,backIn:WN,backInOut:$N,backOut:HN,anticipate:GN},nj=e=>{if(ej(e)){e.length;const[t,n,r,i]=e;return UN(t,n,r,i)}return"string"==typeof e?tj[e]:e},rj=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ij(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=rj.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(t){s.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:(e,i=!1,a=!1)=>{const o=a&&r?t:n;return i&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{a=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(s),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:f,postRender:p}=a,m=()=>{const s=PN.useManualTiming?i.timestamp:performance.now();n=!1,PN.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))};return{schedule:rj.reduce((t,s)=>{const o=a[s];return t[s]=(t,s=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(m)),o.schedule(t,s,a)),t},{}),cancel:e=>{for(let t=0;t<rj.length;t++)a[rj[t]].cancel(e)},state:i,steps:a}}const{schedule:sj,cancel:aj,state:oj,steps:lj}=ij("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:TN,!0);let cj;function dj(){cj=void 0}const uj={now:()=>(void 0===cj&&uj.set(oj.isProcessing||PN.useManualTiming?oj.timestamp:performance.now()),cj),set:e=>{cj=e,queueMicrotask(dj)}},hj=e=>t=>"string"==typeof t&&t.startsWith(e),fj=hj("--"),pj=hj("var(--"),mj=e=>!!pj(e)&&gj.test(e.split("/*")[0].trim()),gj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xj={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},bj={...xj,transform:e=>AN(0,1,e)},yj={...xj,default:1},vj=e=>Math.round(1e5*e)/1e5,wj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Nj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jj=(e,t)=>n=>Boolean("string"==typeof n&&Nj.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sj=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,s,a,o]=r.match(wj);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},kj={...xj,transform:e=>Math.round((e=>AN(0,255,e))(e))},Aj={test:jj("rgb","red"),parse:Sj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+kj.transform(e)+", "+kj.transform(t)+", "+kj.transform(n)+", "+vj(bj.transform(r))+")"};const Pj={test:jj("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Aj.transform},Lj=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Cj=Lj("deg"),_j=Lj("%"),Ej=Lj("px"),Tj=Lj("vh"),Bj=Lj("vw"),Rj=(()=>({..._j,parse:e=>_j.parse(e)/100,transform:e=>_j.transform(100*e)}))(),Fj={test:jj("hsl","hue"),parse:Sj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_j.transform(vj(t))+", "+_j.transform(vj(n))+", "+vj(bj.transform(r))+")"},Dj={test:e=>Aj.test(e)||Pj.test(e)||Fj.test(e),parse:e=>Aj.test(e)?Aj.parse(e):Fj.test(e)?Fj.parse(e):Pj.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Aj.transform(e):Fj.transform(e),getAnimatableNone:e=>{const t=Dj.parse(e);return t.alpha=0,Dj.transform(t)}},Oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Mj="number",Ij="color",zj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uj(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(zj,e=>(Dj.test(e)?(r.color.push(s),i.push(Ij),n.push(Dj.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(Mj),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:r,types:i}}function qj(e){return Uj(e).values}function Vj(e){const{split:t,types:n}=Uj(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===Mj?vj(e[s]):t===Ij?Dj.transform(e[s]):e[s]}return i}}const Hj=e=>"number"==typeof e?0:Dj.test(e)?Dj.getAnimatableNone(e):e;const Wj={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(wj))?void 0:t.length)||0)+((null==(n=e.match(Oj))?void 0:n.length)||0)>0},parse:qj,createTransformer:Vj,getAnimatableNone:function(e){const t=qj(e);return Vj(e)(t.map(Hj))}};function $j(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gj(e,t){return n=>n>0?t:e}const Yj=(e,t,n)=>e+(t-e)*n,Kj=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Jj=[Pj,Aj,Fj];function Xj(e){const t=(n=e,Jj.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===Fj&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=$j(o,r,e+1/3),s=$j(o,r,e),a=$j(o,r,e-1/3)}else i=s=a=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(r)),r}const Qj=(e,t)=>{const n=Xj(e),r=Xj(t);if(!n||!r)return Gj(e,t);const i={...n};return e=>(i.red=Kj(n.red,r.red,e),i.green=Kj(n.green,r.green,e),i.blue=Kj(n.blue,r.blue,e),i.alpha=Yj(n.alpha,r.alpha,e),Aj.transform(i))},Zj=new Set(["none","hidden"]);function eS(e,t){return n=>Yj(e,t,n)}function tS(e){return"number"==typeof e?eS:"string"==typeof e?mj(e)?Gj:Dj.test(e)?Qj:iS:Array.isArray(e)?nS:"object"==typeof e?Dj.test(e)?Qj:rS:Gj}function nS(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>tS(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function rS(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=tS(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const iS=(e,t)=>{const n=Wj.createTransformer(t),r=Uj(e),i=Uj(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Zj.has(e)&&!i.values.length||Zj.has(t)&&!r.values.length?function(e,t){return Zj.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):RN(nS(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][r[s]],o=e.values[a]??0;n[i]=o,r[s]++}return n}(r,i),i.values),n):Gj(e,t)};function sS(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Yj(e,t,n);return tS(e)(e,t)}const aS=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>sj.update(t,e),stop:()=>aj(t),now:()=>oj.isProcessing?oj.timestamp:uj.now()}},oS=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*e(s/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lS=2e4;function cS(e){let t=0;let n=e.next(t);for(;!n.done&&t<lS;)t+=50,n=e.next(t);return t>=lS?1/0:t}function dS(e,t,n){const r=Math.max(t-5,0);return IN(n-e(r),t-r)}const uS=100,hS=10,fS=1,pS=0,mS=800,gS=.3,xS=.3,bS={granular:.01,default:2},yS={granular:.005,default:.5},vS=.01,wS=10,NS=.05,jS=1,SS=.001;function kS({duration:e=mS,bounce:t=gS,velocity:n=pS,mass:r=fS}){let i,s,a=1-t;a=AN(NS,jS,a),e=AN(vS,wS,MN(e)),a<1?(i=t=>{const r=t*a,i=r*e,s=r-n,o=PS(t,a),l=Math.exp(-i);return SS-s/o*l},s=t=>{const r=t*a*e,s=r*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=PS(Math.pow(t,2),a);return(-i(t)+SS>0?-1:1)*((s-o)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let i=1;i<AS;i++)r-=e(r)/t(r);return r}(i,s,5/e);if(e=ON(e),isNaN(o))return{stiffness:uS,damping:hS,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const AS=12;function PS(e,t){return e*Math.sqrt(1-t*t)}const LS=["duration","bounce"],CS=["stiffness","damping","mass"];function _S(e,t){return t.some(t=>void 0!==e[t])}function ES(e=xS,t=gS){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:pS,stiffness:uS,damping:hS,mass:fS,isResolvedFromDuration:!1,...e};if(!_S(e,CS)&&_S(e,LS))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*AN(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:fS,stiffness:i,damping:s}}else{const n=kS(e);t={...t,...n,mass:fS},t.isResolvedFromDuration=!0}return t}({...n,velocity:-MN(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*d)),g=a-s,x=MN(Math.sqrt(l/d)),b=Math.abs(g)<5;let y;if(r||(r=b?bS.granular:bS.default),i||(i=b?yS.granular:yS.default),m<1){const e=PS(x,m);y=t=>{const n=Math.exp(-m*x*t);return a-n*((p+m*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)y=e=>a-Math.exp(-x*e)*(g+(p+x*g)*e);else{const e=x*Math.sqrt(m*m-1);y=t=>{const n=Math.exp(-m*x*t),r=Math.min(e*t,300);return a-n*((p+m*x*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:f&&u||null,next:e=>{const t=y(e);if(f)o.done=e>=u;else{let n=0===e?p:0;m<1&&(n=0===e?ON(p):dS(y,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(cS(v),lS),t=oS(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function TS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},f=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=n*t;const m=u+p,g=void 0===a?m:a(m);g!==m&&(p=g-u);const x=e=>-p*Math.exp(-e/r),b=e=>g+x(e),y=e=>{const t=x(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let v,w;const N=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(v=e,w=ES({keyframes:[h.value,f(h.value)],velocity:dS(b,e,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==v||(t=!0,y(e),N(e)),void 0!==v&&e>=v?w.next(e-v):(!t&&y(e),h)}}}function BS(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||PN.mix||sS,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||TN:t;n=RN(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=FN(e[r],e[r+1],n);return o[r](i)};return n?t=>c(AN(e[0],e[s-1],t)):c}function RS(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=FN(0,t,r);e.push(Yj(n,1,i))}}(t,e.length-1),t}function FS({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(nj):nj(r),s={done:!1,value:t[0]},a=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:RS(t),e),o=BS(a,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||ZN).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}ES.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(cS(r),lS);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:MN(i)}}(e,100,ES);return e.ease=t.ease,e.duration=ON(t.duration),e.type="keyframes",e};const DS=e=>null!==e;function OS(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(DS),a=i<0||t&&"loop"!==n&&t%2==1?0:s.length-1;return a&&void 0!==r?r:s[a]}const MS={decay:TS,inertia:TS,tween:FS,keyframes:FS,spring:ES};function IS(e){"string"==typeof e.type&&(e.type=MS[e.type])}class zS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const US=e=>e/100;class qS extends zS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==uj.now()&&this.tick(uj.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;IS(e);const{type:t=FS,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=e;let{keyframes:a}=e;const o=t||FS;o!==FS&&"number"!=typeof a[0]&&(this.mixKeyframes=RN(US,sS(a[0],a[1])),a=[0,100]);const l=o({...e,keyframes:a});"mirror"===i&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=cS(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,y=n;if(d){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/a)):"mirror"===u&&(y=s)),b=AN(0,1,n)*a}const v=x?{done:!1,value:c[0]}:y.next(b);i&&(v.value=i(v.value));let{done:w}=v;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const N=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return N&&f!==TS&&(v.value=OS(c,this.options,m,this.speed)),p&&p(v.value),N&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return MN(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+MN(e)}get time(){return MN(this.currentTime)}set time(e){var t;e=ON(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(uj.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=MN(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=aS,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null==(t=(e=this.options).onPlay)||t.call(e);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(uj.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const VS=e=>180*e/Math.PI,HS=e=>{const t=VS(Math.atan2(e[1],e[0]));return $S(t)},WS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:HS,rotateZ:HS,skewX:e=>VS(Math.atan(e[1])),skewY:e=>VS(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$S=e=>((e%=360)<0&&(e+=360),e),GS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),YS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),KS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GS,scaleY:YS,scale:e=>(GS(e)+YS(e))/2,rotateX:e=>$S(VS(Math.atan2(e[6],e[5]))),rotateY:e=>$S(VS(Math.atan2(-e[2],e[0]))),rotateZ:HS,rotate:HS,skewX:e=>VS(Math.atan(e[4])),skewY:e=>VS(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function JS(e){return e.includes("scale")?1:0}function XS(e,t){if(!e||"none"===e)return JS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=KS,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=WS,i=t}if(!i)return JS(t);const s=r[t],a=i[1].split(",").map(QS);return"function"==typeof s?s(a):a[s]}function QS(e){return parseFloat(e.trim())}const ZS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ek=(()=>new Set(ZS))(),tk=e=>e===xj||e===Ej,nk=new Set(["x","y","z"]),rk=ZS.filter(e=>!nk.has(e));const ik={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>XS(t,"x"),y:(e,{transform:t})=>XS(t,"y")};ik.translateX=ik.x,ik.translateY=ik.y;const sk=new Set;let ak=!1,ok=!1,lk=!1;function ck(){if(ok){const e=Array.from(sk).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return rk.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var r;null==(r=e.getValue(t))||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ok=!1,ak=!1,sk.forEach(e=>e.complete(lk)),sk.clear()}function dk(){sk.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ok=!0)})}class uk{constructor(e,t,n,r,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(sk.add(this),ak||(ak=!0,sj.read(dk),sj.resolveKeyframes(ck))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null==r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),sk.delete(this)}cancel(){"scheduled"===this.state&&(sk.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const hk=EN(()=>void 0!==window.ScrollTimeline),fk={};function pk(e,t){const n=EN(e);return()=>fk[t]??n()}const mk=pk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(iw){return!1}return!0},"linearEasing"),gk=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gk([0,.65,.55,1]),circOut:gk([.55,0,1,.45]),backIn:gk([.31,.01,.66,-.59]),backOut:gk([.33,1.53,.69,.99])};function bk(e,t){return e?"function"==typeof e?mk()?oS(e,t):"ease-out":ej(e)?gk(e):Array.isArray(e)?e.map(e=>bk(e,t)||xk.easeOut):xk[e]:void 0}function yk(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const u=bk(o,i);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(d,h)}function vk(e){return"function"==typeof e&&"applyToOptions"in e}class wk extends zS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=e,e.type;const l=function({type:e,...t}){return vk(e)&&mk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=yk(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=OS(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(iw){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return MN(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+MN(e)}get time(){return MN(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ON(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&hk()?(this.animation.timeline=e,TN):t(this)}}const Nk={anticipate:GN,backInOut:$N,circInOut:JN};function jk(e){"string"==typeof e.ease&&e.ease in Nk&&(e.ease=Nk[e.ease])}class Sk extends wk{constructor(e){jk(e),IS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:i,...s}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new qS({...s,autoplay:!1}),o=ON(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const kk=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Wj.test(e)&&"0"!==e||e.startsWith("url(")));function Ak(e){e.duration=0,e.type="keyframes"}const Pk=new Set(["opacity","clipPath","filter","transform"]),Lk=EN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Ck extends zS{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s="loop",keyframes:a,name:o,motionValue:l,element:c,...d}){var u;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=uj.now();const h={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:s,name:o,motionValue:l,element:c,...d},f=(null==c?void 0:c.KeyframeResolver)||uk;this.keyframeResolver=new f(a,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),o,l,c),null==(u=this.keyframeResolver)||u.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=uj.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=kk(i,t),o=kk(s,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||vk(n))&&r)}(e,i,s,a)||(!PN.instantAnimations&&o||null==c||c(OS(e,n,t)),e[0]=e[e.length-1],Ak(n),n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!((null==(t=null==n?void 0:n.owner)?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Lk()&&r&&Pk.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==s&&0!==a&&"inertia"!==o}(d)?new Sk({...d,element:d.motionValue.owner.current}):new qS(d);u.finished.then(()=>this.notifyFinished()).catch(TN),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),lk=!0,dk(),ck(),lk=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const _k=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ek(e,t,n=1){const[r,i]=function(e){const t=_k.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return LN(e)?parseFloat(e):e}return mj(i)?Ek(i,t,n+1):i}function Tk(e,t){return(null==e?void 0:e[t])??(null==e?void 0:e.default)??e}const Bk=new Set(["width","height","top","left","right","bottom",...ZS]),Rk=e=>t=>t.test(e),Fk=[xj,Ej,_j,Cj,Bj,Tj,{test:e=>"auto"===e,parse:e=>e}],Dk=e=>Fk.find(Rk(e));function Ok(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||_N(e))}const Mk=new Set(["brightness","contrast","saturate","opacity"]);function Ik(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(wj)||[];if(!r)return e;const i=n.replace(r,"");let s=Mk.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const zk=/\b([a-z-]*)\(.*?\)/gu,Uk={...Wj,getAnimatableNone:e=>{const t=e.match(zk);return t?t.map(Ik).join(" "):e}},qk={...xj,transform:Math.round},Vk={borderWidth:Ej,borderTopWidth:Ej,borderRightWidth:Ej,borderBottomWidth:Ej,borderLeftWidth:Ej,borderRadius:Ej,radius:Ej,borderTopLeftRadius:Ej,borderTopRightRadius:Ej,borderBottomRightRadius:Ej,borderBottomLeftRadius:Ej,width:Ej,maxWidth:Ej,height:Ej,maxHeight:Ej,top:Ej,right:Ej,bottom:Ej,left:Ej,padding:Ej,paddingTop:Ej,paddingRight:Ej,paddingBottom:Ej,paddingLeft:Ej,margin:Ej,marginTop:Ej,marginRight:Ej,marginBottom:Ej,marginLeft:Ej,backgroundPositionX:Ej,backgroundPositionY:Ej,...{rotate:Cj,rotateX:Cj,rotateY:Cj,rotateZ:Cj,scale:yj,scaleX:yj,scaleY:yj,scaleZ:yj,skew:Cj,skewX:Cj,skewY:Cj,distance:Ej,translateX:Ej,translateY:Ej,translateZ:Ej,x:Ej,y:Ej,z:Ej,perspective:Ej,transformPerspective:Ej,opacity:bj,originX:Rj,originY:Rj,originZ:Ej},zIndex:qk,fillOpacity:bj,strokeOpacity:bj,numOctaves:qk},Hk={...Vk,color:Dj,backgroundColor:Dj,outlineColor:Dj,fill:Dj,stroke:Dj,borderColor:Dj,borderTopColor:Dj,borderRightColor:Dj,borderBottomColor:Dj,borderLeftColor:Dj,filter:Uk,WebkitFilter:Uk},Wk=e=>Hk[e];function $k(e,t){let n=Wk(e);return n!==Uk&&(n=Wj),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Gk=new Set(["auto","none","0"]);class Yk extends uk{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),mj(n))){const r=Ek(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Bk.has(n)||2!==e.length)return;const[r,i]=e,s=Dk(r),a=Dk(i);if(s!==a)if(tk(s)&&tk(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else ik[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Ok(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!Gk.has(t)&&Uj(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=$k(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ik[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ik[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const Kk=(e,t)=>t&&"number"==typeof e?t.transform(e):e;class Jk{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;const n=uj.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(t=this.events.change)||t.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=uj.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new DN);const n=this.events[e].add(t);return"change"===e?()=>{n(),sj.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=uj.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return IN(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xk(e,t){return new Jk(e,t)}const{schedule:Qk}=ij(queueMicrotask,!1),Zk={x:!1,y:!1};function eA(){return Zk.x||Zk.y}function tA(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const r=(null==n?void 0:n[e])??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function nA(e){return!("touch"===e.pointerType||eA())}const rA=(e,t)=>!!t&&(e===t||rA(e,t.parentElement)),iA=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,sA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const aA=new WeakSet;function oA(e){return t=>{"Enter"===t.key&&e(t)}}function lA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function cA(e){return iA(e)&&!eA()}function dA(e,t,n={}){const[r,i,s]=tA(e,n),a=e=>{const r=e.currentTarget;if(!cA(e))return;aA.add(r);const s=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),aA.has(r)&&aA.delete(r),cA(e)&&"function"==typeof s&&s(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||rA(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),CN(t=e)&&"offsetHeight"in t&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=oA(()=>{if(aA.has(n))return;lA(n,"down");const e=oA(()=>{lA(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>lA(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),function(e){return sA.has(e.tagName)||-1!==e.tabIndex}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}function uA(e){return CN(e)&&"ownerSVGElement"in e}const hA=e=>Boolean(e&&e.getVelocity),fA=[...Fk,Dj,Wj],pA=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});const mA=V.createContext({strict:!1}),gA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xA={};for(const G_ in gA)xA[G_]={isEnabled:e=>gA[G_].some(t=>!!e[t])};const bA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yA(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bA.has(e)}let vA=e=>!yA(e);try{"function"==typeof(wA=require("@emotion/is-prop-valid").default)&&(vA=e=>e.startsWith("on")?!yA(e):wA(e))}catch{}var wA;const NA=V.createContext({});function jA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function SA(e){return"string"==typeof e||Array.isArray(e)}const kA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AA=["initial",...kA];function PA(e){return jA(e.animate)||AA.some(t=>SA(e[t]))}function LA(e){return Boolean(PA(e)||e.variants)}function CA(e){const{initial:t,animate:n}=function(e,t){if(PA(e)){const{initial:t,animate:n}=e;return{initial:!1===t||SA(t)?t:void 0,animate:SA(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,V.useContext(NA));return V.useMemo(()=>({initial:t,animate:n}),[_A(t),_A(n)])}function _A(e){return Array.isArray(e)?e.join(" "):e}const EA={};function TA(e,{layout:t,layoutId:n}){return ek.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!EA[e]||"opacity"===e)}const BA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RA=ZS.length;function FA(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(ek.has(l))a=!0;else if(fj(l))i[l]=e;else{const t=Kk(e,Vk[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<RA;s++){const a=ZS[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Kk(o,Vk[a]);l||(i=!1,r+=`${BA[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const DA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OA(e,t,n){for(const r in t)hA(t[r])||TA(r,n)||(e[r]=t[r])}function MA(e,t){const n={};return OA(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return V.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return FA(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function IA(e,t){const n={},r=MA(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const zA={offset:"stroke-dashoffset",array:"stroke-dasharray"},UA={offset:"strokeDashoffset",array:"strokeDasharray"};function qA(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,d){if(FA(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(null==d?void 0:d.transformBox)??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==n&&(u.y=n),void 0!==r&&(u.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?zA:UA;e[s.offset]=Ej.transform(-r);const a=Ej.transform(t),o=Ej.transform(n);e[s.array]=`${a} ${o}`}(u,i,s,a,!1)}const VA=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),HA=e=>"string"==typeof e&&"svg"===e.toLowerCase();function WA(e,t,n,r){const i=V.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return qA(n,t,HA(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};OA(t,e.style,e),i.style={...t,...i.style}}return i}const $A=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GA(e){return"string"==typeof e&&!e.includes("-")&&!!($A.indexOf(e)>-1||/[A-Z]/u.test(e))}function YA(e,t,n,{latestValues:r},i,s=!1){const a=(GA(e)?WA:IA)(t,r,i,e),o=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(vA(i)||!0===n&&yA(i)||!t&&!yA(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,s),l=e!==V.Fragment?{...o,...a,ref:n}:{},{children:c}=t,d=V.useMemo(()=>hA(c)?c.get():c,[c]);return V.createElement(e,{...l,children:d})}function KA(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function JA(e,t,n,r){if("function"==typeof t){const[i,s]=KA(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,s]=KA(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function XA(e){return hA(e)?e.get():e}function QA(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=XA(s[h]);let{initial:a,animate:o}=e;const l=PA(e),c=LA(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?o:a;if(u&&"boolean"!=typeof u&&!jA(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=JA(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const ZA=e=>(t,n)=>{const r=V.useContext(NA),i=V.useContext(jN),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:QA(n,r,i,e),renderState:t()}}(e,t,r,i);return n?s():function(e){const t=V.useRef(null);return null===t.current&&(t.current=e()),t.current}(s)};function eP(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(hA(i[a])||t.style&&hA(t.style[a])||TA(a,e)||void 0!==(null==(r=null==n?void 0:n.getValue(a))?void 0:r.liveStyle))&&(s[a]=i[a]);return s}const tP=ZA({scrapeMotionValuesFromProps:eP,createRenderState:DA});function nP(e,t,n){const r=eP(e,t,n);for(const i in e)if(hA(e[i])||hA(t[i])){r[-1!==ZS.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const rP=ZA({scrapeMotionValuesFromProps:nP,createRenderState:VA}),iP=Symbol.for("motionComponentSymbol");function sP(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function aP(e,t,n){return V.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):sP(n)&&(n.current=r))},[t])}const oP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lP="data-"+oP("framerAppearId"),cP=V.createContext({});function dP(e,t,n,r,i){var s,a;const{visualElement:o}=V.useContext(NA),l=V.useContext(mA),c=V.useContext(jN),d=V.useContext(pA).reducedMotion,u=V.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const h=u.current,f=V.useContext(cP);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:uP(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&sP(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(u.current,n,i,f);const p=V.useRef(!1);V.useInsertionEffect(()=>{h&&p.current&&h.update(n,c)});const m=n[lP],g=V.useRef(Boolean(m)&&!(null==(s=window.MotionHandoffIsComplete)?void 0:s.call(window,m))&&(null==(a=window.MotionHasOptimisedAnimation)?void 0:a.call(window,m)));return NN(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),V.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,m)}),g.current=!1),h.enteringChildren=void 0)}),h}function uP(e){if(e)return!1!==e.options.allowProjection?e.projection:uP(e.parent)}function hP(e,{forwardMotionProps:t=!1}={},n,r){n&&function(e){for(const t in e)xA[t]={...xA[t],...e[t]}}(n);const i=GA(e)?rP:tP;function s(n,s){let a;const o={...V.useContext(pA),...n,layoutId:fP(n)},{isStatic:l}=o,c=CA(n),d=i(n,l);if(!l&&wN){V.useContext(mA).strict;const t=function(e){const{drag:t,layout:n}=xA;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);a=t.MeasureLayout,c.visualElement=dP(e,d,o,r,t.ProjectionNode)}return Z.jsxs(NA.Provider,{value:c,children:[a&&c.visualElement?Z.jsx(a,{visualElement:c.visualElement,...o}):null,YA(e,n,aP(d,c.visualElement,s),d,l,t)]})}s.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const a=V.forwardRef(s);return a[iP]=e,a}function fP({layoutId:e}){const t=V.useContext(vN).id;return t&&void 0!==e?t+"-"+e:e}function pP(e,t){if("undefined"==typeof Proxy)return hP;const n=new Map,r=(n,r)=>hP(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,s)=>"create"===s?r:(n.has(s)||n.set(s,hP(s,void 0,e,t)),n.get(s))})}function mP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gP(e){return void 0===e||1===e}function xP({scale:e,scaleX:t,scaleY:n}){return!gP(e)||!gP(t)||!gP(n)}function bP(e){return xP(e)||yP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yP(e){return vP(e.x)||vP(e.y)}function vP(e){return e&&"0%"!==e}function wP(e,t,n){return n+t*(e-n)}function NP(e,t,n,r,i){return void 0!==i&&(e=wP(e,i,r)),wP(e,n,r)+t}function jP(e,t=0,n=1,r,i){e.min=NP(e.min,t,n,r,i),e.max=NP(e.max,t,n,r,i)}function SP(e,{x:t,y:n}){jP(e.x,t.translate,t.scale,t.originPoint),jP(e.y,n.translate,n.scale,n.originPoint)}const kP=.999999999999,AP=1.0000000000001;function PP(e,t){e.min=e.min+t,e.max=e.max+t}function LP(e,t,n,r,i=.5){jP(e,t,n,Yj(e.min,e.max,i),r)}function CP(e,t){LP(e.x,t.x,t.scaleX,t.scale,t.originX),LP(e.y,t.y,t.scaleY,t.scale,t.originY)}function _P(e,t){return mP(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const EP=()=>({x:{min:0,max:0},y:{min:0,max:0}}),TP={current:null},BP={current:!1};const RP=new WeakMap;const FP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DP{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=uj.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,sj.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=PA(t),this.isVariantNode=LA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in d){const e=d[u];void 0!==o[u]&&hA(e)&&e.set(o[u])}}mount(e){var t;this.current=e,RP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),BP.current||function(){if(BP.current=!0,wN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>TP.current=e.matches;e.addEventListener("change",t),t()}else TP.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||TP.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),aj(this.notifyUpdate),aj(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ek.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&sj.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in xA){const t=xA[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<FP.length;n++){const t=FP[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(hA(i))e.addValue(r,i);else if(hA(s))e.addValue(r,Xk(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Xk(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Xk(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(LN(n)||_N(n))?n=parseFloat(n):(r=n,!fA.find(Rk(r))&&Wj.test(t)&&(n=$k(e,t))),this.setBaseTarget(e,hA(n)?n.get():n)),hA(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=JA(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||hA(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new DN),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Qk.render(this.render)}}class OP extends DP{constructor(){super(...arguments),this.KeyframeResolver=Yk}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hA(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function MP(e,{style:t,vars:n},r,i){const s=e.style;let a;for(a in t)s[a]=t[a];for(a in null==i||i.applyProjectionStyles(s,r),n)s.setProperty(a,n[a])}class IP extends OP{constructor(){super(...arguments),this.type="html",this.renderInstance=MP}readValueFromInstance(e,t){var n,r;if(ek.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?JS(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return XS(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(fj(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _P(e,t)}build(e,t,n){FA(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return eP(e,t,n)}}const zP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class UP extends OP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=EP}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ek.has(t)){const e=Wk(t);return e&&e.default||0}return t=zP.has(t)?t:oP(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return nP(e,t,n)}build(e,t,n){qA(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){MP(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(zP.has(i)?i:oP(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=HA(e.tagName),super.mount(e)}}const qP=(e,t)=>GA(e)?new UP(t):new IP(t,{allowProjection:e!==V.Fragment});function VP(e,t,n){const r=e.getProps();return JA(r,t,void 0!==n?n:r.custom,e)}const HP=e=>Array.isArray(e);function WP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xk(n))}function $P(e){return HP(e)?e[e.length-1]||0:e}function GP(e,t){const n=e.getValue("willChange");if(r=n,Boolean(hA(r)&&r.add))return n.add(t);if(!n&&PN.WillChange){const n=new PN.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function YP(e){return e.props[lP]}const KP=e=>null!==e;const JP={type:"spring",stiffness:500,damping:25,restSpeed:10},XP={type:"keyframes",duration:.8},QP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZP=(e,{keyframes:t})=>t.length>2?XP:ek.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:JP:QP;const eL=(e,t,n,r={},i,s)=>a=>{const o=Tk(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=ON(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||Object.assign(d,ZP(e,d)),d.duration&&(d.duration=ON(d.duration)),d.repeatDelay&&(d.repeatDelay=ON(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(Ak(d),0===d.delay&&(u=!0)),(PN.instantAnimations||PN.skipAnimations)&&(u=!0,Ak(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!s&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(KP);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(d.keyframes,o);if(void 0!==e)return void sj.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new qS(d):new Ck(d)};function tL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function nL(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in o){const t=e.getValue(d,e.latestValues[d]??null),r=o[d];if(void 0===r||c&&tL(c,d))continue;const i={delay:n,...Tk(s||{},d)},a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!i.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const t=YP(e);if(t){const e=window.MotionHandoffAnimation(t,d,sj);null!==e&&(i.startTime=e,u=!0)}}GP(e,d),t.start(eL(d,t,r,e.shouldReduceMotion&&Bk.has(d)?{type:!1}:i,e,u));const h=t.animation;h&&l.push(h)}return a&&Promise.all(l).then(()=>{sj.update(()=>{a&&function(e,t){const n=VP(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s)WP(e,a,$P(s[a]))}(e,a)})}),l}function rL(e,t,n,r=0,i=1){const s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*r;return"function"==typeof n?n(s,a):1===i?s*r:o-s*r}function iL(e,t,n={}){var r;const i=VP(e,t,"exit"===n.type?null==(r=e.presenceContext)?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(nL(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,n=0,r=0,i=0,s=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(iL(l,t,{...a,delay:n+("function"==typeof r?0:r)+rL(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,i,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}function sL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const aL=AA.length;function oL(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&oL(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<aL;n++){const r=AA[n],i=e.props[r];(SA(i)||!1===i)&&(t[r]=i)}return t}const lL=[...kA].reverse(),cL=kA.length;function dL(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>iL(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=iL(e,t,n);else{const i="function"==typeof t?VP(e,t,n.custom):t;r=Promise.all(nL(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function uL(e){let t=dL(e),n=pL(),r=!0;const i=t=>(n,r)=>{var i;const s=VP(e,r,"exit"===t?null==(i=e.presenceContext)?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function s(s){const{props:a}=e,o=oL(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<cL;t++){const h=lL[t],f=n[h],p=void 0!==a[h]?a[h]:o[h],m=SA(p),g=h===s?f.isActive:null;!1===g&&(u=t);let x=p===o[h]&&p!==a[h]&&m;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),f.protectedKeys={...d},!f.isActive&&null===g||!p&&!f.prevProp||jA(p)||"boolean"==typeof p)continue;const b=hL(f.prevProp,p);let y=b||h===s&&f.isActive&&!x&&m||t>u&&m,v=!1;const w=Array.isArray(p)?p:[p];let N=w.reduce(i(h),{});!1===g&&(N={});const{prevResolvedValues:j={}}=f,S={...j,...N},k=t=>{y=!0,c.has(t)&&(v=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=N[e],n=j[e];if(d.hasOwnProperty(e))continue;let r=!1;r=HP(t)&&HP(n)?!sL(t,n):t!==n,r?null!=t?k(e):c.add(e):void 0!==t&&c.has(e)?k(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=N,f.isActive&&(d={...d,...N}),r&&e.blockInitialAnimation&&(y=!1);const A=x&&b;y&&(!A||v)&&l.push(...w.map(t=>{const n={type:h};if("string"==typeof t&&r&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=VP(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=rL(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof a.initial){const n=VP(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null==(i=e.variantChildren)||i.forEach(e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=pL()}}}function hL(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!sL(t,e)}function fL(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pL(){return{animate:fL(!0),whileInView:fL(),whileHover:fL(),whileTap:fL(),whileDrag:fL(),whileFocus:fL(),exit:fL()}}class mL{constructor(e){this.isMounted=!1,this.node=e}update(){}}let gL=0;const xL={animation:{Feature:class extends mL{constructor(e){super(e),e.animationState||(e.animationState=uL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends mL{constructor(){super(...arguments),this.id=gL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function bL(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function yL(e){return{point:{x:e.pageX,y:e.pageY}}}function vL(e,t,n,r){return bL(e,t,(e=>t=>iA(t)&&e(t,yL(t)))(n),r)}function wL(e){return e.max-e.min}function NL(e,t,n,r=.5){e.origin=r,e.originPoint=Yj(t.min,t.max,e.origin),e.scale=wL(n)/wL(t),e.translate=Yj(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function jL(e,t,n,r){NL(e.x,t.x,n.x,r?r.originX:void 0),NL(e.y,t.y,n.y,r?r.originY:void 0)}function SL(e,t,n){e.min=n.min+t.min,e.max=e.min+wL(t)}function kL(e,t,n){e.min=t.min-n.min,e.max=e.min+wL(t)}function AL(e,t,n){kL(e.x,t.x,n.x),kL(e.y,t.y,n.y)}function PL(e){return[e("x"),e("y")]}const LL=({current:e})=>e?e.ownerDocument.defaultView:null,CL=(e,t)=>Math.abs(e-t);class _L{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=BL(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=CL(e.x,t.x),r=CL(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=oj;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=EL(t,this.transformPagePoint),sj.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=BL("pointercancel"===e.type?this.lastMoveEventInfo:EL(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!iA(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=r||window;const a=EL(yL(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=oj;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,BL(a,this.history)),this.removeListeners=RN(vL(this.contextWindow,"pointermove",this.handlePointerMove),vL(this.contextWindow,"pointerup",this.handlePointerUp),vL(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aj(this.updatePoint)}}function EL(e,t){return t?{point:t(e.point)}:e}function TL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function BL({point:e},t){return{point:e,delta:TL(e,FL(t)),offset:TL(e,RL(t)),velocity:DL(t,.1)}}function RL(e){return e[0]}function FL(e){return e[e.length-1]}function DL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=FL(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ON(t)));)n--;if(!r)return{x:0,y:0};const s=MN(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function OL(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ML(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const IL=.35;function zL(e,t,n){return{min:UL(e,t),max:UL(e,n)}}function UL(e,t){return"number"==typeof e?e:e[t]||0}const qL=new WeakMap;class VL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new _L(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(yL(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Zk[s]?null:(Zk[s]=!0,()=>{Zk[s]=!1}):Zk.x||Zk.y?null:(Zk.x=Zk.y=!0,()=>{Zk.x=Zk.y=!1}),!this.openDragLock))return;var s;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),PL(e=>{let t=this.getAxisMotionValue(e).get()||0;if(_j.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=wL(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&sj.postRender(()=>i(e,t)),GP(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>PL(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:LL(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&sj.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!HL(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?Yj(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?Yj(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,i=this.constraints;t&&sP(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:OL(e.x,n,i),y:OL(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=IL){return!1===e?e=0:!0===e&&(e=IL),{x:zL(e,"left","right"),y:zL(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&PL(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!sP(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=_P(e,n),{scroll:i}=t;return i&&(PP(r.x,i.offset.x),PP(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:ML(e.x,t.x),y:ML(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=mP(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=PL(a=>{if(!HL(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,u)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return GP(this.visualElement,e),n.start(eL(e,n,0,t,this.visualElement,!1))}stopAnimation(){PL(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){PL(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){PL(t=>{const{drag:n}=this.getProps();if(!HL(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Yj(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!sP(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};PL(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=wL(e),i=wL(t);return i>r?n=FN(t.min,t.max-r,e.min):r>i&&(n=FN(e.min,e.max-i,t.min)),AN(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),PL(t=>{if(!HL(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Yj(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;qL.set(this.visualElement,this);const e=vL(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();sP(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),sj.read(t);const i=bL(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(PL(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=IL,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function HL(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const WL=e=>(t,n)=>{e&&sj.postRender(()=>e(t,n))};const $L={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const YL={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Ej.test(e))return e;e=parseFloat(e)}return`${GL(e,t.target.x)}% ${GL(e,t.target.y)}%`}},KL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Wj.parse(e);if(i.length>5)return r;const s=Wj.createTransformer(e),a="number"!=typeof i[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=l;const c=Yj(o,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=c),"number"==typeof i[3+a]&&(i[3+a]/=c),s(i)}};let JL=!1;class XL extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)EA[t]=e[t],fj(t)&&(EA[t].isCSSVariable=!0)}(ZL),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),JL&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$L.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:s}=n;return s?(s.isPresent=i,JL=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||sj.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;JL=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QL(e){const[t,n]=function(e=!0){const t=V.useContext(jN);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=V.useId();V.useEffect(()=>{if(e)return i(s)},[e]);const a=V.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}(),r=V.useContext(vN);return Z.jsx(XL,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(cP),isPresent:t,safeToRemove:n})}const ZL={borderRadius:{...YL,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:YL,borderTopRightRadius:YL,borderBottomLeftRadius:YL,borderBottomRightRadius:YL,boxShadow:KL};const eC=(e,t)=>e.depth-t.depth;class tC{constructor(){this.children=[],this.isDirty=!1}add(e){SN(this.children,e),this.isDirty=!0}remove(e){kN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eC),this.isDirty=!1,this.children.forEach(e)}}const nC=["TopLeft","TopRight","BottomLeft","BottomRight"],rC=nC.length,iC=e=>"string"==typeof e?parseFloat(e):e,sC=e=>"number"==typeof e||Ej.test(e);function aC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const oC=cC(0,.5,KN),lC=cC(.5,.95,TN);function cC(e,t,n){return r=>r<e?0:r>t?1:n(FN(e,t,r))}function dC(e,t){e.min=t.min,e.max=t.max}function uC(e,t){dC(e.x,t.x),dC(e.y,t.y)}function hC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fC(e,t,n,r,i){return e=wP(e-=t,1/n,r),void 0!==i&&(e=wP(e,1/i,r)),e}function pC(e,t,[n,r,i],s,a){!function(e,t=0,n=1,r=.5,i,s=e,a=e){_j.test(t)&&(t=parseFloat(t),t=Yj(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=Yj(s.min,s.max,r);e===s&&(o-=t),e.min=fC(e.min,t,n,o,i),e.max=fC(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,s,a)}const mC=["x","scaleX","originX"],gC=["y","scaleY","originY"];function xC(e,t,n,r){pC(e.x,t,mC,n?n.x:void 0,r?r.x:void 0),pC(e.y,t,gC,n?n.y:void 0,r?r.y:void 0)}function bC(e){return 0===e.translate&&1===e.scale}function yC(e){return bC(e.x)&&bC(e.y)}function vC(e,t){return e.min===t.min&&e.max===t.max}function wC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NC(e,t){return wC(e.x,t.x)&&wC(e.y,t.y)}function jC(e){return wL(e.x)/wL(e.y)}function SC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kC{constructor(){this.members=[]}add(e){SN(this.members,e),e.scheduleRender()}remove(e){if(kN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const AC=["","X","Y","Z"];let PC=0;function LC(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=YP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",sj,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CC(r)}function _C({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=PC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BC),this.nodes.forEach(zC),this.nodes.forEach(UC),this.nodes.forEach(RC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new tC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new DN),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=uA(t)&&!(uA(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;sj.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=uj.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(aj(r),e(s-t))};return sj.setup(r,!0),()=>aj(r)}(i,250),$L.hasAnimatedSinceResize&&($L.hasAnimatedSinceResize=!1,this.nodes.forEach(IC)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||GC,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!NC(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Tk(i,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||IC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aj(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qC),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(DC);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(OC);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MC),this.nodes.forEach(EC),this.nodes.forEach(TC)):this.nodes.forEach(OC),this.clearAllSnapshots();const e=uj.now();oj.delta=AN(0,1e3/60,e-oj.timestamp),oj.timestamp=e,oj.isProcessing=!0,lj.update.process(oj),lj.preRender.process(oj),lj.render.process(oj),oj.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FC),this.sharedNodes.forEach(VC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sj.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sj.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||wL(this.snapshot.measuredBox.x)||wL(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!yC(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||bP(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),JC((r=n).x),JC(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(QC))){const{scroll:e}=this.root;e&&(PP(n.x,e.offset.x),PP(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(uC(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&uC(n,e),PP(n.x,i.offset.x),PP(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};uC(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&CP(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),bP(e.latestValues)&&CP(n,e.latestValues)}return bP(this.latestValues)&&CP(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};uC(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!bP(e.latestValues))continue;xP(e.latestValues)&&e.updateSnapshot();const r=EP();uC(r,e.measurePageBox()),xC(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return bP(this.latestValues)&&xC(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oj.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=oj.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},AL(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),uC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var a,o,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,SL(a.x,o.x,l.x),SL(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):uC(this.target,this.layout.layoutBox),SP(this.target,this.targetDelta)):uC(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},AL(this.relativeTargetOrigin,this.target,e.target),uC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!xP(this.parent.latestValues)&&!yP(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===oj.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;uC(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&CP(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,SP(e,a)),r&&bP(s.latestValues)&&CP(e,s.latestValues))}t.x<AP&&t.x>kP&&(t.x=1),t.y<AP&&t.y>kP&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(hC(this.prevProjectionDelta.x,this.projectionDelta.x),hC(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jL(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&SC(this.projectionDelta.x,this.prevProjectionDelta.x)&&SC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some($C));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p;HC(s.x,e.x,n),HC(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(AL(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,h=this.relativeTargetOrigin,f=a,p=n,WC(l.x,h.x,f.x,p),WC(l.y,h.y,f.y,p),u&&function(e,t){return vC(e.x,t.x)&&vC(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),uC(u,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Yj(0,n.opacity??1,oC(r)),e.opacityExit=Yj(t.opacity??1,0,lC(r))):s&&(e.opacity=Yj(t.opacity??1,n.opacity??1,r));for(let a=0;a<rC;a++){const i=`border${nC[a]}Radius`;let s=aC(t,i),o=aC(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||sC(s)===sC(o)?(e[i]=Math.max(Yj(iC(s),iC(o),r),0),(_j.test(o)||_j.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Yj(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,r;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(r=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||r.stop(),this.pendingAnimation&&(aj(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sj.update(()=>{$L.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xk(0)),this.currentAnimation=function(e,t,n){const r=hA(e)?e:Xk(e);return r.start(eL("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&XC(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=wL(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=wL(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}uC(t,n),CP(t,i),jL(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new kC);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&LC("z",e,r,this.animationValues);for(let i=0;i<AC.length;i++)LC(`rotate${AC[i]}`,e,r,this.animationValues),LC(`skew${AC[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=XA(null==t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=XA(null==t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!bP(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(s=n(i,s)),e.transform=s;const{x:a,y:o}=this.projectionDelta;e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const l in EA){if(void 0===i[l])continue;const{correct:t,applyTo:n,isCSSVariable:a}=EA[l],o="none"===s?i[l]:t(i[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else a?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=r===this?XA(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(DC),this.root.sharedNodes.clear()}}}function EC(e){e.updateLayout()}function TC(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?PL(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=wL(r);r.min=t[e].min,r.max=r.min+i}):XC(i,n.layoutBox,t)&&PL(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=wL(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jL(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?jL(o,e.applyTransform(r,!0),n.measuredBox):jL(o,t,n.layoutBox);const l=!yC(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};AL(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};AL(o,t,s.layoutBox),NC(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function BC(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FC(e){e.clearSnapshot()}function DC(e){e.clearMeasurements()}function OC(e){e.isLayoutDirty=!1}function MC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function IC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zC(e){e.resolveTargetDelta()}function UC(e){e.calcProjection()}function qC(e){e.resetSkewAndRotation()}function VC(e){e.removeLeadSnapshot()}function HC(e,t,n){e.translate=Yj(t.translate,0,n),e.scale=Yj(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WC(e,t,n,r){e.min=Yj(t.min,n.min,r),e.max=Yj(t.max,n.max,r)}function $C(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const GC={duration:.45,ease:[.4,0,.1,1]},YC=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),KC=YC("applewebkit/")&&!YC("chrome/")?Math.round:TN;function JC(e){e.min=KC(e.min),e.max=KC(e.max)}function XC(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=jC(t),i=jC(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function QC(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const ZC=_C({attachResizeListener:(e,t)=>bL(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e_={current:void 0},t_=_C({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!e_.current){const e=new ZC({});e.mount(window),e.setOptions({layoutScroll:!0}),e_.current=e}return e_.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),n_={pan:{Feature:class extends mL{constructor(){super(...arguments),this.removePointerDownListener=TN}onPointerDown(e){this.session=new _L(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:WL(e),onStart:WL(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&sj.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=vL(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends mL{constructor(e){super(e),this.removeGroupControls=TN,this.removeListeners=TN,this.controls=new VL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||TN}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:t_,MeasureLayout:QL}};function r_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&sj.postRender(()=>i(t,yL(t)))}function i_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&sj.postRender(()=>i(t,yL(t)))}const s_=new WeakMap,a_=new WeakMap,o_=e=>{const t=s_.get(e.target);t&&t(e)},l_=e=>{e.forEach(o_)};function c_(e,t,n){const r=function({root:e,...t}){const n=e||document;a_.has(n)||a_.set(n,{});const r=a_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(l_,{root:e,...t})),r[i]}(t);return s_.set(e,n),r.observe(e),()=>{s_.delete(e),r.unobserve(e)}}const d_={some:0,all:1};const u_=pP({...xL,...{inView:{Feature:class extends mL{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:d_[r]};return c_(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends mL{mount(){const{current:e}=this.node;e&&(this.unmount=dA(e,(e,t)=>(i_(this.node,t,"Start"),(e,{success:t})=>i_(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends mL{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(iw){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=RN(bL(this.node.current,"focus",()=>this.onFocus()),bL(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends mL{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,s]=tA(e,n),a=e=>{if(!nA(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const s=e=>{nA(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach(e=>{e.addEventListener("pointerenter",a,i)}),s}(e,(e,t)=>(r_(this.node,t,"Start"),e=>r_(this.node,e,"End"))))}unmount(){}}}},...n_,...{layout:{ProjectionNode:t_,MeasureLayout:QL}}},qP),h_=()=>{const e=df(),[t,n]=V.useState(!1),[r,i]=V.useState(!1);V.useEffect(()=>{const e=localStorage.getItem("token");n(!!e)},[]);return Z.jsxs("div",{className:"relative lg:min-h-[90vh] bg-gradient-to-r from-red-600 to-red-800 text-white",children:[Z.jsx("div",{className:"absolute inset-0 "}),Z.jsx("div",{className:"container mx-auto px-4 py-20 relative z-10",children:Z.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center ",children:[Z.jsxs(u_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[Z.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Save Lives Through Blood Donation"}),Z.jsx("p",{className:"text-xl mb-8",children:"Every drop counts. Join our mission to ensure a stable blood supply for those in need."}),Z.jsxs("div",{className:"flex gap-4",children:[Z.jsx("button",{onClick:()=>e("/register-donor"),className:"bg-white text-red-600 px-8 py-3 rounded-full font-semibold hover:bg-red-50 transition-colors",children:"Donate Now"}),Z.jsx("button",{onClick:()=>{t?e("/request-blood"):i(!0)},className:"bg-white text-red-600 px-8 py-3 rounded-full font-semibold hover:bg-red-50 transition-colors",children:"Request Blood"})]})]}),Z.jsx(u_.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:" md:block",children:Z.jsx("div",{className:"relative",children:Z.jsx("div",{className:"w-full h-[400px] rounded-lg overflow-hidden",children:Z.jsx("div",{className:"w-full h-full  flex items-center justify-center",children:Z.jsx("img",{className:"rounded-xl",src:"/Hero/Banner.png",alt:""})})})})})]})}),Z.jsx(mN,{isOpen:r,onClose:()=>i(!1),message:"Please register first, then log in to request blood.",buttonText:"Register as Donor",buttonAction:"/register-donor"})]})},f_=()=>{const e=df(),[t,n]=V.useState(!1);V.useEffect(()=>{const e="true"===localStorage.getItem("isLoggedIn"),t=localStorage.getItem("user");n(e&&t)},[]);return Z.jsx("section",{className:"py-20 bg-gray-50",children:Z.jsxs("div",{className:"container mx-auto px-4",children:[Z.jsxs(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[Z.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Donate Blood?"}),Z.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Your donation can make a significant impact on someone's life. Here's why your contribution matters."})]}),Z.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{title:"Save Lives",description:"One donation can save up to three lives. Your blood could be the difference between life and death for someone in need.",icon:""},{title:"Regular Need",description:"Every 2 seconds, someone in the world needs blood. Regular donations ensure a stable supply.",icon:""},{title:"Quick Process",description:"The entire donation process takes only about an hour, and the actual donation takes just 8-10 minutes.",icon:""},{title:"Health Benefits",description:"Donating blood can help reduce iron levels in your body and may lower the risk of heart disease.",icon:""}].map((e,t)=>Z.jsxs(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[Z.jsx("div",{className:"text-4xl mb-4",children:e.icon}),Z.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),Z.jsx("p",{className:"text-gray-600",children:e.description})]},t))}),Z.jsx(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16 text-center",children:t?Z.jsx("div",{className:"inline-block bg-green-600 text-white px-8 py-3 rounded-full font-semibold shadow-lg",children:"Thanks for being a Valuable member to save someone's life "}):Z.jsx("div",{onClick:()=>e("/register-donor"),className:"inline-block bg-red-600 text-white px-8 py-3 rounded-full font-semibold hover:bg-red-700 transition-colors cursor-pointer",children:"Become a Donor Today"})})]})})},p_=()=>Z.jsx("section",{className:"py-20 bg-white",children:Z.jsxs("div",{className:"container mx-auto px-4",children:[Z.jsxs(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[Z.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Understanding Blood Types"}),Z.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Learn about different blood types and their compatibility. Your blood type determines who you can donate to and receive from."})]}),Z.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{type:"A+",description:"Can donate to A+ and AB+",canReceive:["A+","A-","O+","O-"],color:"bg-red-500"},{type:"A-",description:"Can donate to A+, A-, AB+, AB-",canReceive:["A-","O-"],color:"bg-red-600"},{type:"B+",description:"Can donate to B+ and AB+",canReceive:["B+","B-","O+","O-"],color:"bg-red-400"},{type:"B-",description:"Can donate to B+, B-, AB+, AB-",canReceive:["B-","O-"],color:"bg-red-700"},{type:"AB+",description:"Universal recipient",canReceive:["All blood types"],color:"bg-red-300"},{type:"AB-",description:"Can donate to AB+ and AB-",canReceive:["AB-","A-","B-","O-"],color:"bg-red-800"},{type:"O+",description:"Can donate to A+, B+, AB+, O+",canReceive:["O+","O-"],color:"bg-red-200"},{type:"O-",description:"Universal donor",canReceive:["O-"],color:"bg-red-900"}].map((e,t)=>Z.jsxs(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"group",children:[Z.jsxs("div",{className:`${e.color} text-white rounded-t-xl p-6 text-center`,children:[Z.jsx("h3",{className:"text-3xl font-bold mb-2",children:e.type}),Z.jsx("p",{className:"text-sm opacity-90",children:e.description})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-b-xl p-6 border border-gray-100",children:[Z.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Can Receive From:"}),Z.jsx("ul",{className:"text-sm text-gray-600",children:e.canReceive.map((e,t)=>Z.jsx("li",{className:"mb-1",children:e},t))})]})]},t))}),Z.jsx(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16 text-center",children:Z.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 rounded-xl p-8 max-w-2xl mx-auto shadow-lg border border-red-200",children:[Z.jsxs("h3",{className:"text-2xl font-bold text-red-700 mb-4 flex",children:[Z.jsx("span",{className:"mr-2",children:""}),"Did You Know?"]}),Z.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Type O- blood is known as the universal donor because it can be given to patients of any blood type. Type AB+ blood is known as the universal recipient because it can receive blood from any type."})]})})]})}),m_=()=>{const[e,t]=V.useState("overview");return Z.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-red-50",children:Z.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"text-center mb-12",children:[Z.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Understanding the Rh Factor"}),Z.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The Rh blood group system is one of the most important blood group systems in transfusion medicine. Understanding your Rh factor can be life-saving."})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-t-4 border-red-500 transform hover:scale-105 transition-all duration-300",children:[Z.jsx("div",{className:"text-4xl font-bold text-red-600 mb-2",children:"85%"}),Z.jsx("p",{className:"text-gray-600 font-medium",children:"Rh Positive Population"})]}),Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-t-4 border-blue-500 transform hover:scale-105 transition-all duration-300",children:[Z.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"15%"}),Z.jsx("p",{className:"text-gray-600 font-medium",children:"Rh Negative Population"})]}),Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-t-4 border-green-500 transform hover:scale-105 transition-all duration-300",children:[Z.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"50+"}),Z.jsx("p",{className:"text-gray-600 font-medium",children:"Rh Antigens Identified"})]}),Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-t-4 border-purple-500 transform hover:scale-105 transition-all duration-300",children:[Z.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"1940"}),Z.jsx("p",{className:"text-gray-600 font-medium",children:"Year of Discovery"})]})]}),Z.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[Z.jsx("button",{onClick:()=>t("overview"),className:"px-6 py-3 rounded-lg font-semibold transition-all duration-300 "+("overview"===e?"bg-red-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 hover:bg-red-50 shadow"),children:"Overview"}),Z.jsx("button",{onClick:()=>t("importance"),className:"px-6 py-3 rounded-lg font-semibold transition-all duration-300 "+("importance"===e?"bg-red-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 hover:bg-red-50 shadow"),children:"Why It Matters"}),Z.jsx("button",{onClick:()=>t("pregnancy"),className:"px-6 py-3 rounded-lg font-semibold transition-all duration-300 "+("pregnancy"===e?"bg-red-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 hover:bg-red-50 shadow"),children:"Pregnancy & Rh"}),Z.jsx("button",{onClick:()=>t("cases"),className:"px-6 py-3 rounded-lg font-semibold transition-all duration-300 "+("cases"===e?"bg-red-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 hover:bg-red-50 shadow"),children:"Case Studies"})]}),Z.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:["overview"===e&&Z.jsxs("div",{className:"space-y-8",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"What is the Rh Factor?"}),Z.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"The Rh factor, also known as Rhesus factor, is a protein that can be present on the surface of red blood cells. If you have this protein, you are Rh positive (Rh+). If you don't have it, you are Rh negative (Rh-)."}),Z.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-r-lg",children:Z.jsxs("p",{className:"text-gray-800 font-medium",children:[Z.jsx("span",{className:"text-red-600 font-bold",children:"Historical Fact:"}),' The Rh factor was discovered in 1940 by Karl Landsteiner and Alexander Wiener during experiments with Rhesus monkeys, hence the name "Rh."']})})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[Z.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-white p-6 rounded-xl border-2 border-red-200",children:[Z.jsxs("h4",{className:"text-2xl font-bold text-red-600 mb-4 flex items-center",children:[Z.jsx("span",{className:"mr-2",children:""})," Rh Positive (Rh+)"]}),Z.jsxs("ul",{className:"space-y-3 text-gray-700",children:[Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 mr-2",children:""}),Z.jsx("span",{children:"Has the D antigen on red blood cells"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 mr-2",children:""}),Z.jsx("span",{children:"Most common: 85% of global population"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 mr-2",children:""}),Z.jsx("span",{children:"Can receive Rh+ or Rh- blood (if ABO compatible)"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 mr-2",children:""}),Z.jsx("span",{children:"Lower pregnancy complications risk"})]})]})]}),Z.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white p-6 rounded-xl border-2 border-blue-200",children:[Z.jsxs("h4",{className:"text-2xl font-bold text-blue-600 mb-4 flex items-center",children:[Z.jsx("span",{className:"mr-2",children:""})," Rh Negative (Rh-)"]}),Z.jsxs("ul",{className:"space-y-3 text-gray-700",children:[Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-blue-500 mr-2",children:""}),Z.jsx("span",{children:"Lacks the D antigen on red blood cells"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-blue-500 mr-2",children:""}),Z.jsx("span",{children:"Rare: Only 15% of global population"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-blue-500 mr-2",children:""}),Z.jsx("span",{children:"Can ONLY receive Rh- blood"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-blue-500 mr-2",children:""}),Z.jsx("span",{children:"Requires RhoGAM during pregnancy"})]})]})]})]}),Z.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-xl p-6",children:[Z.jsxs("h4",{className:"text-xl font-bold text-yellow-800 mb-3 flex items-center",children:[Z.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Global Distribution"]}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"font-semibold text-gray-800",children:"European Descent"}),Z.jsx("p",{className:"text-gray-600",children:"15-17% Rh negative"})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-semibold text-gray-800",children:"African Descent"}),Z.jsx("p",{className:"text-gray-600",children:"5-7% Rh negative"})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-semibold text-gray-800",children:"Asian Descent"}),Z.jsx("p",{className:"text-gray-600",children:"1-2% Rh negative"})]})]})]})]}),"importance"===e&&Z.jsxs("div",{className:"space-y-8",children:[Z.jsx("div",{children:Z.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Why Rh Factor Matters"})}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[Z.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border-2 border-red-200",children:[Z.jsx("div",{className:"text-4xl mb-4",children:""}),Z.jsx("h4",{className:"text-2xl font-bold text-red-600 mb-3",children:"Blood Transfusions"}),Z.jsx("p",{className:"text-gray-700 mb-4",children:"Receiving incompatible Rh blood can trigger a dangerous immune response called hemolytic transfusion reaction."}),Z.jsxs("div",{className:"bg-white rounded-lg p-4",children:[Z.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Critical Facts:"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" Rh- patients can develop anti-D antibodies if exposed to Rh+ blood"}),Z.jsx("li",{children:" Antibodies attack and destroy Rh+ red blood cells"}),Z.jsx("li",{children:" Can be fatal without proper matching"}),Z.jsx("li",{children:" Second exposure is typically more severe"})]})]})]}),Z.jsxs("div",{className:"bg-pink-50 rounded-xl p-6 border-2 border-pink-200",children:[Z.jsx("div",{className:"text-4xl mb-4",children:""}),Z.jsx("h4",{className:"text-2xl font-bold text-pink-600 mb-3",children:"Pregnancy Safety"}),Z.jsx("p",{className:"text-gray-700 mb-4",children:"Rh incompatibility between mother and fetus is a serious concern in obstetrics, affecting thousands of pregnancies."}),Z.jsxs("div",{className:"bg-white rounded-lg p-4",children:[Z.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Risk Scenario:"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" Rh- mother + Rh+ father = Rh+ baby (possible)"}),Z.jsx("li",{children:" Mother's immune system may attack baby's blood"}),Z.jsx("li",{children:" Condition: Hemolytic Disease of the Newborn (HDN)"}),Z.jsx("li",{children:" Preventable with RhoGAM injections"})]})]})]}),Z.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[Z.jsx("div",{className:"text-4xl mb-4",children:""}),Z.jsx("h4",{className:"text-2xl font-bold text-blue-600 mb-3",children:"Medical Procedures"}),Z.jsx("p",{className:"text-gray-700 mb-4",children:"Rh factor is crucial in organ transplantation, prenatal care, and emergency medicine."}),Z.jsxs("div",{className:"bg-white rounded-lg p-4",children:[Z.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Applications:"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" Pre-surgical blood typing"}),Z.jsx("li",{children:" Organ transplant compatibility"}),Z.jsx("li",{children:" Prenatal screening programs"}),Z.jsx("li",{children:" Emergency blood supply planning"})]})]})]}),Z.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border-2 border-green-200",children:[Z.jsx("div",{className:"text-4xl mb-4",children:""}),Z.jsx("h4",{className:"text-2xl font-bold text-green-600 mb-3",children:"Genetic Inheritance"}),Z.jsx("p",{className:"text-gray-700 mb-4",children:"Rh factor is inherited from parents following Mendelian genetics, with Rh+ being dominant."}),Z.jsxs("div",{className:"bg-white rounded-lg p-4",children:[Z.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Inheritance Pattern:"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" Both parents Rh+  Child can be Rh+ or Rh-"}),Z.jsx("li",{children:" One parent Rh+, one Rh-  Child can be either"}),Z.jsx("li",{children:" Both parents Rh-  Child will be Rh-"}),Z.jsx("li",{children:" Rh+ is a dominant genetic trait"})]})]})]})]}),Z.jsxs("div",{className:"bg-gradient-to-r from-red-100 to-pink-100 rounded-xl p-8 border-2 border-red-300",children:[Z.jsx("h4",{className:"text-2xl font-bold text-red-800 mb-4",children:"Impact Statistics"}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[Z.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"16%"}),Z.jsx("p",{className:"text-gray-700",children:"Of pregnancies affected by Rh incompatibility without treatment"})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[Z.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"99%"}),Z.jsx("p",{className:"text-gray-700",children:"Prevention success rate with RhoGAM prophylaxis"})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[Z.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"10,000+"}),Z.jsx("p",{className:"text-gray-700",children:"Lives saved annually through Rh screening programs"})]})]})]})]}),"pregnancy"===e&&Z.jsxs("div",{className:"space-y-8",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Rh Factor in Pregnancy"}),Z.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Rh incompatibility during pregnancy is a preventable condition that once caused significant infant mortality. Modern medicine has made it highly manageable through screening and treatment."})]}),Z.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-red-50 rounded-xl p-8 border-2 border-pink-300",children:[Z.jsx("h4",{className:"text-2xl font-bold text-pink-700 mb-6",children:"Hemolytic Disease of the Newborn (HDN)"}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[Z.jsx("h5",{className:"font-bold text-red-600 mb-3 text-xl",children:"The Problem"}),Z.jsxs("ul",{className:"space-y-3 text-gray-700",children:[Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 font-bold mr-2",children:"1."}),Z.jsx("span",{children:"Rh- mother carries Rh+ baby (inherited from father)"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 font-bold mr-2",children:"2."}),Z.jsx("span",{children:"Baby's blood cells enter mother's bloodstream during delivery"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 font-bold mr-2",children:"3."}),Z.jsx("span",{children:"Mother's immune system recognizes Rh+ cells as foreign"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 font-bold mr-2",children:"4."}),Z.jsx("span",{children:"Mother produces anti-D antibodies"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-red-500 font-bold mr-2",children:"5."}),Z.jsx("span",{children:"In future pregnancies, antibodies attack Rh+ baby's blood cells"})]})]})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[Z.jsx("h5",{className:"font-bold text-green-600 mb-3 text-xl",children:"The Solution"}),Z.jsxs("ul",{className:"space-y-3 text-gray-700",children:[Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-green-500 font-bold mr-2",children:""}),Z.jsx("span",{children:"RhoGAM (Rh Immune Globulin) injection at 28 weeks pregnancy"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-green-500 font-bold mr-2",children:""}),Z.jsx("span",{children:"Second RhoGAM dose within 72 hours after delivery"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-green-500 font-bold mr-2",children:""}),Z.jsx("span",{children:"Prevents mother's immune system from producing antibodies"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-green-500 font-bold mr-2",children:""}),Z.jsx("span",{children:"Protects current and future pregnancies"})]}),Z.jsxs("li",{className:"flex items-start",children:[Z.jsx("span",{className:"text-green-500 font-bold mr-2",children:""}),Z.jsx("span",{children:"99% effective when administered properly"})]})]})]})]}),Z.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-6 rounded-r-lg",children:[Z.jsx("p",{className:"font-bold text-yellow-800 mb-2",children:" Important: Additional RhoGAM Needed After:"}),Z.jsxs("ul",{className:"grid md:grid-cols-2 gap-2 text-sm text-yellow-900",children:[Z.jsx("li",{children:" Miscarriage or ectopic pregnancy"}),Z.jsx("li",{children:" Amniocentesis or CVS testing"}),Z.jsx("li",{children:" Abdominal trauma during pregnancy"}),Z.jsx("li",{children:" Abortion (spontaneous or induced)"})]})]})]}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[Z.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border-t-4 border-red-500",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:"Before RhoGAM (Pre-1968)"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" 10,000+ infant deaths annually in US"}),Z.jsx("li",{children:" 20,000+ cases of brain damage"}),Z.jsx("li",{children:" Leading cause of newborn jaundice"}),Z.jsx("li",{children:" No effective prevention available"})]})]}),Z.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border-t-4 border-green-500",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:"After RhoGAM (Post-1968)"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" 95% reduction in HDN cases"}),Z.jsx("li",{children:" Infant mortality nearly eliminated"}),Z.jsx("li",{children:" Routine prenatal screening standard"}),Z.jsx("li",{children:" Safe for mother and baby"})]})]}),Z.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border-t-4 border-blue-500",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:"Current Protocol"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:" Universal Rh screening at first visit"}),Z.jsx("li",{children:" Partner testing if mother is Rh-"}),Z.jsx("li",{children:" Prophylactic RhoGAM at 28 weeks"}),Z.jsx("li",{children:" Post-delivery dose if baby is Rh+"})]})]})]})]}),"cases"===e&&Z.jsxs("div",{className:"space-y-8",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Real-World Case Studies"}),Z.jsx("p",{className:"text-lg text-gray-700",children:"These documented cases illustrate the critical importance of Rh factor awareness and proper medical intervention."})]}),Z.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-white rounded-xl p-8 border-2 border-red-200 shadow-lg",children:[Z.jsxs("div",{className:"flex items-start mb-4",children:[Z.jsx("div",{className:"bg-red-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-4 flex-shrink-0",children:"1"}),Z.jsxs("div",{children:[Z.jsx("h4",{className:"text-2xl font-bold text-red-700 mb-2",children:"Emergency Transfusion Crisis"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"Location: Teaching Hospital, Dhaka | Year: 2021"})]})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-6 mb-4",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:"Case Details:"}),Z.jsx("p",{className:"text-gray-700 mb-3",children:"A 32-year-old woman with O Rh-negative blood type was admitted with severe post-partum hemorrhage. She required immediate blood transfusion but the hospital blood bank had no O negative units available."}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("span",{className:"font-semibold text-red-600",children:"Critical Issue:"})," Patient initially received O positive blood due to emergency shortage. This led to development of anti-D antibodies."]})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Z.jsxs("div",{className:"bg-red-100 rounded-lg p-4",children:[Z.jsx("h6",{className:"font-bold text-red-800 mb-2",children:"Consequences:"}),Z.jsxs("ul",{className:"space-y-1 text-sm text-gray-800",children:[Z.jsx("li",{children:" Hemolytic reaction requiring ICU care"}),Z.jsx("li",{children:" Extended hospital stay (14 days)"}),Z.jsx("li",{children:" Future pregnancies now high-risk"}),Z.jsx("li",{children:" Lifetime dependency on Rh- blood"})]})]}),Z.jsxs("div",{className:"bg-green-100 rounded-lg p-4",children:[Z.jsx("h6",{className:"font-bold text-green-800 mb-2",children:"Lessons Learned:"}),Z.jsxs("ul",{className:"space-y-1 text-sm text-gray-800",children:[Z.jsx("li",{children:" Maintain adequate Rh- blood inventory"}),Z.jsx("li",{children:" Pre-arrange donors for rare types"}),Z.jsx("li",{children:" Patient education on blood type"}),Z.jsx("li",{children:" Emergency protocols for incompatibility"})]})]})]})]}),Z.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-white rounded-xl p-8 border-2 border-pink-200 shadow-lg",children:[Z.jsxs("div",{className:"flex items-start mb-4",children:[Z.jsx("div",{className:"bg-pink-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-4 flex-shrink-0",children:"2"}),Z.jsxs("div",{children:[Z.jsx("h4",{className:"text-2xl font-bold text-pink-700 mb-2",children:"Preventable HDN Success Story"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"Location: Maternity Center, Chittagong | Year: 2022"})]})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-6 mb-4",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:"Case Details:"}),Z.jsx("p",{className:"text-gray-700 mb-3",children:"First-time mother, 28 years old, blood type A Rh-negative. Father is A Rh-positive. Proper screening identified risk during first prenatal visit at 8 weeks gestation."}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("span",{className:"font-semibold text-green-600",children:"Intervention:"})," Patient received comprehensive counseling and RhoGAM prophylaxis at 28 weeks and within 72 hours post-delivery."]})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Z.jsxs("div",{className:"bg-blue-100 rounded-lg p-4",children:[Z.jsx("h6",{className:"font-bold text-blue-800 mb-2",children:"Timeline:"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-800",children:[Z.jsxs("li",{children:[" ",Z.jsx("span",{className:"font-semibold",children:"Week 8:"})," Rh screening completed"]}),Z.jsxs("li",{children:[" ",Z.jsx("span",{className:"font-semibold",children:"Week 12:"})," Father's blood type confirmed"]}),Z.jsxs("li",{children:[" ",Z.jsx("span",{className:"font-semibold",children:"Week 28:"})," First RhoGAM injection"]}),Z.jsxs("li",{children:[" ",Z.jsx("span",{className:"font-semibold",children:"Delivery:"})," Baby boy, Rh-positive, healthy"]}),Z.jsxs("li",{children:[" ",Z.jsx("span",{className:"font-semibold",children:"48 hours:"})," Second RhoGAM dose given"]})]})]}),Z.jsxs("div",{className:"bg-green-100 rounded-lg p-4",children:[Z.jsx("h6",{className:"font-bold text-green-800 mb-2",children:"Outcome:"}),Z.jsxs("ul",{className:"space-y-1 text-sm text-gray-800",children:[Z.jsx("li",{children:" Baby born healthy, no complications"}),Z.jsx("li",{children:" No antibodies detected in mother"}),Z.jsx("li",{children:" Mother had successful second pregnancy"}),Z.jsx("li",{children:" Same protocol followed, perfect outcome"}),Z.jsx("li",{children:" Cost: $200 prevention vs $15,000+ treatment"})]})]})]})]}),Z.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-8 border-2 border-blue-200 shadow-lg",children:[Z.jsxs("div",{className:"flex items-start mb-4",children:[Z.jsx("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl mr-4 flex-shrink-0",children:"3"}),Z.jsxs("div",{children:[Z.jsx("h4",{className:"text-2xl font-bold text-blue-700 mb-2",children:"Mass Casualty Blood Shortage"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"Location: Regional Hospital | Year: 2023"})]})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-6 mb-4",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:"Case Details:"}),Z.jsx("p",{className:"text-gray-700 mb-3",children:"Major traffic accident involving a bus resulted in 18 casualties requiring immediate transfusions. Hospital discovered 40% of patients were Rh-negative, but only 3 Rh-negative units available."}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("span",{className:"font-semibold text-blue-600",children:"Response:"})," Emergency blood drive organized through BloodBridge platform, locating 12 Rh-negative donors within 2 hours."]})]}),Z.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-6",children:[Z.jsx("h6",{className:"font-bold text-gray-800 mb-4",children:"Impact Analysis:"}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[Z.jsxs("div",{className:"bg-white rounded p-3",children:[Z.jsx("p",{className:"font-bold text-blue-600 text-2xl mb-1",children:"18"}),Z.jsx("p",{className:"text-gray-700",children:"Patients Requiring Transfusion"})]}),Z.jsxs("div",{className:"bg-white rounded p-3",children:[Z.jsx("p",{className:"font-bold text-purple-600 text-2xl mb-1",children:"7"}),Z.jsx("p",{className:"text-gray-700",children:"Rh-Negative Patients"})]}),Z.jsxs("div",{className:"bg-white rounded p-3",children:[Z.jsx("p",{className:"font-bold text-green-600 text-2xl mb-1",children:"100%"}),Z.jsx("p",{className:"text-gray-700",children:"Survival Rate Achieved"})]})]}),Z.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4",children:[Z.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Key Success Factors:"}),Z.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[Z.jsx("li",{children:" Digital blood donor database with Rh classification"}),Z.jsx("li",{children:" Rapid SMS/notification system to registered donors"}),Z.jsx("li",{children:" Pre-screened donors ready for emergency donation"}),Z.jsx("li",{children:" Coordinated hospital network for blood sharing"})]})]})]})]}),Z.jsxs("div",{className:"bg-gray-100 rounded-xl p-6 border-l-4 border-gray-600",children:[Z.jsx("h5",{className:"font-bold text-gray-800 mb-3",children:" Research References:"}),Z.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[Z.jsx("li",{children:' American College of Obstetricians and Gynecologists (ACOG). "Prevention of Rh D Alloimmunization." Practice Bulletin No. 181, 2017.'}),Z.jsx("li",{children:' World Health Organization. "Screening, Immunoprophylaxis and Prevention of Haemolytic Disease of the Fetus and Newborn." 2021 Guidelines.'}),Z.jsx("li",{children:' Bangladesh Medical Research Council. "Blood Safety and Transfusion Medicine Report." 2022 Annual Review.'}),Z.jsx("li",{children:' The Lancet. "Global burden of Rh disease and prevention strategies." Vol. 398, Issue 10315, 2021.'})]})]})]})]})]})})},g_=()=>{const e=df(),[t,n]=V.useState(null);V.useEffect(()=>{const e=localStorage.getItem("user");if(e)try{n(JSON.parse(e))}catch(t){console.error("Error parsing user data:",t)}},[]);return Z.jsx("section",{className:"py-20 bg-gray-50",children:Z.jsxs("div",{className:"container mx-auto px-4",children:[Z.jsxs(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[Z.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"The Donation Process"}),Z.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Donating blood is simple and safe. Here's what you can expect during your donation journey."})]}),Z.jsxs("div",{className:"relative",children:[Z.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-red-200 hidden md:block"}),Z.jsx("div",{className:"space-y-12",children:[{number:"01",title:"Registration",description:"Complete a donor registration form with your personal information and medical history.",icon:""},{number:"02",title:"Screening",description:"A quick physical examination including blood pressure, temperature, and hemoglobin check.",icon:""},{number:"03",title:"Donation",description:"The actual donation takes about 8-10 minutes. You'll donate approximately one pint of blood.",icon:""},{number:"04",title:"Recovery",description:"Rest for 10-15 minutes and enjoy refreshments to help your body recover.",icon:""}].map((e,t)=>Z.jsxs(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"relative flex flex-col md:flex-row items-center gap-8 "+(t%2==0?"md:flex-row-reverse":""),children:[Z.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-red-600 rounded-full hidden md:block"}),Z.jsx("div",{className:"w-full md:w-1/2",children:Z.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[Z.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[Z.jsx("span",{className:"text-4xl",children:e.icon}),Z.jsxs("div",{children:[Z.jsx("span",{className:"text-sm font-semibold text-red-600",children:e.number}),Z.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title})]})]}),Z.jsx("p",{className:"text-gray-600",children:e.description})]})})]},t))})]}),Z.jsx(u_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16 text-center",children:Z.jsx("div",{className:"bg-white rounded-xl p-8 shadow-lg max-w-2xl mx-auto",children:t?Z.jsxs(Z.Fragment,{children:[Z.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:"Be The Hero Someone Needs Today"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"Every donation creates a ripple of hope. Share this platform with your friends and family, and together we can build a community of life-savers. Your influence can inspire others to join this noble cause and save countless lives."}),Z.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Z.jsx("button",{onClick:()=>{navigator.share&&navigator.share({title:"BloodBridge - Save Lives Together",text:"Join me in saving lives! Become a blood donor and be someone's hero.",url:window.location.origin})},className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-8 py-3 rounded-full font-semibold hover:from-red-500 hover:to-red-600 transition-all transform hover:scale-105 shadow-lg hover:shadow-red-500/30",children:" Share & Inspire Others"}),Z.jsx("button",{onClick:()=>e("/blood-requests"),className:"border-2 border-red-600 text-red-600 px-8 py-3 rounded-full font-semibold hover:bg-red-50 transition-all",children:" Help Someone in Need"})]})]}):Z.jsxs(Z.Fragment,{children:[Z.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ready to Donate?"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"The entire process takes about an hour, including registration, screening, donation, and recovery. Your donation can save up to three lives!"}),Z.jsx("button",{onClick:()=>e("/register-donor"),className:"bg-red-600 text-white px-8 py-3 rounded-full font-semibold hover:bg-red-700 transition-colors",children:"Register As A Donor"})]})})})]})})},x_=()=>Z.jsxs("div",{children:[Z.jsx(h_,{}),Z.jsx(f_,{}),Z.jsx(p_,{}),Z.jsx(m_,{}),Z.jsx(g_,{})]}),b_=()=>{df();const[e,t]=V.useState(""),[n,r]=V.useState([]),[i,s]=V.useState(!0),[a,o]=V.useState(null);V.useEffect(()=>{(async()=>{try{s(!0);const e=await yg.get("http://localhost:5000/api/public/hospitals");r(e.data),o(null)}catch(e){console.error("Error fetching hospitals:",e),o("Failed to load hospitals. Please try again later.")}finally{s(!1)}})()},[]);const l=V.useMemo(()=>{if(!Array.isArray(n))return[];const t=e.toLowerCase();return n.filter(e=>e.name.toLowerCase().includes(t)||e.address.toLowerCase().includes(t)||e.emergencyHotline&&e.emergencyHotline.toLowerCase().includes(t)||e.emergencyContact&&e.emergencyContact.toLowerCase().includes(t)||e.ambulance&&e.ambulance.toLowerCase().includes(t)||e.contact&&e.contact.toLowerCase().includes(t))},[n,e]);return Z.jsx("div",{className:"min-h-screen bg-gray-50",children:Z.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Z.jsxs("div",{className:"mb-12",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Z.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Dhaka Hospitals"}),Z.jsxs("button",{onClick:()=>alert(" Under Construction\n\nThis feature is currently under development. Please check back later!"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Your Hospital"]})]}),Z.jsx("p",{className:"text-gray-600 max-w-2xl",children:"Find comprehensive information about major hospitals in Dhaka, including emergency contacts, addresses, and more."})]}),Z.jsx("div",{className:"mb-8",children:Z.jsxs("div",{className:"max-w-md mx-auto",children:[Z.jsxs("div",{className:"relative",children:[Z.jsx("input",{type:"text",placeholder:"Search hospitals...",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Z.jsx(lp,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e&&Z.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["Found ",l.length," hospitals matching your search"]})]})}),i?Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),Z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading hospitals..."})]}):a?Z.jsx("div",{className:"text-center py-12 bg-red-50 rounded-lg",children:Z.jsx("p",{className:"text-red-600 text-lg",children:a})}):Z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-col",children:[Z.jsxs("div",{className:"p-6 flex-grow",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:e.name}),Z.jsxs("div",{className:"space-y-3",children:[(e.emergencyHotline||e.emergencyContact)&&Z.jsxs("div",{className:"flex items-start space-x-3",children:[Z.jsx(dp,{className:"text-red-500 mt-1 flex-shrink-0"}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Emergency Contact"}),Z.jsx("p",{className:"text-gray-600",children:e.emergencyHotline||e.emergencyContact})]})]}),e.ambulance&&Z.jsxs("div",{className:"flex items-start space-x-3",children:[Z.jsx(ap,{className:"text-blue-500 mt-1 flex-shrink-0"}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Ambulance"}),Z.jsx("p",{className:"text-gray-600",children:e.ambulance})]})]}),Z.jsxs("div",{className:"flex items-start space-x-3",children:[Z.jsx(cp,{className:"text-green-500 mt-1 flex-shrink-0"}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Address"}),Z.jsx("p",{className:"text-gray-600",children:e.address})]})]}),e.website&&Z.jsxs("div",{className:"flex items-start space-x-3",children:[Z.jsx(op,{className:"text-purple-500 mt-1 flex-shrink-0"}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Website"}),Z.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Visit Website"})]})]})]})]}),Z.jsxs("div",{className:"p-6 pt-0 flex space-x-3",children:[Z.jsx("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300",children:"Get Directions"}),Z.jsx("button",{className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-300",children:"Emergency"})]})]},e._id))}),e&&0===l.length&&Z.jsxs("div",{className:"text-center mt-8",children:[Z.jsxs("p",{className:"text-gray-600 text-lg",children:['No hospitals found matching "',e,'"']}),Z.jsx("button",{onClick:()=>t(""),className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Clear search"})]})]})})},y_=()=>{const[e,t]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),[a,o]=V.useState(!1);df();return Z.jsxs("div",{className:"min-h-screen flex",children:[Z.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-red-600 to-red-800 relative",children:[Z.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),Z.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[Z.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Welcome Back!"}),Z.jsx("p",{className:"text-xl mb-8",children:'"Every drop of blood you donate is a lifeline for someone in need. Your generosity today could save a life tomorrow."'})]})]}),Z.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Welcome Back"}),Z.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[Z.jsx("p",{className:"text-lg text-green-600 font-semibold",children:"Please register as a donor first before logging in"}),Z.jsx("p",{children:"Sign in to continue your journey of saving lives"})]})]}),i&&Z.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:Z.jsxs("div",{className:"flex",children:[Z.jsx("div",{className:"flex-shrink-0",children:Z.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),Z.jsx("div",{className:"ml-3",children:Z.jsx("p",{className:"text-sm text-red-700",children:i})})]})}),Z.jsxs("form",{onSubmit:async t=>{var r,i,a;t.preventDefault(),s(""),o(!0);try{const t=await pN.post("/api/auth/login",{email:e,password:n});localStorage.setItem("token",t.data.token),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(t.data.user)),window.location.href="/"}catch(l){console.error("Login error:",l),400===(null==(r=l.response)?void 0:r.status)?s("Invalid email or password. Please register first if you don't have an account."):s((null==(a=null==(i=l.response)?void 0:i.data)?void 0:a.message)||"An error occurred during login. Please try again.")}finally{o(!1)}},className:"mt-8 space-y-6",children:[Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Z.jsx("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 shadow-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-150 ease-in-out",placeholder:"Enter your email"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Z.jsx("input",{type:"password",id:"password",value:n,onChange:e=>r(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 shadow-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-150 ease-in-out",placeholder:"Enter your password"})]})]}),Z.jsx("div",{children:Z.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition duration-150 ease-in-out "+(a?"opacity-75 cursor-not-allowed":""),children:a?Z.jsxs("span",{className:"flex items-center",children:[Z.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})]})})]})},v_=()=>{df();const[e,t]=V.useState("all"),[n,r]=V.useState([]),[i,s]=V.useState(!0),[a,o]=V.useState(null);return V.useEffect(()=>{(async()=>{try{s(!0);const t="all"===e?"http://localhost:5000/api/public/organizations":`http://localhost:5000/api/public/organizations?category=${e}`,n=await yg.get(t);r(n.data),o(null)}catch(t){console.error("Error fetching organizations:",t),o("Failed to load organizations. Please try again later.")}finally{s(!1)}})()},[e]),Z.jsxs("div",{className:"container mx-auto px-4 py-8",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsx("h1",{className:"text-4xl font-bold text-red-600",children:"Blood Donation Organizations"}),Z.jsxs("button",{onClick:()=>alert(" Under Construction\n\nThis feature is currently under development. Please check back later!"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Your Organization"]})]}),Z.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[{id:"all",name:"All Organizations",icon:""},{id:"national",name:"National",icon:""},{id:"hospital",name:"Hospital",icon:""},{id:"digital",name:"Digital",icon:""}].map(n=>Z.jsxs("button",{onClick:()=>t(n.id),className:"px-6 py-3 rounded-full text-lg font-semibold transition-all duration-300 flex items-center gap-2\n              "+(e===n.id?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[Z.jsx("span",{children:n.icon}),Z.jsx("span",{children:n.name})]},n.id))}),i?Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),Z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organizations..."})]}):a?Z.jsx("div",{className:"text-center py-12 bg-red-50 rounded-lg",children:Z.jsx("p",{className:"text-red-600 text-lg",children:a})}):Z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(n)&&n.map(e=>Z.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-col",children:Z.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[Z.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Z.jsx("span",{className:"text-3xl",children:e.icon}),Z.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e.name})]}),Z.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),e.contact&&Z.jsxs("p",{className:"text-gray-700 mb-2",children:[Z.jsx("span",{className:"font-semibold",children:"Contact:"})," ",e.contact]}),Z.jsx("div",{className:"mt-auto pt-4",children:Z.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full text-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300",children:"Visit Website"})})]})},e._id))})]})},w_=()=>{const e=df(),[t,n]=V.useState("A+"),[r,i]=V.useState("all"),[s,a]=V.useState(""),[o,l]=V.useState(!1),[c,d]=V.useState([]),[u,h]=V.useState([]),[f,p]=V.useState(!0),[m,g]=V.useState(null);V.useEffect(()=>{(async()=>{try{p(!0);const[e,t]=await Promise.all([yg.get("http://localhost:5000/api/public/hospitals"),yg.get("http://localhost:5000/api/public/organizations")]);d(e.data),h(t.data),g(null)}catch(e){console.error("Error fetching data:",e),g("Failed to load data. Please try again later.")}finally{p(!1)}})()},[]);const x=(()=>{let e=[...u.map(e=>({...e,type:"organization"})),...c.map(e=>({...e,type:"hospital"}))];return"organizations"===r?e=e.filter(e=>"organization"===e.type):"hospitals"===r&&(e=e.filter(e=>"hospital"===e.type)),e.filter(e=>e.pricing&&e.bloodInventory)})(),b=e=>{const{bloodPrice:t,processingFee:n,screeningFee:r,serviceCharge:i}=e.pricing;return t+n+r+i},y=[...x].sort((e,t)=>b(e)-b(t)),v=y.map(e=>b(e)),w=Math.min(...v),N=Math.max(...v);return Z.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:Z.jsxs("div",{className:"container mx-auto px-4",children:[Z.jsx("h1",{className:"text-4xl font-bold text-center text-red-600 mb-4",children:"Blood Price Comparison"}),Z.jsx("p",{className:"text-center text-gray-600 mb-8 max-w-2xl mx-auto",children:"Compare blood prices across different hospitals and organizations to find the best option for your needs."}),f?Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),Z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading price comparison..."})]}):m?Z.jsx("div",{className:"text-center py-12 bg-red-50 rounded-lg",children:Z.jsx("p",{className:"text-red-600 text-lg",children:m})}):0===x.length?Z.jsx("div",{className:"text-center py-12 bg-yellow-50 rounded-lg",children:Z.jsx("p",{className:"text-yellow-800 text-lg",children:"No data available for comparison."})}):Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[Z.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Blood Type"}),Z.jsxs("select",{value:s,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"",children:"All Blood Types"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(e=>Z.jsx("option",{value:e,children:e},e))]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter By"}),Z.jsxs("select",{value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All (Organizations & Hospitals)"}),Z.jsx("option",{value:"organizations",children:"Organizations Only"}),Z.jsx("option",{value:"hospitals",children:"Hospitals Only"})]})]}),Z.jsx("div",{className:"flex items-end",children:Z.jsx("button",{onClick:()=>{s?(n(s),l(!0)):l(!1)},className:"w-full px-6 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors",children:"Search"})})]}),o&&s&&Z.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:Z.jsxs("p",{className:"text-sm text-blue-800",children:[Z.jsx("span",{className:"font-semibold",children:"Showing results for:"})," Blood Type ",s]})})]})}),Z.jsxs("div",{className:"max-w-4xl mx-auto mb-8 grid md:grid-cols-3 gap-4",children:[Z.jsxs("div",{className:"bg-green-100 rounded-lg p-4 text-center",children:[Z.jsx("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Lowest Price"}),Z.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",w]})]}),Z.jsxs("div",{className:"bg-blue-100 rounded-lg p-4 text-center",children:[Z.jsx("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Average Price"}),Z.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",Math.round(v.reduce((e,t)=>e+t,0)/v.length)]})]}),Z.jsxs("div",{className:"bg-red-100 rounded-lg p-4 text-center",children:[Z.jsx("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Highest Price"}),Z.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",N]})]})]}),Z.jsx("div",{className:"max-w-full mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:Z.jsx("div",{className:"overflow-x-auto",children:Z.jsxs("table",{className:"w-full text-sm",children:[Z.jsx("thead",{className:"bg-red-600 text-white",children:Z.jsxs("tr",{children:[Z.jsx("th",{className:"px-3 py-3 text-left text-xs",children:"Rank"}),Z.jsx("th",{className:"px-3 py-3 text-left text-xs min-w-[180px]",children:"Name"}),Z.jsx("th",{className:"px-3 py-3 text-left text-xs",children:"Type"}),Z.jsx("th",{className:"px-3 py-3 text-right text-xs",children:"Blood"}),Z.jsx("th",{className:"px-3 py-3 text-right text-xs",children:"Process"}),Z.jsx("th",{className:"px-3 py-3 text-right text-xs",children:"Screen"}),Z.jsx("th",{className:"px-3 py-3 text-right text-xs",children:"Service"}),Z.jsx("th",{className:"px-3 py-3 text-right text-xs",children:"Total"}),Z.jsxs("th",{className:"px-3 py-3 text-center text-xs",children:["Stock (",t,")"]}),Z.jsx("th",{className:"px-3 py-3 text-center text-xs",children:"Action"})]})}),Z.jsx("tbody",{children:y.map((n,r)=>{const i=b(n),a=i===w,l=n.bloodInventory[t]||0;return Z.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors "+(a?"bg-green-50":""),children:[Z.jsxs("td",{className:"px-3 py-3",children:[a&&Z.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-600 text-white text-xs font-semibold rounded",children:"Best"}),!a&&Z.jsxs("span",{className:"text-gray-600 font-semibold text-xs",children:["#",r+1]})]}),Z.jsx("td",{className:"px-3 py-3",children:Z.jsxs("div",{children:[Z.jsx("p",{className:"font-semibold text-gray-800 text-xs",children:n.name}),Z.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[180px]",children:n.address||n.description})]})}),Z.jsx("td",{className:"px-3 py-3",children:Z.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded "+("organization"===n.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"organization"===n.type?"Org":"Hosp"})}),Z.jsxs("td",{className:"px-3 py-3 text-right text-gray-700 text-xs",children:["",n.pricing.bloodPrice]}),Z.jsxs("td",{className:"px-3 py-3 text-right text-gray-700 text-xs",children:["",n.pricing.processingFee]}),Z.jsxs("td",{className:"px-3 py-3 text-right text-gray-700 text-xs",children:["",n.pricing.screeningFee]}),Z.jsxs("td",{className:"px-3 py-3 text-right text-gray-700 text-xs",children:["",n.pricing.serviceCharge]}),Z.jsx("td",{className:"px-3 py-3 text-right",children:Z.jsxs("span",{className:"font-bold text-red-600 text-sm",children:["",i]})}),Z.jsx("td",{className:"px-3 py-3 text-center",children:Z.jsx("span",{className:"inline-flex px-2 py-1 rounded font-semibold text-xs "+(l>10?"bg-green-100 text-green-800":l>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:l})}),Z.jsx("td",{className:"px-3 py-3 text-center",children:Z.jsx("button",{onClick:()=>(n=>{e("/buy-blood",{state:{preSelectedSource:n,preSelectedBloodType:o?s:t}})})(n),disabled:0===l,className:"px-3 py-1.5 rounded-lg font-semibold text-xs transition-colors "+(l>0?"bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:l>0?"Buy":"N/A"})})]},`${n.type}-${n._id||n.id}`)})})]})})}),Z.jsxs("div",{className:"max-w-4xl mx-auto mt-8 bg-blue-50 rounded-lg p-6",children:[Z.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" Important Notes:"}),Z.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[Z.jsx("li",{children:"Prices shown are per unit of blood and include all standard fees"}),Z.jsx("li",{children:"Additional fees may apply for cross-matching or extended storage"}),Z.jsx("li",{children:"Availability is updated regularly but subject to change"}),Z.jsx("li",{children:"Emergency cases may incur additional charges or expedited fees"}),Z.jsx("li",{children:"Contact the organization/hospital directly for the most accurate information"})]})]})]})]})})},N_=()=>{const[e,t]=V.useState(!1),[n,r]=V.useState(""),[i,s]=V.useState(!1),a=df();return Z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white",children:[Z.jsx("div",{className:"container mx-auto px-4 py-8",children:Z.jsxs("div",{className:"bg-white rounded-2xl shadow-xl",children:[Z.jsxs("div",{className:"px-8 pt-8 pb-4",children:[Z.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"Register as a Blood Donor"}),Z.jsx("p",{className:"mt-2 text-sm text-gray-600 text-center",children:"Join our lifesaving mission by becoming a blood donor"}),Z.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:Z.jsx("p",{className:"text-sm text-green-700",children:"After registration, you'll be redirected to the login page to access your account."})})]}),n&&Z.jsx("div",{className:"px-8",children:Z.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:Z.jsxs("div",{className:"flex",children:[Z.jsx("div",{className:"flex-shrink-0",children:Z.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),Z.jsx("div",{className:"ml-3",children:Z.jsx("p",{className:"text-sm text-red-700",children:n})})]})})}),Z.jsx("div",{className:"px-8 pb-8",children:Z.jsxs("form",{className:"space-y-6",onSubmit:async e=>{var n,i,o,l,c,d;e.preventDefault(),r(""),s(!0);const u=new FormData(e.target),h={fullName:u.get("fullName"),email:u.get("email"),phone:u.get("phone"),dateOfBirth:u.get("dateOfBirth"),gender:u.get("gender"),address:u.get("address"),city:u.get("city"),state:u.get("state"),zipCode:u.get("zipCode"),bloodType:u.get("bloodType"),weight:Number(u.get("weight")),lastDonation:u.get("lastDonation")||null,medicalConditions:u.get("medicalConditions"),password:u.get("password")};if(h.weight<45)return r("Weight must be at least 45 kg"),void s(!1);if(!h.password||h.password.length<6)return r("Password must be at least 6 characters long"),void s(!1);try{await pN.post("/api/auth/register",h),t(!0),setTimeout(()=>{a("/login")},2e3)}catch(f){console.error("Registration error:",f),400===(null==(n=f.response)?void 0:n.status)&&(null==(l=null==(o=null==(i=f.response)?void 0:i.data)?void 0:o.message)?void 0:l.includes("already exists"))?r("A user with this email already exists. Please login instead."):r((null==(d=null==(c=f.response)?void 0:c.data)?void 0:d.message)||"Registration failed. Please try again.")}finally{s(!1)}},children:[Z.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[Z.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[Z.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Personal Information"]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),Z.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),Z.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),Z.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),Z.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:6,placeholder:"At least 6 characters",className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),Z.jsx("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender *"}),Z.jsxs("select",{id:"gender",name:"gender",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",children:[Z.jsx("option",{value:"",children:"Select gender"}),Z.jsx("option",{value:"male",children:"Male"}),Z.jsx("option",{value:"female",children:"Female"}),Z.jsx("option",{value:"other",children:"Other"})]})]})]})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[Z.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[Z.jsxs("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Address Information"]}),Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address *"}),Z.jsx("input",{id:"address",name:"address",type:"text",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City *"}),Z.jsx("input",{id:"city",name:"city",type:"text",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State *"}),Z.jsx("input",{id:"state",name:"state",type:"text",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"ZIP Code *"}),Z.jsx("input",{id:"zipCode",name:"zipCode",type:"text",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]})]})]})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[Z.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[Z.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"Medical Information"]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"bloodType",className:"block text-sm font-medium text-gray-700",children:"Blood Type *"}),Z.jsxs("select",{id:"bloodType",name:"bloodType",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",children:[Z.jsx("option",{value:"",children:"Select blood type"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700",children:"Weight (kg) *"}),Z.jsx("input",{id:"weight",name:"weight",type:"number",min:"45",required:!0,className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"lastDonation",className:"block text-sm font-medium text-gray-700",children:"Last Donation Date"}),Z.jsx("input",{id:"lastDonation",name:"lastDonation",type:"date",className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"medicalConditions",className:"block text-sm font-medium text-gray-700",children:"Medical Conditions"}),Z.jsx("textarea",{id:"medicalConditions",name:"medicalConditions",rows:"3",className:"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Please list any medical conditions or medications"})]})]})]}),Z.jsx("div",{children:Z.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out "+(i?"opacity-75 cursor-not-allowed":""),children:i?Z.jsxs("span",{className:"flex items-center",children:[Z.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register as Donor"})})]})})]})}),e&&Z.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:Z.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("svg",{className:"mx-auto h-12 w-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),Z.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Registration Successful!"}),Z.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You have successfully registered as a blood donor. You will be redirected to the login page."})]})})})]})},j_=()=>{const e=df(),[t,n]=V.useState(""),[r,i]=V.useState(""),[s,a]=V.useState(""),[o,l]=V.useState(""),[c,d]=V.useState(""),[u,h]=V.useState(""),[f,p]=V.useState(""),[m,g]=V.useState("normal"),[x,b]=V.useState(""),[y,v]=V.useState(""),[w,N]=V.useState("");return Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white py-12",children:Z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[Z.jsxs("div",{className:"text-center mb-8",children:[Z.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Request Blood"}),Z.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Fill out the form below to request blood"})]}),t&&Z.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4",children:Z.jsxs("div",{className:"flex",children:[Z.jsx("div",{className:"flex-shrink-0",children:Z.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),Z.jsx("div",{className:"ml-3",children:Z.jsx("p",{className:"text-sm text-red-700",children:t})})]})}),r&&Z.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-500 p-4",children:Z.jsxs("div",{className:"flex",children:[Z.jsx("div",{className:"flex-shrink-0",children:Z.jsx("svg",{className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),Z.jsx("div",{className:"ml-3",children:Z.jsx("p",{className:"text-sm text-green-700",children:r})})]})}),Z.jsxs("form",{onSubmit:async t=>{t.preventDefault(),n(""),i("");try{const t=localStorage.getItem("token");if(!t)return n("Please login to submit a blood request"),void e("/login");const r={patientName:s,bloodType:o,units:c,hospital:u,reason:f,urgency:m,contactName:x,contactPhone:y,requiredDate:w},j=Object.entries(r).filter(([,e])=>!e).map(([e])=>e);if(j.length>0)return void n(`Please fill in all required fields: ${j.join(", ")}`);const S=Number(c);if(isNaN(S)||S<1)return void n("Units must be a positive number");if(!["emergency","urgent","normal"].includes(m))return void n("Invalid urgency level");if(!["A+","A-","B+","B-","AB+","AB-","O+","O-"].includes(o))return void n("Invalid blood type");await yg.post("/api/blood-requests",{patientName:s,bloodType:o,units:S,hospital:u,reason:f,urgency:m,contactName:x,contactPhone:y,requiredDate:w},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});i("Blood request submitted successfully!"),a(""),l(""),d(""),h(""),p(""),g("normal"),b(""),v(""),N("")}catch(r){if(console.error("Error submitting blood request:",r),r.response){const e=r.response.data.message||"Error submitting blood request",t=r.response.data.errors;t&&Array.isArray(t)?n(`${e}: ${t.map(e=>e.message).join(", ")}`):n(e)}else r.request?n("No response from server. Please check your internet connection."):n("Error submitting blood request. Please try again.")}},className:"space-y-6",children:[Z.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"patientName",className:"block text-sm font-medium text-gray-700",children:"Patient Name"}),Z.jsx("input",{type:"text",id:"patientName",value:s,onChange:e=>a(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"bloodType",className:"block text-sm font-medium text-gray-700",children:"Blood Type"}),Z.jsxs("select",{id:"bloodType",value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0,children:[Z.jsx("option",{value:"",children:"Select Blood Type"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"units",className:"block text-sm font-medium text-gray-700",children:"Units Required"}),Z.jsx("input",{type:"number",id:"units",value:c,onChange:e=>d(e.target.value),min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"hospital",className:"block text-sm font-medium text-gray-700",children:"Hospital"}),Z.jsx("input",{type:"text",id:"hospital",value:u,onChange:e=>h(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700",children:"Reason"}),Z.jsx("input",{type:"text",id:"reason",value:f,onChange:e=>p(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"urgency",className:"block text-sm font-medium text-gray-700",children:"Urgency"}),Z.jsxs("select",{id:"urgency",value:m,onChange:e=>g(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0,children:[Z.jsx("option",{value:"normal",children:"Normal"}),Z.jsx("option",{value:"urgent",children:"Urgent"}),Z.jsx("option",{value:"emergency",children:"Emergency"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),Z.jsx("input",{type:"text",id:"contactName",value:x,onChange:e=>b(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),Z.jsx("input",{type:"tel",id:"contactPhone",value:y,onChange:e=>v(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"requiredDate",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),Z.jsx("input",{type:"date",id:"requiredDate",value:w,onChange:e=>N(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",required:!0})]})]}),Z.jsx("div",{className:"flex justify-end",children:Z.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Submit Request"})})]})]})})})},S_=()=>{var e,t;const[n,r]=V.useState(null),[i,s]=V.useState([]),[a,o]=V.useState(!0),[l,c]=V.useState(!1),[d,u]=V.useState({fullName:"",email:"",phone:"",bloodType:"",address:""}),[h,f]=V.useState("info"),p=df(),m=lf();V.useEffect(()=>{var e;const t=localStorage.getItem("token");t?((null==(e=m.state)?void 0:e.tab)&&f(m.state.tab),g(t),x(t)):p("/login")},[p,m]);const g=async e=>{var t;try{const t=(await pN.get("/api/auth/profile",{headers:{Authorization:`Bearer ${e}`}})).data.user;r(t),u({fullName:t.fullName||"",email:t.email||"",phone:t.phone||"",bloodType:t.bloodType||"",address:t.address||""}),localStorage.setItem("user",JSON.stringify(t))}catch(n){console.error("Error fetching user profile:",n),401===(null==(t=n.response)?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),p("/login"))}},x=async e=>{var t;try{const n=await pN.get("/api/blood-purchases/my-purchases",{headers:{Authorization:`Bearer ${e}`}}),r=Array.isArray(n.data)?n.data:(null==(t=n.data)?void 0:t.purchases)||[];s(r),o(!1)}catch(n){console.error("Error fetching purchases:",n),s([]),o(!1)}},b=()=>{c(!l)},y=e=>{u({...d,[e.target.name]:e.target.value})},v=e=>({pending:"bg-yellow-100 text-yellow-800",verified:"bg-blue-100 text-blue-800",confirmed:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),w=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a?Z.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{className:"flex items-center space-x-4",children:[Z.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center shadow-lg",children:Z.jsx("span",{className:"text-white text-2xl font-bold",children:(null==(e=null==n?void 0:n.fullName)?void 0:e.charAt(0))||(null==(t=null==n?void 0:n.email)?void 0:t.charAt(0))})}),Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:(null==n?void 0:n.fullName)||"User Profile"}),Z.jsx("p",{className:"text-gray-600",children:null==n?void 0:n.email})]})]}),Z.jsx("button",{onClick:b,className:"px-6 py-2 rounded-lg font-medium transition-colors duration-300 "+(l?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:l?"Cancel":"Edit Profile"})]})}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[Z.jsx("div",{className:"border-b border-gray-200",children:Z.jsxs("nav",{className:"flex -mb-px",children:[Z.jsx("button",{onClick:()=>f("info"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors duration-300 "+("info"===h?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Personal Information"}),Z.jsxs("button",{onClick:()=>f("purchases"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors duration-300 "+("purchases"===h?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Purchase History (",i.length,")"]}),Z.jsx("button",{onClick:()=>f("shipping"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors duration-300 "+("shipping"===h?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Shipping Status"})]})}),Z.jsxs("div",{className:"p-6",children:["info"===h&&Z.jsx("div",{children:l?Z.jsxs("form",{onSubmit:async e=>{var t,n;e.preventDefault();const i=localStorage.getItem("token");try{const e=await pN.patch("/api/auth/profile",d,{headers:{Authorization:`Bearer ${i}`}}),t=e.data.user||e.data;localStorage.setItem("user",JSON.stringify(t)),r(t),c(!1),alert("Profile updated successfully!")}catch(s){console.error("Error updating profile:",s.response||s),alert((null==(n=null==(t=s.response)?void 0:t.data)?void 0:n.message)||"Failed to update profile")}},className:"space-y-4",children:[Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),Z.jsx("input",{type:"text",name:"fullName",value:d.fullName,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),Z.jsx("input",{type:"email",name:"email",value:d.email,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),Z.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type"}),Z.jsxs("select",{name:"bloodType",value:d.bloodType,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Z.jsx("option",{value:"",children:"Select Blood Type"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Z.jsx("textarea",{name:"address",value:d.address,onChange:y,rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),Z.jsxs("div",{className:"flex justify-end space-x-3",children:[Z.jsx("button",{type:"button",onClick:b,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-300",children:"Cancel"}),Z.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300",children:"Save Changes"})]})]}):Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),Z.jsx("p",{className:"text-lg font-medium text-gray-800",children:(null==n?void 0:n.fullName)||"Not provided"})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),Z.jsx("p",{className:"text-lg font-medium text-gray-800",children:null==n?void 0:n.email})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),Z.jsx("p",{className:"text-lg font-medium text-gray-800",children:(null==n?void 0:n.phone)||"Not provided"})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-500",children:"Blood Type"}),Z.jsx("p",{className:"text-lg font-medium text-gray-800",children:(null==n?void 0:n.bloodType)||"Not provided"})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),Z.jsx("p",{className:"text-lg font-medium text-gray-800",children:(null==n?void 0:n.address)||"Not provided"})]})]})}),"purchases"===h&&Z.jsx("div",{className:"space-y-4",children:0===i.length?Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),Z.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No purchases yet"}),Z.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start by purchasing blood from the Buy Blood page."}),Z.jsx("button",{onClick:()=>p("/buy-blood"),className:"mt-4 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300",children:"Buy Blood Now"})]}):i.map(e=>Z.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-300",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"font-semibold text-gray-800",children:e.sourceName}),Z.jsx("p",{className:"text-sm text-gray-600",children:"organization"===e.sourceType?"Organization":"Hospital"}),e.trackingNumber&&Z.jsx("p",{className:"text-xs font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded inline-block mt-1",children:e.trackingNumber})]}),Z.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[Z.jsxs("div",{children:[Z.jsx("span",{className:"text-gray-500",children:"Blood Type:"}),Z.jsx("span",{className:"ml-2 font-medium text-gray-800",children:e.bloodType})]}),Z.jsxs("div",{children:[Z.jsx("span",{className:"text-gray-500",children:"Units:"}),Z.jsx("span",{className:"ml-2 font-medium text-gray-800",children:e.units})]}),Z.jsxs("div",{children:[Z.jsx("span",{className:"text-gray-500",children:"Total Cost:"}),Z.jsxs("span",{className:"ml-2 font-medium text-red-600",children:["",e.pricing.totalCost.toLocaleString()]})]}),Z.jsxs("div",{children:[Z.jsx("span",{className:"text-gray-500",children:"Order Date:"}),Z.jsx("span",{className:"ml-2 font-medium text-gray-800",children:w(e.createdAt)})]}),Z.jsxs("div",{children:[Z.jsx("span",{className:"text-gray-500",children:"Blood Expiry Date:"}),Z.jsx("span",{className:"ml-2 font-medium text-orange-600",children:e.expiryDate?w(e.expiryDate):"N/A"})]})]}),Z.jsxs("div",{className:"border-t pt-3",children:[Z.jsxs("p",{className:"text-sm text-gray-600",children:["Patient: ",Z.jsx("span",{className:"font-medium",children:e.patientName})]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:["Contact: ",Z.jsx("span",{className:"font-medium",children:e.contactPhone})]})]}),["completed","ready"].includes(e.status)&&Z.jsx("div",{className:"border-t mt-3 pt-3",children:Z.jsxs("button",{onClick:()=>hN(e),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Receipt"]})})]},e._id))}),"shipping"===h&&Z.jsx("div",{className:"space-y-4",children:0===i.filter(e=>["verified","confirmed","ready","completed"].includes(e.status)).length?Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),Z.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No active shipments"}),Z.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Shipping information will appear here once your purchases are confirmed."})]}):i.filter(e=>["verified","confirmed","ready","completed"].includes(e.status)).map(e=>Z.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"font-semibold text-gray-800",children:e.sourceName}),Z.jsxs("p",{className:"text-sm text-gray-600",children:["Order Date: ",w(e.createdAt)]}),e.trackingNumber&&Z.jsx("p",{className:"text-xs font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded inline-block mt-1",children:e.trackingNumber})]}),Z.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),Z.jsx("div",{className:"mb-4",children:Z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Z.jsxs("div",{className:"flex-1 text-center "+("verified"===e.status||"confirmed"===e.status||"ready"===e.status||"completed"===e.status?"text-green-600":"text-gray-400"),children:[Z.jsx("div",{className:"w-8 h-8 mx-auto rounded-full bg-current flex items-center justify-center",children:Z.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Z.jsx("p",{className:"text-xs mt-1",children:"Verified"})]}),Z.jsx("div",{className:"flex-1 h-1 bg-gray-200",children:Z.jsx("div",{className:"h-full "+("confirmed"===e.status||"ready"===e.status||"completed"===e.status?"bg-green-600":"bg-gray-200")})}),Z.jsxs("div",{className:"flex-1 text-center "+("confirmed"===e.status||"ready"===e.status||"completed"===e.status?"text-green-600":"text-gray-400"),children:[Z.jsx("div",{className:"w-8 h-8 mx-auto rounded-full bg-current flex items-center justify-center",children:Z.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Z.jsx("p",{className:"text-xs mt-1",children:"Confirmed"})]}),Z.jsx("div",{className:"flex-1 h-1 bg-gray-200",children:Z.jsx("div",{className:"h-full "+("ready"===e.status||"completed"===e.status?"bg-green-600":"bg-gray-200")})}),Z.jsxs("div",{className:"flex-1 text-center "+("ready"===e.status||"completed"===e.status?"text-green-600":"text-gray-400"),children:[Z.jsx("div",{className:"w-8 h-8 mx-auto rounded-full bg-current flex items-center justify-center",children:Z.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Z.jsx("p",{className:"text-xs mt-1",children:"Ready"})]}),Z.jsx("div",{className:"flex-1 h-1 bg-gray-200",children:Z.jsx("div",{className:"h-full "+("completed"===e.status?"bg-green-600":"bg-gray-200")})}),Z.jsxs("div",{className:"flex-1 text-center "+("completed"===e.status?"text-green-600":"text-gray-400"),children:[Z.jsx("div",{className:"w-8 h-8 mx-auto rounded-full bg-current flex items-center justify-center",children:Z.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Z.jsx("p",{className:"text-xs mt-1",children:"Completed"})]})]})}),e.pickupDetails&&Z.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[Z.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Pickup Details"}),Z.jsxs("div",{className:"space-y-1 text-sm",children:[e.pickupDetails.address&&Z.jsxs("p",{className:"text-gray-600",children:[Z.jsx("span",{className:"font-medium",children:"Address:"})," ",e.pickupDetails.address]}),e.pickupDetails.date&&Z.jsxs("p",{className:"text-gray-600",children:[Z.jsx("span",{className:"font-medium",children:"Date:"})," ",w(e.pickupDetails.date)]}),e.pickupDetails.time&&Z.jsxs("p",{className:"text-gray-600",children:[Z.jsx("span",{className:"font-medium",children:"Time:"})," ",e.pickupDetails.time]}),e.pickupDetails.instructions&&Z.jsxs("p",{className:"text-gray-600",children:[Z.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.pickupDetails.instructions]})]})]})]},e._id))})]})]})]})})},k_=()=>{const[e,t]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),[a,o]=V.useState(!1),l=df();V.useEffect(()=>{"true"===localStorage.getItem("isAdminLoggedIn")&&l("/admin/dashboard")},[l]);return Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"flex justify-center mb-4",children:Z.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-600 to-red-700 rounded-full flex items-center justify-center shadow-xl",children:Z.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),Z.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Portal"}),Z.jsx("p",{className:"text-gray-600",children:"BloodBridge Foundation Management System"})]}),Z.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[Z.jsxs("form",{onSubmit:async t=>{var r,i;t.preventDefault(),s(""),o(!0);try{const t=await pN.post("/api/admin/login",{username:e,password:n}),{token:r,admin:i}=t.data,s={id:i.id,username:i.username,name:i.name,role:i.role,organizationId:i.organizationId||null,organizationName:i.organizationName||null,hospitalId:i.hospitalId||null,hospitalName:i.hospitalName||null,permissions:i.permissions,loginTime:(new Date).toISOString(),token:r};localStorage.clear(),localStorage.setItem("adminUser",JSON.stringify(s)),localStorage.setItem("adminToken",r),localStorage.setItem("isAdminLoggedIn","true"),o(!1),setTimeout(()=>{window.location.href="/admin/dashboard"},100)}catch(a){s((null==(i=null==(r=a.response)?void 0:r.data)?void 0:i.message)||"Login failed"),o(!1)}},className:"space-y-6",children:[i&&Z.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:Z.jsxs("div",{className:"flex",children:[Z.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),Z.jsx("p",{className:"text-sm text-red-700",children:i})]})}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),Z.jsx("input",{id:"username",type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:"Enter admin username"})]}),Z.jsxs("div",{children:[Z.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),Z.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:"Enter admin password"})]}),Z.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 rounded-lg font-semibold hover:from-red-700 hover:to-red-800 transform hover:scale-[1.02] transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:a?Z.jsxs("span",{className:"flex items-center justify-center",children:[Z.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[Z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),Z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),Z.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[Z.jsx("p",{className:"text-xs text-gray-500 text-center mb-3",children:"Demo Admin Credentials:"}),Z.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[Z.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-2",children:" Admin Login"}),Z.jsxs("div",{className:"space-y-1 text-xs text-purple-700",children:[Z.jsxs("div",{children:[Z.jsx("span",{className:"font-semibold",children:"Username:"})," superadmin"]}),Z.jsxs("div",{children:[Z.jsx("span",{className:"font-semibold",children:"Password:"})," super@123"]})]})]})]}),Z.jsx("div",{className:"mt-4 text-center",children:Z.jsx("button",{onClick:()=>l("/"),className:"text-sm text-gray-600 hover:text-red-600 transition-colors",children:" Back to Home"})})]})]})})},A_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState(""),[a,o]=V.useState(null),[l,c]=V.useState(""),[d,u]=V.useState(null);V.useEffect(()=>{h()},[]);const h=async()=>{try{const e=await pN.get("/api/admin/organizations/pending");t(e.data),s("")}catch(e){s("Failed to load pending organizations"),console.error(e)}finally{r(!1)}};return n?Z.jsx("div",{className:"flex justify-center items-center h-64",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):i?Z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}):0===e.length?Z.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[Z.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Z.jsx("p",{className:"text-gray-600",children:"No pending organizations"})]}):Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Pending Organizations (",e.length,")"]}),e.map(n=>Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsx("div",{className:"flex justify-between items-start mb-4",children:Z.jsxs("div",{children:[Z.jsx("h4",{className:"text-xl font-bold text-gray-900",children:n.name}),Z.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium mt-2",children:"Pending Review"})]})}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Email:"})," ",n.email]}),Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Phone:"})," ",n.phone]}),Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]})]}),Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Address:"})," ",n.address]}),n.website&&Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Website:"})," ",Z.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.website})]})]})]}),n.description&&Z.jsxs("div",{className:"mb-4",children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Description:"}),Z.jsx("p",{className:"text-sm text-gray-600",children:n.description})]}),Z.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[Z.jsx("button",{onClick:()=>(async n=>{var r,i;o(n);try{await pN.patch(`/api/admin/organizations/${n}/approve`),t(e.filter(e=>e._id!==n)),alert("Organization approved successfully!")}catch(s){alert((null==(i=null==(r=s.response)?void 0:r.data)?void 0:i.message)||"Failed to approve organization")}finally{o(null)}})(n._id),disabled:a===n._id,className:"flex-1 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:a===n._id?"Processing...":"Approve"}),Z.jsx("button",{onClick:()=>u(n._id),disabled:a===n._id,className:"flex-1 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:"Reject"})]})]},n._id)),d&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:Z.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Reject Organization"}),Z.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejection:"}),Z.jsx("textarea",{value:l,onChange:e=>c(e.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent mb-4",placeholder:"Enter rejection reason..."}),Z.jsxs("div",{className:"flex gap-3",children:[Z.jsx("button",{onClick:()=>(async n=>{var r,i;if(l.trim()){o(n);try{await pN.patch(`/api/admin/organizations/${n}/reject`,{reason:l}),t(e.filter(e=>e._id!==n)),u(null),c(""),alert("Organization rejected")}catch(s){alert((null==(i=null==(r=s.response)?void 0:r.data)?void 0:i.message)||"Failed to reject organization")}finally{o(null)}}else alert("Please provide a reason for rejection")})(d),disabled:a===d,className:"flex-1 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:a===d?"Processing...":"Confirm Reject"}),Z.jsx("button",{onClick:()=>{u(null),c("")},className:"flex-1 border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})},P_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState(""),[a,o]=V.useState(null),[l,c]=V.useState(""),[d,u]=V.useState(null);V.useEffect(()=>{h()},[]);const h=async()=>{try{const e=await pN.get("/api/admin/hospitals/pending");t(e.data),s("")}catch(e){s("Failed to load pending hospitals"),console.error(e)}finally{r(!1)}};return n?Z.jsx("div",{className:"flex justify-center items-center h-64",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):i?Z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}):0===e.length?Z.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[Z.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Z.jsx("p",{className:"text-gray-600",children:"No pending hospitals"})]}):Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Pending Hospitals (",e.length,")"]}),e.map(n=>Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsx("div",{className:"flex justify-between items-start mb-4",children:Z.jsxs("div",{children:[Z.jsx("h4",{className:"text-xl font-bold text-gray-900",children:n.name}),Z.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium mt-2",children:"Pending Review"})]})}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Email:"})," ",n.email]}),Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Phone:"})," ",n.phone]}),n.emergencyHotline&&Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Emergency:"})," ",n.emergencyHotline]}),n.ambulance&&Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Ambulance:"})," ",n.ambulance]}),Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]})]}),Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Address:"})," ",n.address]}),n.website&&Z.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Z.jsx("span",{className:"font-semibold",children:"Website:"})," ",Z.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.website})]})]})]}),n.description&&Z.jsxs("div",{className:"mb-4",children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Description:"}),Z.jsx("p",{className:"text-sm text-gray-600",children:n.description})]}),Z.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[Z.jsx("button",{onClick:()=>(async n=>{var r,i;o(n);try{await pN.patch(`/api/admin/hospitals/${n}/approve`),t(e.filter(e=>e._id!==n)),alert("Hospital approved successfully!")}catch(s){alert((null==(i=null==(r=s.response)?void 0:r.data)?void 0:i.message)||"Failed to approve hospital")}finally{o(null)}})(n._id),disabled:a===n._id,className:"flex-1 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:a===n._id?"Processing...":"Approve"}),Z.jsx("button",{onClick:()=>u(n._id),disabled:a===n._id,className:"flex-1 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:"Reject"})]})]},n._id)),d&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:Z.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Reject Hospital"}),Z.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejection:"}),Z.jsx("textarea",{value:l,onChange:e=>c(e.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent mb-4",placeholder:"Enter rejection reason..."}),Z.jsxs("div",{className:"flex gap-3",children:[Z.jsx("button",{onClick:()=>(async n=>{var r,i;if(l.trim()){o(n);try{await pN.patch(`/api/admin/hospitals/${n}/reject`,{reason:l}),t(e.filter(e=>e._id!==n)),u(null),c(""),alert("Hospital rejected")}catch(s){alert((null==(i=null==(r=s.response)?void 0:r.data)?void 0:i.message)||"Failed to reject hospital")}finally{o(null)}}else alert("Please provide a reason for rejection")})(d),disabled:a===d,className:"flex-1 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:a===d?"Processing...":"Confirm Reject"}),Z.jsx("button",{onClick:()=>{u(null),c("")},className:"flex-1 border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})},L_=()=>{const e=df(),[t,n]=V.useState(null),[r,i]=V.useState([]),[s,a]=V.useState(""),[o,l]=V.useState({}),[c,d]=V.useState("overview"),[u,h]=V.useState(!0);V.useEffect(()=>{const t=localStorage.getItem("isAdminLoggedIn"),r=localStorage.getItem("adminUser");if(!t||"true"!==t||!r)return console.log("Admin not logged in, redirecting..."),void e("/admin");try{const e=JSON.parse(r);n(e);const t=localStorage.getItem(`adminTodos_${e.username}`);if(t)i(JSON.parse(t));else{const t=f(e.role);i(t),localStorage.setItem(`adminTodos_${e.username}`,JSON.stringify(t))}p(e.token)}catch(s){console.error("Error parsing admin user data:",s),e("/admin")}},[e]);const f=e=>[{id:1,text:"Review pending blood purchase requests",completed:!1,priority:"high",category:"Purchases"},{id:2,text:"Check and update blood inventory levels",completed:!1,priority:"high",category:"Inventory"},{id:3,text:"Review new blood donation requests",completed:!1,priority:"medium",category:"Requests"},{id:4,text:"Analyze platform analytics and trends",completed:!1,priority:"medium",category:"Analytics"},{id:5,text:"Update blood pricing if needed",completed:!1,priority:"low",category:"Pricing"}],p=async e=>{try{const t=await pN.get("/api/admin/dashboard/stats",{headers:{Authorization:`Bearer ${e}`}});l(t.data),h(!1)}catch(t){console.error("Failed to load stats:",t),h(!1)}},m=()=>{if(!s.trim())return;const e={id:Date.now(),text:s,completed:!1,priority:"medium",category:"General",createdAt:(new Date).toISOString()},n=[...r,e];i(n),localStorage.setItem(`adminTodos_${t.username}`,JSON.stringify(n)),a("")},g=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border-red-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};if(!t)return Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})});const x=(t.role,[{title:"Manage Users",icon:"",link:"/admin/users",color:"from-indigo-500 to-indigo-600"},{title:"Manage Blood Requests",icon:"",link:"/admin/blood-requests",color:"from-blue-500 to-blue-600"},{title:"Manage Purchases",icon:"",link:"/admin/purchases",color:"from-red-500 to-red-600"},{title:"View All Donors",icon:"",link:"/admin/donors",color:"from-green-500 to-green-600"},{title:"Manage Hospitals",icon:"",link:"/admin/hospitals",color:"from-cyan-500 to-cyan-600"},{title:"Manage Organizations",icon:"",link:"/admin/organizations",color:"from-teal-500 to-teal-600"},{title:"Manage Inventory",icon:"",link:"/admin/inventory",color:"from-purple-500 to-purple-600"},{title:"Update Pricing",icon:"",link:"/admin/pricing",color:"from-orange-500 to-orange-600"},{title:"View Analytics",icon:"",link:"/admin/analytics",color:"from-pink-500 to-pink-600"}]);return Z.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:Z.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[Z.jsxs("div",{children:[Z.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),Z.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border bg-purple-100 text-purple-800 border-purple-300",children:"Administrator"})]}),Z.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",Z.jsx("span",{className:"font-semibold",children:t.name||t.username})]})]}),Z.jsxs("button",{onClick:()=>{localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"),localStorage.removeItem("adminToken"),e("/admin")},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})}),Z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:u?Z.jsx("div",{className:"col-span-full text-center py-8",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"})}):Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Users"}),Z.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o.totalUsers||0}),Z.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+",o.recentUsers||0," this month"]})]}),Z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Donors"}),Z.jsx("p",{className:"text-3xl font-bold text-red-600",children:o.totalDonors||0}),Z.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered donors"})]}),Z.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Blood Requests"}),Z.jsx("p",{className:"text-3xl font-bold text-purple-600",children:o.totalBloodRequests||0}),Z.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:[o.pendingBloodRequests||0," pending"]})]}),Z.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Purchases"}),Z.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:o.totalPurchases||0}),Z.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[o.pendingPurchases||0," pending"]})]}),Z.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed Orders"}),Z.jsx("p",{className:"text-3xl font-bold text-green-600",children:o.completedPurchases||0}),Z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.inProgressPurchases||0," in progress"]})]}),Z.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.totalRevenue||"0"}),Z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.monthlyRevenue||"0"," this month"]})]}),Z.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})})]})}),Z.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Z.jsxs("div",{className:"lg:col-span-2",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),Z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map((t,n)=>Z.jsxs("button",{onClick:()=>e(t.link),className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 text-left group",children:[Z.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${t.color} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:Z.jsx("span",{className:"text-2xl",children:t.icon})}),Z.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.title})]},n))})]}),Z.jsx("div",{className:"lg:col-span-1",children:Z.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"To-Do List"}),Z.jsx("div",{className:"mb-6",children:Z.jsxs("div",{className:"flex gap-2",children:[Z.jsx("input",{type:"text",value:s,onChange:e=>a(e.target.value),onKeyPress:e=>"Enter"===e.key&&m(),placeholder:"Add a new task...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),Z.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Add"})]})}),Z.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===r.length?Z.jsx("p",{className:"text-center text-gray-500 py-8",children:"No tasks yet"}):r.map(e=>Z.jsx("div",{className:"border rounded-lg p-3 "+(e.completed?"bg-gray-50 opacity-60":"bg-white"),children:Z.jsxs("div",{className:"flex items-start gap-3",children:[Z.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>(e=>{const n=r.map(t=>t.id===e?{...t,completed:!t.completed}:t);i(n),localStorage.setItem(`adminTodos_${t.username}`,JSON.stringify(n))})(e.id),className:"mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500"}),Z.jsxs("div",{className:"flex-1",children:[Z.jsx("p",{className:"text-sm "+(e.completed?"line-through text-gray-500":"text-gray-900"),children:e.text}),Z.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Z.jsxs("select",{value:e.priority,onChange:n=>((e,n)=>{const s=r.map(t=>t.id===e?{...t,priority:n}:t);i(s),localStorage.setItem(`adminTodos_${t.username}`,JSON.stringify(s))})(e.id,n.target.value),className:`text-xs px-2 py-1 rounded border ${g(e.priority)}`,children:[Z.jsx("option",{value:"high",children:"High"}),Z.jsx("option",{value:"medium",children:"Medium"}),Z.jsx("option",{value:"low",children:"Low"})]}),Z.jsx("span",{className:"text-xs text-gray-500",children:e.category})]})]}),Z.jsx("button",{onClick:()=>(e=>{const n=r.filter(t=>t.id!==e);i(n),localStorage.setItem(`adminTodos_${t.username}`,JSON.stringify(n))})(e.id),className:"text-red-600 hover:text-red-700",children:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},e.id))}),Z.jsx("div",{className:"mt-6 pt-4 border-t",children:Z.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[Z.jsxs("span",{children:["Completed: ",r.filter(e=>e.completed).length]}),Z.jsxs("span",{children:["Pending: ",r.filter(e=>!e.completed).length]})]})})]})})]}),Z.jsx("div",{className:"mt-8",children:Z.jsx(A_,{})}),Z.jsx("div",{className:"mt-8",children:Z.jsx(P_,{})})]})})},C_=()=>{const e=df(),[t,n]=V.useState(null),[r,i]=V.useState({totalDonors:0,pendingRequests:0,bloodUnitsAvailable:0,recentPurchases:0}),[s,a]=V.useState({newRequests:0,newDonors:0,newPurchases:0,newUsers:0});V.useEffect(()=>{const t=localStorage.getItem("isAdminLoggedIn"),r=localStorage.getItem("adminUser");t&&r?(n(JSON.parse(r)),o(),i({totalDonors:1247,pendingRequests:23,bloodUnitsAvailable:456,recentPurchases:89})):e("/admin")},[e]);const o=async()=>{var e,t,n;try{const r=localStorage.getItem("adminToken"),[i,s,o]=await Promise.all([pN.get("/api/admin/blood-requests?status=pending",{headers:{Authorization:`Bearer ${r}`}}),pN.get("/api/admin/donors?page=1&limit=100",{headers:{Authorization:`Bearer ${r}`}}),pN.get("/api/admin/blood-purchases?status=pending",{headers:{Authorization:`Bearer ${r}`}})]),l=localStorage.getItem("adminLastLogin")||(new Date).toISOString(),c=new Date(l),d=(null==(e=i.data.requests)?void 0:e.filter(e=>new Date(e.createdAt)>c).length)||0,u=(null==(t=s.data.donors)?void 0:t.filter(e=>!e.isDemoUser&&new Date(e.createdAt)>c).length)||0,h=(null==(n=o.data.purchases)?void 0:n.filter(e=>new Date(e.createdAt)>c).length)||0;a({newRequests:d,newDonors:u,newPurchases:h,newUsers:u}),localStorage.setItem("adminLastLogin",(new Date).toISOString())}catch(r){console.error("Error fetching notifications:",r)}},l=[{title:"Manage Blood Requests",description:"Review and approve pending blood requests from patients",icon:"",link:"/blood-requests",color:"from-blue-500 to-blue-600",hasNew:s.newRequests>0,newCount:s.newRequests},{title:"Manage Donors",description:"View and manage registered blood donors",icon:"",link:"/admin/donors",color:"from-green-500 to-green-600",hasNew:s.newDonors>0,newCount:s.newDonors},{title:"Blood Inventory",description:"Monitor and update blood stock levels",icon:"",link:"/admin/inventory",color:"from-red-500 to-red-600",hasNew:!1},{title:"Purchase Management",description:"Track and manage blood purchases",icon:"",link:"/admin/purchases",color:"from-purple-500 to-purple-600",hasNew:s.newPurchases>0,newCount:s.newPurchases},{title:"Hospitals",description:"Manage hospital accounts and details",icon:"",link:"/admin/hospitals",color:"from-teal-500 to-teal-600",hasNew:!1},{title:"Organizations",description:"Manage blood donation organizations",icon:"",link:"/admin/organizations",color:"from-cyan-500 to-cyan-600",hasNew:!1},{title:"Analytics & Reports",description:"View statistics and generate reports",icon:"",link:"/admin/analytics",color:"from-indigo-500 to-indigo-600",hasNew:!1},{title:"Price Management",description:"Update blood pricing and fees",icon:"",link:"/admin/pricing",color:"from-orange-500 to-orange-600",hasNew:!1}];return t?Z.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),Z.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",Z.jsx("span",{className:"font-semibold",children:t.name})]})]}),Z.jsx("button",{onClick:()=>{localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"),localStorage.removeItem("adminToken"),localStorage.removeItem("adminLastLogin"),e("/admin")},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Logout"})]})}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Donors"}),Z.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalDonors})]}),Z.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Requests"}),Z.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:r.pendingRequests})]}),Z.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Blood Units Available"}),Z.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.bloodUnitsAvailable})]}),Z.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})}),Z.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recent Purchases"}),Z.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.recentPurchases})]}),Z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:Z.jsx("span",{className:"text-2xl",children:""})})]})})]}),Z.jsxs("div",{children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Admin Dashboard"}),Z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((t,n)=>Z.jsxs("button",{onClick:()=>e(t.link),className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 text-left group relative",children:[t.hasNew&&Z.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:[Z.jsxs("span",{className:"relative flex h-3 w-3",children:[Z.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),Z.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),t.newCount>0&&Z.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:t.newCount})]}),Z.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${t.color} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:Z.jsx("span",{className:"text-2xl",children:t.icon})}),Z.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.title}),Z.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},n))})]})]})}):Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})},__=()=>{const[e,t]=V.useState(null),[n,r]=V.useState(!0),[i,s]=V.useState(""),a=df();V.useEffect(()=>{"admin"===JSON.parse(localStorage.getItem("user")||"{}").role?o():a("/")},[a]);const o=async()=>{var e,n,i,o;try{const e=localStorage.getItem("token"),n=await pN.get("/admin/dashboard/stats",{headers:{Authorization:`Bearer ${e}`}});t(n.data),r(!1)}catch(l){console.error("Error fetching stats:",l),s((null==(n=null==(e=l.response)?void 0:e.data)?void 0:n.message)||"Failed to load dashboard"),r(!1),401!==(null==(i=l.response)?void 0:i.status)&&403!==(null==(o=l.response)?void 0:o.status)||a("/")}};return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):i?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:i})}):Z.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"mb-8",children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"Manage blood purchases, inventory, and pricing"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Purchases"}),Z.jsx("p",{className:"text-3xl font-bold text-gray-800",children:(null==e?void 0:e.totalPurchases)||0})]}),Z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:Z.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Approvals"}),Z.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(null==e?void 0:e.pendingApprovals)||0})]}),Z.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:Z.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Progress"}),Z.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(null==e?void 0:e.inProgressPurchases)||0})]}),Z.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:Z.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),Z.jsx("p",{className:"text-3xl font-bold text-green-600",children:(null==e?void 0:e.completedPurchases)||0})]}),Z.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:Z.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),Z.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",((null==e?void 0:e.totalRevenue)||0).toLocaleString()]})]}),Z.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:Z.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recent (30 days)"}),Z.jsx("p",{className:"text-3xl font-bold text-gray-800",children:(null==e?void 0:e.recentPurchases)||0})]}),Z.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:Z.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]})})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Z.jsxs("button",{onClick:()=>a("/admin/purchases"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300 text-left",children:[Z.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:Z.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Manage Purchases"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"Approve, reject, and update purchase status"})]}),Z.jsxs("button",{onClick:()=>a("/admin/inventory"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300 text-left",children:[Z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:Z.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Inventory"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"Manage blood stock and availability"})]}),Z.jsxs("button",{onClick:()=>a("/admin/pricing"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300 text-left",children:[Z.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:Z.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pricing"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"Update prices and fees"})]}),Z.jsxs("button",{onClick:()=>a("/admin/analytics"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300 text-left",children:[Z.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Z.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Analytics"}),Z.jsx("p",{className:"text-sm text-gray-600",children:"View reports and analytics"})]})]})]})})},E_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState({status:"all",sourceType:"all",bloodType:"all"}),[a,o]=V.useState(null),[l,c]=V.useState(!1),[d,u]=V.useState({status:"",adminNotes:"",pickupAddress:"",pickupDate:"",pickupTime:"",pickupInstructions:""}),h=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?f():h("/admin")},[h,i]);const f=async()=>{try{const e=localStorage.getItem("adminToken"),n=new URLSearchParams;"all"!==i.status&&n.append("status",i.status),"all"!==i.sourceType&&n.append("sourceType",i.sourceType),"all"!==i.bloodType&&n.append("bloodType",i.bloodType);const s=await pN.get(`/api/admin/purchases?${n.toString()}`,{headers:{Authorization:`Bearer ${e}`}});t(s.data.purchases),r(!1)}catch(e){console.error("Error fetching purchases:",e),r(!1)}},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Manage Purchases"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage all blood purchase requests"})]}),Z.jsx("button",{onClick:()=>h("/admin"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),Z.jsxs("select",{value:i.status,onChange:e=>s({...i,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Status"}),Z.jsx("option",{value:"pending",children:"Pending"}),Z.jsx("option",{value:"verified",children:"Verified"}),Z.jsx("option",{value:"confirmed",children:"Confirmed"}),Z.jsx("option",{value:"ready",children:"Ready"}),Z.jsx("option",{value:"completed",children:"Completed"}),Z.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Type"}),Z.jsxs("select",{value:i.sourceType,onChange:e=>s({...i,sourceType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Sources"}),Z.jsx("option",{value:"organization",children:"Organization"}),Z.jsx("option",{value:"hospital",children:"Hospital"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Type"}),Z.jsxs("select",{value:i.bloodType,onChange:e=>s({...i,bloodType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Blood Types"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]})]})}),Z.jsx("div",{className:"space-y-4",children:0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No purchases found with the selected filters."})}):e.map(e=>{var t,n,r;return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.sourceName}),Z.jsx("p",{className:"text-sm text-gray-600",children:"organization"===e.sourceType?"Organization":"Hospital"}),e.trackingNumber&&Z.jsx("p",{className:"text-xs font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded inline-block mt-1",children:e.trackingNumber})]}),Z.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r=e.status,{pending:"bg-yellow-100 text-yellow-800",verified:"bg-blue-100 text-blue-800",confirmed:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"}[r]||"bg-gray-100 text-gray-800"}`,children:e.status.toUpperCase()})]}),Z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Blood Type"}),Z.jsx("p",{className:"font-semibold text-red-600",children:e.bloodType})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Units"}),Z.jsx("p",{className:"font-semibold",children:e.units})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"}),Z.jsxs("p",{className:"font-semibold text-green-600",children:["",e.pricing.totalCost.toLocaleString()]})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Urgency"}),Z.jsx("p",{className:"font-semibold",children:e.urgency.toUpperCase()})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Expiry Date"}),Z.jsx("p",{className:"font-semibold text-orange-600",children:e.expiryDate?p(e.expiryDate):"N/A"})]})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 text-sm",children:[Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-gray-600",children:["Patient: ",Z.jsx("span",{className:"font-medium",children:e.patientName})]}),Z.jsxs("p",{className:"text-gray-600",children:["Contact: ",Z.jsx("span",{className:"font-medium",children:e.contactPhone})]})]}),Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-gray-600",children:["User: ",Z.jsx("span",{className:"font-medium",children:(null==(t=e.purchasedBy)?void 0:t.fullName)||"N/A"})]}),Z.jsxs("p",{className:"text-gray-600",children:["Email: ",Z.jsx("span",{className:"font-medium",children:(null==(n=e.purchasedBy)?void 0:n.email)||"N/A"})]})]})]}),Z.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[Z.jsxs("p",{className:"text-sm text-gray-600",children:["Required: ",p(e.requiredDate)," | Submitted: ",p(e.createdAt)]}),Z.jsx("button",{onClick:()=>(e=>{var t,n,r,i;o(e),u({status:e.status,adminNotes:e.adminNotes||"",pickupAddress:(null==(t=e.pickupDetails)?void 0:t.address)||"",pickupDate:(null==(n=e.pickupDetails)?void 0:n.date)||"",pickupTime:(null==(r=e.pickupDetails)?void 0:r.time)||"",pickupInstructions:(null==(i=e.pickupDetails)?void 0:i.instructions)||""}),c(!0)})(e),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Update Status"})]})]},e._id)})})]}),l&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Update Purchase Status"}),Z.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("adminToken");await pN.patch(`/api/admin/purchases/${a._id}/status`,{status:d.status,adminNotes:d.adminNotes,pickupDetails:{address:d.pickupAddress,date:d.pickupDate,time:d.pickupTime,instructions:d.pickupInstructions}},{headers:{Authorization:`Bearer ${e}`}}),c(!1),f(),alert("Purchase updated successfully!")}catch(t){console.error("Error updating purchase:",t),alert("Failed to update purchase")}},className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),Z.jsxs("select",{value:d.status,onChange:e=>u({...d,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",required:!0,children:[Z.jsx("option",{value:"pending",children:"Pending"}),Z.jsx("option",{value:"verified",children:"Verified"}),Z.jsx("option",{value:"confirmed",children:"Confirmed"}),Z.jsx("option",{value:"ready",children:"Ready"}),Z.jsx("option",{value:"completed",children:"Completed"}),Z.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes"}),Z.jsx("textarea",{value:d.adminNotes,onChange:e=>u({...d,adminNotes:e.target.value}),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Add notes for the user..."})]}),Z.jsxs("div",{className:"border-t pt-4",children:[Z.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Pickup Details"}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Date"}),Z.jsx("input",{type:"date",value:d.pickupDate,onChange:e=>u({...d,pickupDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Time"}),Z.jsx("input",{type:"time",value:d.pickupTime,onChange:e=>u({...d,pickupTime:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),Z.jsxs("div",{className:"mt-4",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Address"}),Z.jsx("input",{type:"text",value:d.pickupAddress,onChange:e=>u({...d,pickupAddress:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Enter pickup address..."})]}),Z.jsxs("div",{className:"mt-4",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),Z.jsx("textarea",{value:d.pickupInstructions,onChange:e=>u({...d,pickupInstructions:e.target.value}),rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Any special instructions..."})]})]}),Z.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[Z.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Update Purchase"})]})]})]})})]})},T_=()=>{var e,t,n,r;const[i,s]=V.useState(null),[a,o]=V.useState(!0),l=df();V.useEffect(()=>{"admin"===JSON.parse(localStorage.getItem("user")||"{}").role?c():l("/")},[l]);const c=async()=>{try{const e=localStorage.getItem("token"),t=await pN.get("/admin/analytics",{headers:{Authorization:`Bearer ${e}`}});s(t.data),o(!1)}catch(e){console.error("Error fetching analytics:",e),o(!1)}};return a?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Analytics & Reports"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"View insights and performance metrics"})]}),Z.jsx("button",{onClick:()=>l("/admin"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Blood Type Popularity"}),Z.jsx("div",{className:"overflow-x-auto",children:Z.jsxs("table",{className:"min-w-full",children:[Z.jsx("thead",{children:Z.jsxs("tr",{className:"border-b",children:[Z.jsx("th",{className:"text-left py-3 px-4",children:"Blood Type"}),Z.jsx("th",{className:"text-right py-3 px-4",children:"Total Orders"}),Z.jsx("th",{className:"text-right py-3 px-4",children:"Total Units"}),Z.jsx("th",{className:"text-right py-3 px-4",children:"Revenue"})]})}),Z.jsx("tbody",{children:null==(e=null==i?void 0:i.bloodTypeStats)?void 0:e.map(e=>Z.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[Z.jsx("td",{className:"py-3 px-4 font-semibold text-red-600",children:e._id}),Z.jsx("td",{className:"text-right py-3 px-4",children:e.count}),Z.jsx("td",{className:"text-right py-3 px-4",children:e.totalUnits}),Z.jsxs("td",{className:"text-right py-3 px-4 text-green-600",children:["",e.totalRevenue.toLocaleString()]})]},e._id))})]})})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Monthly Revenue (Last 12 Months)"}),Z.jsx("div",{className:"overflow-x-auto",children:Z.jsxs("table",{className:"min-w-full",children:[Z.jsx("thead",{children:Z.jsxs("tr",{className:"border-b",children:[Z.jsx("th",{className:"text-left py-3 px-4",children:"Month/Year"}),Z.jsx("th",{className:"text-right py-3 px-4",children:"Orders"}),Z.jsx("th",{className:"text-right py-3 px-4",children:"Revenue"})]})}),Z.jsx("tbody",{children:null==(t=null==i?void 0:i.monthlyRevenue)?void 0:t.map((e,t)=>{const n=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e._id.month-1]} ${e._id.year}`;return Z.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[Z.jsx("td",{className:"py-3 px-4 font-medium",children:n}),Z.jsx("td",{className:"text-right py-3 px-4",children:e.count}),Z.jsxs("td",{className:"text-right py-3 px-4 text-green-600",children:["",e.revenue.toLocaleString()]})]},t)})})]})})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Source Type Performance"}),Z.jsx("div",{className:"space-y-4",children:null==(n=null==i?void 0:i.sourceTypeStats)?void 0:n.map(e=>Z.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"font-semibold text-gray-800 capitalize",children:e._id}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[e.count," orders"]})]}),Z.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",e.revenue.toLocaleString()]})]},e._id))})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Urgency Distribution"}),Z.jsx("div",{className:"space-y-4",children:null==(r=null==i?void 0:i.urgencyStats)?void 0:r.map(e=>Z.jsx("div",{className:`p-4 rounded-lg ${{emergency:"bg-red-100 text-red-800",urgent:"bg-orange-100 text-orange-800",normal:"bg-green-100 text-green-800"}[e._id]||"bg-gray-100"}`,children:Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("p",{className:"font-semibold capitalize",children:e._id}),Z.jsx("p",{className:"text-2xl font-bold",children:e.count})]})},e._id))})]})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Export Data"}),Z.jsx("p",{className:"text-gray-600 mb-4",children:"Download reports for further analysis"}),Z.jsxs("div",{className:"flex flex-wrap gap-4",children:[Z.jsxs("button",{className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to CSV"]}),Z.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to Excel"]}),Z.jsxs("button",{className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Generate PDF Report"]})]})]})]})})},B_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState("all"),[i,s]=V.useState(null),[a,o]=V.useState(!1),[l,c]=V.useState({}),[d,u]=V.useState(!0),h=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?f():h("/admin")},[h,n]);const f=async()=>{try{u(!0);const e=localStorage.getItem("adminToken");let r=[];if("all"===n||"organization"===n){const t=(await pN.get("/api/admin/organizations",{headers:{Authorization:`Bearer ${e}`}})).data.organizations.map(e=>({...e,sourceType:"organization"}));r=[...r,...t]}if("all"===n||"hospital"===n){const t=(await pN.get("/api/admin/hospitals",{headers:{Authorization:`Bearer ${e}`}})).data.hospitals.map(e=>({...e,sourceType:"hospital"}));r=[...r,...t]}t(r),u(!1)}catch(e){console.error("Error loading inventory:",e),u(!1)}};return Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Inventory Management"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"Manage blood stock across all sources"})]}),Z.jsx("button",{onClick:()=>h("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsxs("div",{className:"flex space-x-2 mb-6",children:[Z.jsx("button",{onClick:()=>r("all"),className:"px-6 py-2 rounded-lg font-medium transition "+("all"===n?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:"All Sources"}),Z.jsx("button",{onClick:()=>r("organization"),className:"px-6 py-2 rounded-lg font-medium transition "+("organization"===n?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:"Organizations"}),Z.jsx("button",{onClick:()=>r("hospital"),className:"px-6 py-2 rounded-lg font-medium transition "+("hospital"===n?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:"Hospitals"})]}),d?Z.jsx("div",{className:"flex justify-center items-center py-12",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No inventory found. Please add hospitals or organizations first."})}):Z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((e,t)=>{const n=(r=e.bloodInventory)?Object.values(r).reduce((e,t)=>e+t,0):0;var r;const i=(e=>e?Object.values(e).filter(e=>e<10).length:0)(e.bloodInventory);return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),Z.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.sourceType})]}),Z.jsx("button",{onClick:()=>(e=>{s(e),c(e.bloodInventory||{}),o(!0)})(e),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition text-sm",children:"Update Stock"})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[Z.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Units"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n})]}),Z.jsxs("div",{className:"rounded-lg p-3 "+(i>0?"bg-yellow-50":"bg-green-50"),children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Items"}),Z.jsx("p",{className:"text-2xl font-bold "+(i>0?"text-yellow-600":"text-green-600"),children:i})]})]}),Z.jsx("div",{className:"space-y-2",children:Object.entries(e.bloodInventory||{}).map(([e,t])=>{const n=(e=>0===e?{label:"Out of Stock",color:"bg-red-100 text-red-800"}:e<10?{label:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:e<30?{label:"Medium",color:"bg-blue-100 text-blue-800"}:{label:"In Stock",color:"bg-green-100 text-green-800"})(t);return Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"font-semibold text-gray-700",children:e}),Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsxs("span",{className:"text-gray-800 font-medium",children:[t," units"]}),Z.jsx("span",{className:`px-2 py-1 rounded text-xs ${n.color}`,children:n.label})]})]},e)})})]},t)})})]}),a&&i&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[Z.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Update Inventory - ",i.name]}),Z.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(e=>Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e}),Z.jsx("input",{type:"number",min:"0",value:l[e]||0,onChange:t=>((e,t)=>{c({...l,[e]:parseInt(t)||0})})(e,t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]},e))}),Z.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:Z.jsxs("p",{className:"text-sm text-blue-800",children:[Z.jsx("strong",{children:"Note:"})," In production, this would update the database. Currently, this is a demonstration of the inventory management interface."]})}),Z.jsxs("div",{className:"flex justify-end space-x-3",children:[Z.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{onClick:async()=>{try{const e=localStorage.getItem("adminToken"),t="hospital"===i.sourceType?`/api/admin/hospitals/${i._id}/inventory`:`/api/admin/organizations/${i._id}/inventory`;await pN.patch(t,{bloodInventory:l},{headers:{Authorization:`Bearer ${e}`}}),alert(`Inventory updated successfully for ${i.name}!`),o(!1),f()}catch(e){console.error("Error updating inventory:",e),alert("Failed to update inventory. Please try again.")}},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Save Changes"})]})]})})]})},R_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState("all"),[i,s]=V.useState(null),[a,o]=V.useState(!1),[l,c]=V.useState({}),[d,u]=V.useState(!0),h=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?f():h("/admin")},[h,n]);const f=async()=>{try{u(!0);const e=localStorage.getItem("adminToken");let r=[];if("all"===n||"organization"===n){const t=(await pN.get("/api/admin/organizations",{headers:{Authorization:`Bearer ${e}`}})).data.organizations.map(e=>({...e,sourceType:"organization"}));r=[...r,...t]}if("all"===n||"hospital"===n){const t=(await pN.get("/api/admin/hospitals",{headers:{Authorization:`Bearer ${e}`}})).data.hospitals.map(e=>({...e,sourceType:"hospital"}));r=[...r,...t]}t(r),u(!1)}catch(e){console.error("Error loading sources:",e),u(!1)}},p=(e,t)=>{c({...l,[e]:parseFloat(t)||0})};return Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pricing Management"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"Manage pricing and fees across all sources"})]}),Z.jsx("button",{onClick:()=>h("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsxs("div",{className:"flex space-x-2 mb-6",children:[Z.jsx("button",{onClick:()=>r("all"),className:"px-6 py-2 rounded-lg font-medium transition "+("all"===n?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:"All Sources"}),Z.jsx("button",{onClick:()=>r("organization"),className:"px-6 py-2 rounded-lg font-medium transition "+("organization"===n?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:"Organizations"}),Z.jsx("button",{onClick:()=>r("hospital"),className:"px-6 py-2 rounded-lg font-medium transition "+("hospital"===n?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:"Hospitals"})]}),d?Z.jsx("div",{className:"flex justify-center items-center py-12",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No sources found. Please add hospitals or organizations first."})}):Z.jsx("div",{className:"space-y-4",children:e.map((e,t)=>{var n,r,i,a;const l=(e=>{const t=e.pricing||{};return(t.bloodPrice||0)+(t.processingFee||0)+(t.screeningFee||0)+(t.serviceCharge||0)})(e);return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),Z.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.sourceType})]}),Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsxs("div",{className:"text-right",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Base Price (per unit)"}),Z.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",l]})]}),Z.jsx("button",{onClick:()=>(e=>{var t,n,r,i,a,l,d,u;s(e),c({bloodPrice:(null==(t=e.pricing)?void 0:t.bloodPrice)||0,processingFee:(null==(n=e.pricing)?void 0:n.processingFee)||0,screeningFee:(null==(r=e.pricing)?void 0:r.screeningFee)||0,serviceCharge:(null==(i=e.pricing)?void 0:i.serviceCharge)||0,deliveryCharge:(null==(a=e.pricing)?void 0:a.deliveryCharge)||0,handlingFee:(null==(l=e.pricing)?void 0:l.handlingFee)||0,crossMatching:(null==(d=e.additionalFees)?void 0:d.crossMatching)||0,storagePerDay:(null==(u=e.additionalFees)?void 0:u.storagePerDay)||0}),o(!0)})(e),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition text-sm",children:"Update Pricing"})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Z.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Blood Price"}),Z.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["",(null==(n=e.pricing)?void 0:n.bloodPrice)||0]})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Processing Fee"}),Z.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["",(null==(r=e.pricing)?void 0:r.processingFee)||0]})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Screening Fee"}),Z.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["",(null==(i=e.pricing)?void 0:i.screeningFee)||0]})]}),Z.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Service Charge"}),Z.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["",(null==(a=e.pricing)?void 0:a.serviceCharge)||0]})]})]}),"hospital"===e.sourceType&&e.additionalFees&&Z.jsxs("div",{className:"mt-4 pt-4 border-t",children:[Z.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Additional Fees"}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.additionalFees.crossMatching&&Z.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Cross Matching"}),Z.jsxs("p",{className:"text-lg font-semibold text-blue-800",children:["",e.additionalFees.crossMatching]})]}),e.additionalFees&&e.additionalFees.storagePerDay&&Z.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Storage (per day)"}),Z.jsxs("p",{className:"text-lg font-semibold text-blue-800",children:["",e.additionalFees.storagePerDay]})]})]})]})]},t)})})]}),a&&i&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[Z.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Update Pricing - ",i.name]}),Z.jsxs("div",{className:"space-y-4 mb-6",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Price (per unit)"}),Z.jsx("input",{type:"number",min:"0",step:"0.01",value:l.bloodPrice,onChange:e=>p("bloodPrice",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee"}),Z.jsx("input",{type:"number",min:"0",step:"0.01",value:l.processingFee,onChange:e=>p("processingFee",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Screening Fee"}),Z.jsx("input",{type:"number",min:"0",step:"0.01",value:l.screeningFee,onChange:e=>p("screeningFee",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Charge"}),Z.jsx("input",{type:"number",min:"0",step:"0.01",value:l.serviceCharge,onChange:e=>p("serviceCharge",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),"hospital"===i.sourceType&&Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"border-t pt-4",children:Z.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Additional Fees (Hospital Only)"})}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cross Matching Fee"}),Z.jsx("input",{type:"number",min:"0",step:"0.01",value:l.crossMatching,onChange:e=>p("crossMatching",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Fee (per day)"}),Z.jsx("input",{type:"number",min:"0",step:"0.01",value:l.storagePerDay,onChange:e=>p("storagePerDay",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),Z.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:Z.jsxs("p",{className:"text-sm text-gray-700",children:[Z.jsx("strong",{children:"Total Base Price:"})," ",Z.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",(l.bloodPrice+l.processingFee+l.screeningFee+l.serviceCharge).toFixed(2)]})]})})]}),Z.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:Z.jsxs("p",{className:"text-sm text-blue-800",children:[Z.jsx("strong",{children:"Note:"})," In production, this would update the database. Currently, this is a demonstration of the pricing management interface."]})}),Z.jsxs("div",{className:"flex justify-end space-x-3",children:[Z.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{onClick:async()=>{try{const e=localStorage.getItem("adminToken"),t="hospital"===i.sourceType?`/api/admin/hospitals/${i._id}/pricing`:`/api/admin/organizations/${i._id}/pricing`,n="hospital"===i.sourceType?{pricing:{bloodPrice:l.bloodPrice,processingFee:l.processingFee,screeningFee:l.screeningFee,serviceCharge:l.serviceCharge},additionalFees:{crossMatching:l.crossMatching,storagePerDay:l.storagePerDay}}:{pricing:{bloodPrice:l.bloodPrice,processingFee:l.processingFee,deliveryCharge:l.deliveryCharge,handlingFee:l.handlingFee}};await pN.patch(t,n,{headers:{Authorization:`Bearer ${e}`}}),alert(`Pricing updated successfully for ${i.name}!`),o(!1),f()}catch(e){console.error("Error updating pricing:",e),alert("Failed to update pricing. Please try again.")}},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Save Changes"})]})]})})]})},F_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState({bloodType:"all",city:"all"}),[a,o]=V.useState({page:1,total:0,pages:0}),[l,c]=V.useState(""),d=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?u():d("/admin")},[d,i,a.page]);const u=async()=>{try{const e=localStorage.getItem("adminToken"),n=new URLSearchParams;n.append("page",a.page),"all"!==i.bloodType&&n.append("bloodType",i.bloodType),"all"!==i.city&&n.append("city",i.city);const s=await pN.get(`/api/admin/donors?${n.toString()}`,{headers:{Authorization:`Bearer ${e}`}});t(s.data.donors),o(s.data.pagination),r(!1)}catch(e){console.error("Error fetching donors:",e),r(!1)}},h=()=>{s({...i,city:l||"all"}),o({...a,page:1})},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=e=>{if(!e)return!0;const t=new Date(e),n=new Date;return Math.floor((n-t)/864e5)>=90};return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"All Donors"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage registered blood donors"})]}),Z.jsx("button",{onClick:()=>d("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Donors"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.total})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Eligible to Donate"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>p(e.lastDonation)).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Not Eligible"}),Z.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.filter(e=>!p(e.lastDonation)).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Average Weight"}),Z.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[e.length>0?Math.round(e.reduce((e,t)=>e+t.weight,0)/e.length):0," ","kg"]})]})]}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Type"}),Z.jsxs("select",{value:i.bloodType,onChange:e=>{s({...i,bloodType:e.target.value}),o({...a,page:1})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Blood Types"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search by City"}),Z.jsxs("div",{className:"flex gap-2",children:[Z.jsx("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),placeholder:"Enter city name...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"}),Z.jsx("button",{onClick:h,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Search"}),"all"!==i.city&&Z.jsx("button",{onClick:()=>{c(""),s({...i,city:"all"})},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition",children:"Clear"})]})]})]})}),Z.jsx("div",{className:"space-y-4",children:0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No donors found with the selected filters."})}):e.map(e=>{const t=p(e.lastDonation),n=(e=>{const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&r--,r})(e.dateOfBirth);return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center text-white text-xl font-bold",children:e.bloodType}),Z.jsxs("div",{children:[Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.fullName}),e.isDemoUser&&Z.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full",children:"DEMO"})]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[n," years | ",e.gender," | ",e.weight," kg"]}),Z.jsxs("p",{className:"text-sm text-gray-500",children:["Registered: ",f(e.createdAt)]})]})]}),Z.jsxs("div",{className:"text-right",children:[Z.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+(t?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:t?" Eligible":" Not Eligible"}),!t&&e.lastDonation&&Z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last donated: ",f(e.lastDonation)]})]})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),Z.jsx("p",{className:"font-medium text-gray-800",children:e.email})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),Z.jsx("p",{className:"font-medium text-gray-800",children:e.phone})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),Z.jsxs("p",{className:"font-medium text-gray-800",children:[e.city,", ",e.state]})]})]}),Z.jsxs("div",{className:"pt-4 border-t",children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Address"}),Z.jsxs("p",{className:"text-gray-800",children:[e.address,", ",e.city,", ",e.state," - ",e.zipCode]})]}),e.medicalConditions&&Z.jsxs("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Medical Conditions:"}),Z.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:e.medicalConditions})]})]},e._id)})}),a.pages>1&&Z.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[Z.jsx("button",{onClick:()=>o({...a,page:a.page-1}),disabled:1===a.page,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Z.jsxs("span",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg",children:["Page ",a.page," of ",a.pages]}),Z.jsx("button",{onClick:()=>o({...a,page:a.page+1}),disabled:a.page===a.pages,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})},D_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState({status:"all",bloodType:"all",urgency:"all"}),[a,o]=V.useState(null),[l,c]=V.useState(!1),[d,u]=V.useState(""),h=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?f():h("/admin")},[h,i]);const f=async()=>{try{const e=localStorage.getItem("adminToken"),n=new URLSearchParams;"all"!==i.status&&n.append("status",i.status),"all"!==i.bloodType&&n.append("bloodType",i.bloodType),"all"!==i.urgency&&n.append("urgency",i.urgency);const s=await pN.get(`/api/admin/blood-requests?${n.toString()}`,{headers:{Authorization:`Bearer ${e}`}});t(s.data.requests),r(!1)}catch(e){console.error("Error fetching blood requests:",e),r(!1)}},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Blood Requests"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"Manage all blood donation requests"})]}),Z.jsx("button",{onClick:()=>h("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),Z.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"pending"===e.status).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>"approved"===e.status).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Fulfilled"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"fulfilled"===e.status).length})]})]}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),Z.jsxs("select",{value:i.status,onChange:e=>s({...i,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Status"}),Z.jsx("option",{value:"pending",children:"Pending"}),Z.jsx("option",{value:"approved",children:"Approved"}),Z.jsx("option",{value:"fulfilled",children:"Fulfilled"}),Z.jsx("option",{value:"rejected",children:"Rejected"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Type"}),Z.jsxs("select",{value:i.bloodType,onChange:e=>s({...i,bloodType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Blood Types"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),Z.jsxs("select",{value:i.urgency,onChange:e=>s({...i,urgency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Urgency"}),Z.jsx("option",{value:"emergency",children:"Emergency"}),Z.jsx("option",{value:"urgent",children:"Urgent"}),Z.jsx("option",{value:"normal",children:"Normal"})]})]})]})}),Z.jsx("div",{className:"space-y-4",children:0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No blood requests found with the selected filters."})}):e.map(e=>{var t,n,r,i,s,a;return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center text-white text-xl font-bold",children:e.bloodType}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.patientName}),Z.jsx("p",{className:"text-sm text-gray-600",children:e.hospital}),Z.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Z.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${a=e.urgency,{emergency:"bg-red-500 text-white",urgent:"bg-orange-500 text-white",normal:"bg-green-500 text-white"}[a]||"bg-gray-500 text-white"}`,children:e.urgency.toUpperCase()}),Z.jsx("span",{className:`px-2 py-1 rounded border text-xs font-medium ${s=e.status,{pending:"bg-yellow-100 text-yellow-800 border-yellow-300",approved:"bg-blue-100 text-blue-800 border-blue-300",fulfilled:"bg-green-100 text-green-800 border-green-300",rejected:"bg-red-100 text-red-800 border-red-300"}[s]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:e.status.toUpperCase()})]})]})]}),Z.jsx("button",{onClick:()=>(e=>{o(e),u(e.status),c(!0)})(e),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Update Status"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Units Required"}),Z.jsxs("p",{className:"font-semibold text-red-600",children:[e.units," units"]})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Required Date"}),Z.jsx("p",{className:"font-semibold text-orange-600",children:new Date(e.requiredDate).toLocaleDateString()})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Contact Person"}),Z.jsx("p",{className:"font-semibold",children:e.contactName})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Contact Phone"}),Z.jsx("p",{className:"font-semibold",children:e.contactPhone})]})]}),Z.jsxs("div",{className:"mb-4",children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Reason"}),Z.jsx("p",{className:"text-gray-800 bg-gray-50 p-3 rounded-lg",children:e.reason})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Requested By"}),Z.jsx("p",{className:"font-medium text-gray-800",children:(null==(t=e.requestedBy)?void 0:t.fullName)||"N/A"}),Z.jsxs("p",{className:"text-sm text-gray-500",children:[(null==(n=e.requestedBy)?void 0:n.email)||"N/A"," | ",(null==(r=e.requestedBy)?void 0:r.phone)||"N/A"]}),(null==(i=e.requestedBy)?void 0:i.bloodType)&&Z.jsxs("p",{className:"text-sm text-gray-500",children:["Blood Type: ",e.requestedBy.bloodType]})]}),Z.jsxs("div",{className:"text-left md:text-right",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Request Date"}),Z.jsx("p",{className:"text-sm text-gray-800",children:p(e.createdAt)}),e.updatedAt!==e.createdAt&&Z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last updated: ",p(e.updatedAt)]})]})]})]},e._id)})})]}),l&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Update Request Status"}),Z.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("adminToken");await pN.patch(`/api/admin/blood-requests/${a._id}/status`,{status:d},{headers:{Authorization:`Bearer ${e}`}}),c(!1),f(),alert("Blood request status updated successfully!")}catch(t){console.error("Error updating blood request:",t),alert("Failed to update blood request")}},className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Patient: ",null==a?void 0:a.patientName]}),Z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Blood Type: ",null==a?void 0:a.bloodType," | Units: ",null==a?void 0:a.units]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),Z.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",required:!0,children:[Z.jsx("option",{value:"pending",children:"Pending"}),Z.jsx("option",{value:"approved",children:"Approved"}),Z.jsx("option",{value:"fulfilled",children:"Fulfilled"}),Z.jsx("option",{value:"rejected",children:"Rejected"})]})]}),Z.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:Z.jsxs("p",{className:"text-sm text-blue-800",children:[Z.jsx("strong",{children:"Note:"})," Changing the status will notify the requester."]})}),Z.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[Z.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Update Status"})]})]})]})})]})},O_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState({role:"all",status:"all"}),[a,o]=V.useState({page:1,total:0,pages:0}),[l,c]=V.useState(null),[d,u]=V.useState(!1),[h,f]=V.useState(""),p=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?m():p("/admin")},[p,i,a.page]);const m=async()=>{try{const e=localStorage.getItem("adminToken"),n=new URLSearchParams;n.append("page",a.page),"all"!==i.role&&n.append("role",i.role),"all"!==i.status&&n.append("status",i.status);const s=await pN.get(`/api/admin/users?${n.toString()}`,{headers:{Authorization:`Bearer ${e}`}});t(s.data.users),o(s.data.pagination),r(!1)}catch(e){console.error("Error fetching users:",e),r(!1)}},g=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"All Users"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage all platform users"})]}),Z.jsx("button",{onClick:()=>p("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.total})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Donors"}),Z.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>"donor"===e.role).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>!e.isBanned).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Banned Users"}),Z.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.filter(e=>e.isBanned).length})]})]}),Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),Z.jsxs("select",{value:i.role,onChange:e=>{s({...i,role:e.target.value}),o({...a,page:1})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Roles"}),Z.jsx("option",{value:"donor",children:"Donors"}),Z.jsx("option",{value:"admin",children:"Admins"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),Z.jsxs("select",{value:i.status,onChange:e=>{s({...i,status:e.target.value}),o({...a,page:1})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Status"}),Z.jsx("option",{value:"active",children:"Active"}),Z.jsx("option",{value:"banned",children:"Banned"})]})]})]})}),Z.jsx("div",{className:"space-y-4",children:0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No users found with the selected filters."})}):e.map(e=>Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 "+(e.isBanned?"border-2 border-red-300 bg-red-50":""),children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-xl font-bold "+(e.isBanned?"bg-gray-400":"admin"===e.role?"bg-gradient-to-br from-purple-500 to-purple-700":"bg-gradient-to-br from-red-500 to-red-700"),children:e.bloodType||""}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.fullName}),Z.jsxs("p",{className:"text-sm text-gray-600",children:["admin"===e.role?" Admin":" Donor"," | Joined:"," ",g(e.createdAt)]}),e.isBanned&&Z.jsxs("div",{className:"mt-2",children:[Z.jsx("span",{className:"px-3 py-1 bg-red-200 text-red-800 rounded-full text-xs font-semibold",children:" BANNED"}),e.bannedAt&&Z.jsxs("span",{className:"text-xs text-red-600 ml-2",children:["on ",g(e.bannedAt)]})]})]})]}),Z.jsx("div",{className:"flex gap-2",children:"admin"!==e.role&&Z.jsx("button",{onClick:()=>(e=>{c(e),f(""),u(!0)})(e),className:"px-4 py-2 rounded-lg transition "+(e.isBanned?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"),children:e.isBanned?"Unban User":"Ban User"})})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),Z.jsx("p",{className:"font-medium text-gray-800",children:e.email})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),Z.jsx("p",{className:"font-medium text-gray-800",children:e.phone})]}),e.bloodType&&Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Blood Type"}),Z.jsx("p",{className:"font-medium text-red-600",children:e.bloodType})]}),e.city&&Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),Z.jsxs("p",{className:"font-medium text-gray-800",children:[e.city,", ",e.state]})]})]}),e.isBanned&&e.banReason&&Z.jsxs("div",{className:"mt-4 bg-red-100 border border-red-300 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm font-medium text-red-800",children:"Ban Reason:"}),Z.jsx("p",{className:"text-sm text-red-700 mt-1",children:e.banReason})]})]},e._id))}),a.pages>1&&Z.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[Z.jsx("button",{onClick:()=>o({...a,page:a.page-1}),disabled:1===a.page,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Z.jsxs("span",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg",children:["Page ",a.page," of ",a.pages]}),Z.jsx("button",{onClick:()=>o({...a,page:a.page+1}),disabled:a.page===a.pages,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),d&&l&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:l.isBanned?"Unban User":"Ban User"}),Z.jsxs("div",{className:"mb-4",children:[Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("strong",{children:"User:"})," ",l.fullName]}),Z.jsxs("p",{className:"text-gray-700",children:[Z.jsx("strong",{children:"Email:"})," ",l.email]})]}),!l.isBanned&&Z.jsxs("div",{className:"mb-4",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Ban *"}),Z.jsx("textarea",{value:h,onChange:e=>f(e.target.value),rows:"4",placeholder:"Enter the reason for banning this user...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]}),Z.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:Z.jsxs("p",{className:"text-sm text-yellow-800",children:[Z.jsx("strong",{children:"Warning:"})," ",l.isBanned?"This will restore the user's access to the platform.":"This will immediately block the user from accessing the platform."]})}),Z.jsxs("div",{className:"flex justify-end space-x-3",children:[Z.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("adminToken");await pN.patch(`/api/admin/users/${l._id}/ban`,{isBanned:e,banReason:e?h:null},{headers:{Authorization:`Bearer ${t}`}}),u(!1),m(),alert(e?"User banned successfully!":"User unbanned successfully!")}catch(t){console.error("Error updating user ban status:",t),alert("Failed to update user status")}})(!l.isBanned),disabled:!l.isBanned&&!h.trim(),className:"px-6 py-2 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed "+(l.isBanned?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"),children:l.isBanned?"Unban User":"Ban User"})]})]})})]})},M_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState(!1),[a,o]=V.useState(null),[l,c]=V.useState({name:"",emergencyHotline:"",emergencyContact:"",ambulance:"",address:"",phone:"",email:"",password:"",website:"",bloodInventory:{"A+":0,"A-":0,"B+":0,"B-":0,"AB+":0,"AB-":0,"O+":0,"O-":0},pricing:{bloodPrice:0,processingFee:0,screeningFee:0,serviceCharge:0},isActive:!0}),d=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?u():d("/admin")},[d]);const u=async()=>{try{const e=localStorage.getItem("adminToken"),n=await pN.get("/api/admin/hospitals",{headers:{Authorization:`Bearer ${e}`}});t(n.data.hospitals),r(!1)}catch(e){console.error("Error fetching hospitals:",e),r(!1)}},h=e=>Object.values(e||{}).reduce((e,t)=>e+t,0);return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Hospital Management"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"Add, edit, or remove hospitals"})]}),Z.jsxs("div",{className:"flex gap-3",children:[Z.jsxs("button",{onClick:()=>{o(null),c({name:"",emergencyHotline:"",emergencyContact:"",ambulance:"",address:"",phone:"",email:"",password:"",website:"",bloodInventory:{"A+":0,"A-":0,"B+":0,"B-":0,"AB+":0,"AB-":0,"O+":0,"O-":0},pricing:{bloodPrice:0,processingFee:0,screeningFee:0,serviceCharge:0},isActive:!0}),s(!0)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2",children:[Z.jsx("span",{className:"text-xl",children:"+"})," Add Hospital"]}),Z.jsx("button",{onClick:()=>d("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Hospitals"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Active Hospitals"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>e.isActive).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Blood Units"}),Z.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.reduce((e,t)=>e+h(t.bloodInventory),0)})]})]}),Z.jsx("div",{className:"space-y-4",children:0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No hospitals found. Add your first hospital!"})}):e.map(e=>{var t,n;return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{className:"flex-1",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),Z.jsxs("div",{className:"mt-2 space-y-1",children:[Z.jsxs("p",{className:"text-sm text-gray-600",children:[" ",e.address]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[" Emergency: ",e.emergencyHotline]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[" Ambulance: ",e.ambulance]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[" Phone: ",e.phone]}),e.email&&Z.jsxs("p",{className:"text-sm text-gray-600",children:[" ",e.email]}),e.website&&Z.jsxs("p",{className:"text-sm text-gray-600",children:[" ",Z.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.website})]})]})]}),Z.jsxs("div",{className:"flex gap-2",children:[Z.jsx("button",{onClick:()=>(e=>{o(e),c(e),s(!0)})(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Edit"}),Z.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this hospital?"))try{const t=localStorage.getItem("adminToken");await pN.delete(`/api/admin/hospitals/${e}`,{headers:{Authorization:`Bearer ${t}`}}),u(),alert("Hospital deleted successfully!")}catch(t){console.error("Error deleting hospital:",t),alert("Failed to delete hospital")}})(e._id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[Z.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Stock"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h(e.bloodInventory)})]}),Z.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Base Price"}),Z.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(n=e.pricing,(n.bloodPrice||0)+(n.processingFee||0)+(n.screeningFee||0)+(n.serviceCharge||0))]})]}),Z.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),Z.jsx("p",{className:"text-xl font-bold text-purple-600",children:e.isActive?"Active":"Inactive"})]}),Z.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Blood Price"}),Z.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["",(null==(t=e.pricing)?void 0:t.bloodPrice)||0]})]})]}),Z.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:Object.entries(e.bloodInventory||{}).map(([e,t])=>Z.jsxs("div",{className:"bg-gray-50 rounded p-2 text-center",children:[Z.jsx("p",{className:"text-xs font-semibold text-gray-700",children:e}),Z.jsx("p",{className:"text-lg font-bold text-red-600",children:t})]},e))})]},e._id)})})]}),i&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 overflow-y-auto",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full m-4 my-8 max-h-[90vh] overflow-y-auto",children:[Z.jsx("div",{className:"sticky top-0 bg-white border-b px-6 py-4 z-10",children:Z.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Hospital":"Add New Hospital"})}),Z.jsxs("form",{onSubmit:async e=>{var t,n;e.preventDefault();try{const e=localStorage.getItem("adminToken"),t={...l};a&&!t.password&&delete t.password,a?(await pN.patch(`/api/admin/hospitals/${a._id}`,t,{headers:{Authorization:`Bearer ${e}`}}),alert("Hospital updated successfully!")):(await pN.post("/api/admin/hospitals",t,{headers:{Authorization:`Bearer ${e}`}}),alert("Hospital created successfully!")),s(!1),u()}catch(r){console.error("Error saving hospital:",r),alert("Failed to save hospital: "+((null==(n=null==(t=r.response)?void 0:t.data)?void 0:n.message)||r.message))}},className:"p-6 space-y-6",children:[Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hospital Name *"}),Z.jsx("input",{type:"text",value:l.name,onChange:e=>c({...l,name:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Hotline *"}),Z.jsx("input",{type:"text",value:l.emergencyHotline,onChange:e=>c({...l,emergencyHotline:e.target.value}),required:!0,placeholder:"e.g., 10616",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),Z.jsx("input",{type:"text",value:l.emergencyContact,onChange:e=>c({...l,emergencyContact:e.target.value}),placeholder:"Alternative emergency number",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ambulance Number *"}),Z.jsx("input",{type:"text",value:l.ambulance,onChange:e=>c({...l,ambulance:e.target.value}),required:!0,placeholder:"e.g., 01713-377776",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),Z.jsx("input",{type:"text",value:l.address,onChange:e=>c({...l,address:e.target.value}),required:!0,placeholder:"e.g., 18/F, Bir Uttam Qazi Nuruzzaman Sarak, West Panthapath, Dhaka-1205",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),Z.jsx("input",{type:"text",value:l.phone,onChange:e=>c({...l,phone:e.target.value}),required:!0,placeholder:"Main phone number",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),Z.jsx("input",{type:"email",value:l.email,onChange:e=>c({...l,email:e.target.value}),required:!0,placeholder:"hospital@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password (Optional)"}),Z.jsx("input",{type:"password",value:l.password,onChange:e=>c({...l,password:e.target.value}),placeholder:"Leave blank for default password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"}),Z.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Default: hospital123 (if hospital needs to login later)"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),Z.jsx("input",{type:"url",value:l.website,onChange:e=>c({...l,website:e.target.value}),placeholder:"https://hospital.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),Z.jsxs("div",{className:"border-t pt-4",children:[Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Pricing Details"}),Z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Price ()"}),Z.jsx("input",{type:"number",value:l.pricing.bloodPrice,onChange:e=>c({...l,pricing:{...l.pricing,bloodPrice:Number(e.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee ()"}),Z.jsx("input",{type:"number",value:l.pricing.processingFee,onChange:e=>c({...l,pricing:{...l.pricing,processingFee:Number(e.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Screening Fee ()"}),Z.jsx("input",{type:"number",value:l.pricing.screeningFee,onChange:e=>c({...l,pricing:{...l.pricing,screeningFee:Number(e.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Charge ()"}),Z.jsx("input",{type:"number",value:l.pricing.serviceCharge,onChange:e=>c({...l,pricing:{...l.pricing,serviceCharge:Number(e.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]})]}),Z.jsxs("div",{className:"border-t pt-4",children:[Z.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Blood Inventory"}),Z.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-3",children:Object.keys(l.bloodInventory).map(e=>Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e}),Z.jsx("input",{type:"number",value:l.bloodInventory[e],onChange:t=>c({...l,bloodInventory:{...l.bloodInventory,[e]:Number(t.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]},e))})]}),Z.jsx("div",{className:"sticky bottom-0 bg-white border-t pt-4 -mx-6 px-6 -mb-6 pb-6",children:Z.jsxs("div",{className:"flex justify-end space-x-3",children:[Z.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:a?"Update Hospital":"Add Hospital"})]})})]})]})})]})},I_=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0),[i,s]=V.useState(!1),[a,o]=V.useState(null),[l,c]=V.useState({name:"",category:"national",location:"",contact:"",email:"",website:"",bloodInventory:{"A+":0,"A-":0,"B+":0,"B-":0,"AB+":0,"AB-":0,"O+":0,"O-":0},pricing:{bloodPrice:0,processingFee:0,deliveryCharge:0,handlingFee:0}}),d=df();V.useEffect(()=>{const e=localStorage.getItem("isAdminLoggedIn");e&&"true"===e?u():d("/admin")},[d]);const u=async()=>{try{const e=localStorage.getItem("adminToken"),n=await pN.get("/api/admin/organizations",{headers:{Authorization:`Bearer ${e}`}});t(n.data.organizations),r(!1)}catch(e){console.error("Error fetching organizations:",e),r(!1)}},h=e=>Object.values(e||{}).reduce((e,t)=>e+t,0),f=e=>({national:" National",hospital:" Hospital",digital:" Digital"}[e]||e);return n?Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):Z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Organization Management"}),Z.jsx("p",{className:"text-gray-600 mt-2",children:"Add, edit, or remove organizations"})]}),Z.jsxs("div",{className:"flex gap-3",children:[Z.jsxs("button",{onClick:()=>{o(null),c({name:"",category:"national",location:"",contact:"",email:"",website:"",bloodInventory:{"A+":0,"A-":0,"B+":0,"B-":0,"AB+":0,"AB-":0,"O+":0,"O-":0},pricing:{bloodPrice:0,processingFee:0,deliveryCharge:0,handlingFee:0}}),s(!0)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2",children:[Z.jsx("span",{className:"text-xl",children:"+"})," Add Organization"]}),Z.jsx("button",{onClick:()=>d("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Back to Dashboard"})]})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Organizations"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Active Organizations"}),Z.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>e.isActive).length})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Blood Units"}),Z.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.reduce((e,t)=>e+h(t.bloodInventory),0)})]}),Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Categories"}),Z.jsx("p",{className:"text-2xl font-bold text-purple-600",children:new Set(e.map(e=>e.category)).size})]})]}),Z.jsx("div",{className:"space-y-4",children:0===e.length?Z.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:Z.jsx("p",{className:"text-gray-600",children:"No organizations found. Add your first organization!"})}):e.map(e=>{var t,n,r,i;return Z.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Z.jsxs("div",{children:[Z.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),Z.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i=e.category,{national:"bg-blue-100 text-blue-800",hospital:"bg-green-100 text-green-800",digital:"bg-purple-100 text-purple-800"}[i]||"bg-gray-100 text-gray-800"}`,children:f(e.category)})]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[" ",e.location]}),Z.jsxs("p",{className:"text-sm text-gray-600",children:[" ",e.contact]}),e.email&&Z.jsxs("p",{className:"text-sm text-gray-600",children:[" ",e.email]})]}),Z.jsxs("div",{className:"flex gap-2",children:[Z.jsx("button",{onClick:()=>(e=>{o(e),c(e),s(!0)})(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Edit"}),Z.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this organization?"))try{const t=localStorage.getItem("adminToken");await pN.delete(`/api/admin/organizations/${e}`,{headers:{Authorization:`Bearer ${t}`}}),u(),alert("Organization deleted successfully!")}catch(t){console.error("Error deleting organization:",t),alert("Failed to delete organization")}})(e._id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[Z.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Total Stock"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h(e.bloodInventory)})]}),Z.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Base Price"}),Z.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(r=e.pricing,(r.bloodPrice||0)+(r.processingFee||0)+(r.deliveryCharge||0)+(r.handlingFee||0))]})]}),Z.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Charge"}),Z.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["",(null==(t=e.pricing)?void 0:t.deliveryCharge)||0]})]}),Z.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Handling Fee"}),Z.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["",(null==(n=e.pricing)?void 0:n.handlingFee)||0]})]})]}),Z.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:Object.entries(e.bloodInventory||{}).map(([e,t])=>Z.jsxs("div",{className:"bg-gray-50 rounded p-2 text-center",children:[Z.jsx("p",{className:"text-xs font-semibold text-gray-700",children:e}),Z.jsx("p",{className:"text-lg font-bold text-red-600",children:t})]},e))})]},e._id)})})]}),i&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:Z.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full p-6 my-8",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:a?"Edit Organization":"Add New Organization"}),Z.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("adminToken");a?(await pN.patch(`/api/admin/organizations/${a._id}`,l,{headers:{Authorization:`Bearer ${e}`}}),alert("Organization updated successfully!")):(await pN.post("/api/admin/organizations",l,{headers:{Authorization:`Bearer ${e}`}}),alert("Organization created successfully!")),s(!1),u()}catch(t){console.error("Error saving organization:",t),alert("Failed to save organization")}},className:"space-y-4",children:[Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name *"}),Z.jsx("input",{type:"text",value:l.name,onChange:e=>c({...l,name:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),Z.jsx("select",{value:l.category,onChange:e=>c({...l,category:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[{value:"national",label:" National",icon:""},{value:"hospital",label:" Hospital",icon:""},{value:"digital",label:" Digital",icon:""}].map(e=>Z.jsx("option",{value:e.value,children:e.label},e.value))})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),Z.jsx("input",{type:"text",value:l.location,onChange:e=>c({...l,location:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact *"}),Z.jsx("input",{type:"text",value:l.contact,onChange:e=>c({...l,contact:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),Z.jsx("input",{type:"email",value:l.email,onChange:e=>c({...l,email:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),Z.jsx("input",{type:"url",value:l.website,onChange:e=>c({...l,website:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),Z.jsxs("div",{className:"flex justify-end space-x-3",children:[Z.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),Z.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:a?"Update Organization":"Add Organization"})]})]})]})})]})},z_=()=>{var e;const t=df(),[n,r]=V.useState(""),[i,s]=V.useState("all"),[a,o]=V.useState([]),[l,c]=V.useState(!1),[d,u]=V.useState(null),[h,f]=V.useState(!1),[p,m]=V.useState(1),[g,x]=V.useState("normal"),[b,y]=V.useState(""),[v,w]=V.useState(""),[N,j]=V.useState(""),[S,k]=V.useState(""),[A,P]=V.useState(""),[L,C]=V.useState(""),[_,E]=V.useState(""),[T,B]=V.useState(!1),[R,F]=V.useState(""),D=e=>e?(e.bloodPrice||0)+(e.processingFee||0)+(e.screeningFee||0)+(e.serviceCharge||0)+(e.crossMatching||0)+(e.storagePerDay||0):0;return Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-white py-12",children:Z.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Z.jsxs("div",{className:"text-center mb-12",children:[Z.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Purchase Blood"}),Z.jsx("p",{className:"text-lg text-gray-600",children:"Search for available blood and compare prices"})]}),Z.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:Z.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blood Type"}),Z.jsxs("select",{value:n,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"",children:"Select Blood Type"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A-",children:"A-"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"B-",children:"B-"}),Z.jsx("option",{value:"AB+",children:"AB+"}),Z.jsx("option",{value:"AB-",children:"AB-"}),Z.jsx("option",{value:"O+",children:"O+"}),Z.jsx("option",{value:"O-",children:"O-"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter By"}),Z.jsxs("select",{value:i,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"all",children:"All Sources"}),Z.jsx("option",{value:"organization",children:"Organizations Only"}),Z.jsx("option",{value:"hospital",children:"Hospitals Only"})]})]}),Z.jsx("div",{className:"flex items-end",children:Z.jsxs("button",{onClick:()=>{if(!n)return void alert("Please select a blood type");let e=[];if("all"===i||"organization"===i){[...bN.national,...bN.digital].forEach(t=>{t.bloodInventory&&t.bloodInventory[n]>0&&e.push({...t,sourceType:"organization",availableUnits:t.bloodInventory[n],totalPrice:D(t.pricing)})})}"all"!==i&&"hospital"!==i||xN.forEach(t=>{t.bloodInventory&&t.bloodInventory[n]>0&&e.push({...t,sourceType:"hospital",availableUnits:t.bloodInventory[n],totalPrice:D(t.pricing)})}),e.sort((e,t)=>e.totalPrice-t.totalPrice),o(e),c(!0)},className:"w-full bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center gap-2 font-semibold",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})})]})}),l&&Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Z.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Available Sources (",a.length,")"]}),a.length>0&&Z.jsxs("span",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold",children:["Best Price: ",null==(e=a[0])?void 0:e.totalPrice]})]}),0===a.length?Z.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg",children:Z.jsxs("p",{className:"text-yellow-800 font-medium",children:["No sources found with blood type ",n,". Please try a different search."]})}):Z.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((e,r)=>Z.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden "+(0===r?"ring-2 ring-green-500":""),children:[0===r&&Z.jsx("div",{className:"bg-green-500 text-white px-4 py-2 text-center font-semibold text-sm",children:" BEST PRICE"}),Z.jsxs("div",{className:"p-6",children:[Z.jsx("div",{className:"flex items-start justify-between mb-4",children:Z.jsxs("div",{children:[Z.jsx("span",{className:"text-3xl mb-2 block",children:e.icon}),Z.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.name}),Z.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold "+("hospital"===e.sourceType?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"hospital"===e.sourceType?"Hospital":"Organization"})]})}),Z.jsxs("div",{className:"space-y-3 mb-4",children:[Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Available Units:"}),Z.jsx("span",{className:"font-bold text-red-600",children:e.availableUnits})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Blood Type:"}),Z.jsx("span",{className:"font-bold text-gray-900",children:n})]}),Z.jsxs("div",{className:"border-t pt-3",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Blood Price:"}),Z.jsxs("span",{className:"text-gray-800",children:["",e.pricing.bloodPrice]})]}),Z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Processing:"}),Z.jsxs("span",{className:"text-gray-800",children:["",e.pricing.processingFee]})]}),Z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Z.jsx("span",{className:"text-sm text-gray-600",children:"Screening:"}),Z.jsxs("span",{className:"text-gray-800",children:["",e.pricing.screeningFee]})]}),Z.jsxs("div",{className:"flex justify-between items-center font-bold text-lg border-t pt-2 mt-2",children:[Z.jsx("span",{className:"text-gray-900",children:"Total:"}),Z.jsxs("span",{className:"text-green-600",children:["",e.totalPrice]})]})]})]}),Z.jsx("button",{onClick:()=>(e=>{if(!localStorage.getItem("token"))return alert("Please login to purchase blood"),void t("/login");u(e),f(!0)})(e),className:"w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition-colors duration-200 font-semibold",children:"Purchase Now"}),e.contact&&Z.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center",children:["Contact: ",e.contact]})]})]},e.id))})]}),h&&d&&Z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:Z.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full my-8",children:[Z.jsxs("div",{className:"bg-red-600 text-white px-6 py-4 rounded-t-2xl",children:[Z.jsx("h3",{className:"text-2xl font-bold",children:"Complete Purchase"}),Z.jsx("p",{className:"text-red-100 text-sm mt-1",children:d.name})]}),Z.jsxs("form",{onSubmit:async e=>{var r,i;e.preventDefault(),B(!0),F("");try{const e=localStorage.getItem("token"),r=d.totalPrice*p,i={bloodType:n,units:Number(p),urgency:g,patientName:b,patientAge:v?Number(v):void 0,patientCondition:N||void 0,contactName:S,contactPhone:A,contactEmail:L||void 0,deliveryAddress:_,sourceId:d.id.toString(),sourceName:d.name,sourceType:d.sourceType,pricing:{bloodPrice:d.pricing.bloodPrice||0,processingFee:d.pricing.processingFee||0,screeningFee:d.pricing.screeningFee||0,serviceCharge:d.pricing.serviceCharge||0,crossMatching:d.pricing.crossMatching||0,storagePerDay:d.pricing.storagePerDay||0,totalCost:r}},s=await yg.post("/api/blood-purchases",i,{headers:{Authorization:`Bearer ${e}`}});t("/purchase-success",{state:{trackingNumber:s.data.trackingNumber,purchase:s.data}})}catch(s){console.error("Purchase error:",s),F((null==(i=null==(r=s.response)?void 0:r.data)?void 0:i.message)||"Failed to complete purchase. Please try again.")}finally{B(!1)}},className:"p-6",children:[R&&Z.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4",children:Z.jsx("p",{className:"text-red-700",children:R})}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units Required *"}),Z.jsx("input",{type:"number",value:p,onChange:e=>m(e.target.value),min:"1",max:d.availableUnits,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urgency *"}),Z.jsxs("select",{value:g,onChange:e=>x(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[Z.jsx("option",{value:"normal",children:"Normal"}),Z.jsx("option",{value:"urgent",children:"Urgent"}),Z.jsx("option",{value:"emergency",children:"Emergency"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Name *"}),Z.jsx("input",{type:"text",value:b,onChange:e=>y(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Age"}),Z.jsx("input",{type:"number",value:v,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Condition"}),Z.jsx("input",{type:"text",value:N,onChange:e=>j(e.target.value),placeholder:"e.g., Surgery, Accident, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),Z.jsx("input",{type:"text",value:S,onChange:e=>k(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),Z.jsx("input",{type:"tel",value:A,onChange:e=>P(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),Z.jsx("input",{type:"email",value:L,onChange:e=>C(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),Z.jsxs("div",{className:"md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Address *"}),Z.jsx("textarea",{value:_,onChange:e=>E(e.target.value),required:!0,rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),Z.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[Z.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Order Summary"}),Z.jsxs("div",{className:"space-y-1 text-sm",children:[Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Price per unit:"}),Z.jsxs("span",{children:["",d.totalPrice]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Units:"}),Z.jsx("span",{children:p})]}),Z.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[Z.jsx("span",{children:"Total Cost:"}),Z.jsxs("span",{className:"text-green-600",children:["",d.totalPrice*p]})]})]})]}),Z.jsxs("div",{className:"flex gap-3",children:[Z.jsx("button",{type:"button",onClick:()=>{f(!1),F("")},className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),Z.jsx("button",{type:"submit",disabled:T,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 font-semibold",children:T?"Processing...":"Submit Purchase Request"})]})]})]})})]})})},U_=()=>{var e,t;const n=lf(),r=df(),[i,s]=V.useState(""),[a,o]=V.useState(null);V.useEffect(()=>{n.state?(s(n.state.trackingNumber),o(n.state.purchase)):r("/blood-purchase-dashboard")},[n,r]);return Z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 py-12",children:Z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:Z.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[Z.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 px-8 py-12 text-center",children:[Z.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-6 animate-bounce",children:Z.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),Z.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:"Purchase Successful!"}),Z.jsx("p",{className:"text-green-100 text-lg",children:"Your blood purchase request has been submitted successfully"})]}),Z.jsxs("div",{className:"px-8 py-8",children:[Z.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-8",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Your Tracking Number"}),Z.jsx("div",{className:"bg-white px-6 py-4 rounded-lg shadow-sm inline-block",children:Z.jsx("p",{className:"text-3xl font-bold text-blue-600 font-mono tracking-wider",children:i})}),Z.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Save this tracking number to check your order status"})]})}),a&&Z.jsxs("div",{className:"mb-8",children:[Z.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),Z.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-3",children:[Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-gray-600",children:"Blood Type:"}),Z.jsx("span",{className:"font-bold text-red-600 text-lg",children:a.bloodType})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-gray-600",children:"Units:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:a.units})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-gray-600",children:"Source:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:a.sourceName})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-gray-600",children:"Patient Name:"}),Z.jsx("span",{className:"font-semibold text-gray-900",children:a.patientName})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-gray-600",children:"Urgency:"}),Z.jsx("span",{className:"font-semibold px-3 py-1 rounded-full text-sm "+("emergency"===a.urgency?"bg-red-100 text-red-800":"urgent"===a.urgency?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"),children:a.urgency.toUpperCase()})]}),Z.jsxs("div",{className:"flex justify-between items-center border-t pt-3 mt-3",children:[Z.jsx("span",{className:"text-gray-900 font-semibold text-lg",children:"Total Cost:"}),Z.jsxs("span",{className:"font-bold text-green-600 text-2xl",children:["",null==(t=null==(e=a.pricing)?void 0:e.totalCost)?void 0:t.toLocaleString()]})]}),a.expiryDate&&Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-gray-600",children:"Blood Expiry Date:"}),Z.jsx("span",{className:"font-semibold text-orange-600",children:new Date(a.expiryDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),Z.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 mb-6",children:[Z.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[Z.jsxs("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Track Your Order"]}),Z.jsx("p",{className:"text-gray-600 mb-4",children:"Use your tracking number to monitor your order status in real-time"}),Z.jsxs("button",{onClick:()=>{r("/profile",{state:{tab:"shipping"}})},className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors duration-200 font-semibold flex items-center justify-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Track Order Now"]})]}),Z.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-lg mb-6",children:[Z.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"What happens next?"}),Z.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"Your request will be reviewed by the source organization"})]}),Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"You'll receive a confirmation once the order is approved"})]}),Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"Track your order status using the tracking number"})]}),Z.jsxs("li",{className:"flex items-start gap-2",children:[Z.jsx("span",{className:"text-blue-600 mt-1",children:""}),Z.jsx("span",{children:"You'll be notified when the blood is ready for pickup/delivery"})]})]})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Z.jsx("button",{onClick:()=>{r("/blood-purchase-dashboard")},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-semibold",children:"View All Purchases"}),Z.jsx("button",{onClick:()=>r("/"),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 font-semibold",children:"Back to Home"})]}),Z.jsxs("div",{className:"mt-8 text-center",children:[Z.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Need help with your order?"}),Z.jsxs("p",{className:"text-gray-800 font-semibold",children:["Contact Support: ",Z.jsx("span",{className:"text-red-600",children:"09610-123456"})]})]})]})]})})})},q_=()=>{const e=df(),[t,n]=V.useState({name:"",email:"",phone:"",address:"",password:"",confirmPassword:"",category:"",description:"",website:""}),[r,i]=V.useState(!1),[s,a]=V.useState(""),[o,l]=V.useState(!1),c=e=>{n({...t,[e.target.name]:e.target.value})};return o?Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Z.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:Z.jsxs("button",{onClick:()=>e("/admin"),className:"text-red-600 hover:text-red-700 font-medium flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Admin Login"]})}),Z.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:Z.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[Z.jsx("div",{className:"mb-4",children:Z.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Submitted!"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"Your organization registration has been submitted successfully. A Super Admin will review your application and approve it soon."}),Z.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You will be able to log in once your registration is approved."}),Z.jsx("button",{onClick:()=>e("/"),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Home"})]})}),Z.jsx(Footer,{})]}):Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Z.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:Z.jsxs("button",{onClick:()=>e("/admin"),className:"text-red-600 hover:text-red-700 font-medium flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Admin Login"]})}),Z.jsx("div",{className:"flex-1 px-4 py-12",children:Z.jsx("div",{className:"max-w-2xl mx-auto",children:Z.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[Z.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register Your Organization"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"Join our blood donation network. After registration, a Super Admin will review and approve your organization."}),s&&Z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),Z.jsxs("form",{onSubmit:async e=>{var n,r;if(e.preventDefault(),a(""),t.password===t.confirmPassword)if(t.password.length<8)a("Password must be at least 8 characters long");else{i(!0);try{const{confirmPassword:e,...n}=t;await pN.post("/api/admin/organizations/register",n),l(!0)}catch(s){a((null==(r=null==(n=s.response)?void 0:n.data)?void 0:r.message)||"Registration failed. Please try again.")}finally{i(!1)}}else a("Passwords do not match")},className:"space-y-6",children:[Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Organization Name ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter organization name"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Email ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"organization@example.com"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Phone ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"+1234567890"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Address ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("textarea",{name:"address",value:t.address,onChange:c,required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter full address"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Password ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"password",name:"password",value:t.password,onChange:c,required:!0,minLength:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"At least 8 characters"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Confirm Password ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,required:!0,minLength:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Re-enter password"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Category ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsxs("select",{name:"category",value:t.category,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Z.jsx("option",{value:"",children:"Select Category"}),Z.jsx("option",{value:"Blood Bank",children:"Blood Bank"}),Z.jsx("option",{value:"Medical Center",children:"Medical Center"}),Z.jsx("option",{value:"Healthcare Organization",children:"Healthcare Organization"}),Z.jsx("option",{value:"NGO",children:"NGO"}),Z.jsx("option",{value:"Foundation",children:"Foundation"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),Z.jsx("textarea",{name:"description",value:t.description,onChange:c,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Brief description of your organization"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Website"}),Z.jsx("input",{type:"url",name:"website",value:t.website,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://www.example.com"})]}),Z.jsxs("div",{className:"flex gap-4 pt-4",children:[Z.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:r?"Submitting...":"Register Organization"}),Z.jsx("button",{type:"button",onClick:()=>e("/"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})})]})},V_=()=>{const e=df(),[t,n]=V.useState({name:"",email:"",phone:"",emergencyHotline:"",ambulance:"",address:"",password:"",confirmPassword:"",category:"General Hospital",description:"",website:""}),[r,i]=V.useState(!1),[s,a]=V.useState(""),[o,l]=V.useState(!1),c=e=>{n({...t,[e.target.name]:e.target.value})};return o?Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Z.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:Z.jsxs("button",{onClick:()=>e("/admin"),className:"text-red-600 hover:text-red-700 font-medium flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Admin Login"]})}),Z.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:Z.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[Z.jsx("div",{className:"mb-4",children:Z.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Submitted!"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"Your hospital registration has been submitted successfully. A Super Admin will review your application and approve it soon."}),Z.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You will be able to log in once your registration is approved."}),Z.jsx("button",{onClick:()=>e("/"),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Home"})]})})]}):Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Z.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:Z.jsxs("button",{onClick:()=>e("/admin"),className:"text-red-600 hover:text-red-700 font-medium flex items-center gap-2",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Admin Login"]})}),Z.jsx("div",{className:"flex-1 px-4 py-12",children:Z.jsx("div",{className:"max-w-2xl mx-auto",children:Z.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[Z.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register Your Hospital"}),Z.jsx("p",{className:"text-gray-600 mb-6",children:"Join our blood donation network. After registration, a Super Admin will review and approve your hospital."}),s&&Z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),Z.jsxs("form",{onSubmit:async e=>{var n,r;if(e.preventDefault(),a(""),t.password===t.confirmPassword)if(t.password.length<8)a("Password must be at least 8 characters long");else{i(!0);try{const{confirmPassword:e,...n}=t;await pN.post("/api/admin/hospitals/register",n),l(!0)}catch(s){a((null==(r=null==(n=s.response)?void 0:n.data)?void 0:r.message)||"Registration failed. Please try again.")}finally{i(!1)}}else a("Passwords do not match")},className:"space-y-6",children:[Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Hospital Name ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter hospital name"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Email ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"hospital@example.com"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Phone ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"+1234567890"})]})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Emergency Hotline"}),Z.jsx("input",{type:"tel",name:"emergencyHotline",value:t.emergencyHotline,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Emergency number"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Ambulance Number"}),Z.jsx("input",{type:"tel",name:"ambulance",value:t.ambulance,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ambulance number"})]})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Address ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("textarea",{name:"address",value:t.address,onChange:c,required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter full address"})]}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Password ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"password",name:"password",value:t.password,onChange:c,required:!0,minLength:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"At least 8 characters"})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Confirm Password ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,required:!0,minLength:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Re-enter password"})]})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Category ",Z.jsx("span",{className:"text-red-600",children:"*"})]}),Z.jsxs("select",{name:"category",value:t.category,onChange:c,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Z.jsx("option",{value:"General Hospital",children:"General Hospital"}),Z.jsx("option",{value:"Specialized Hospital",children:"Specialized Hospital"}),Z.jsx("option",{value:"Teaching Hospital",children:"Teaching Hospital"}),Z.jsx("option",{value:"Medical Center",children:"Medical Center"}),Z.jsx("option",{value:"Clinic",children:"Clinic"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),Z.jsx("textarea",{name:"description",value:t.description,onChange:c,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Brief description of your hospital"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Website"}),Z.jsx("input",{type:"url",name:"website",value:t.website,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://www.example.com"})]}),Z.jsxs("div",{className:"flex gap-4 pt-4",children:[Z.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:r?"Submitting...":"Register Hospital"}),Z.jsx("button",{type:"button",onClick:()=>e("/"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})})]})},H_=(W_=[{path:"/",element:Z.jsx(fp,{}),children:[{path:"/",element:Z.jsx(x_,{})},{path:"/login",element:Z.jsx(y_,{})},{path:"/blood-requests",element:Z.jsx(gN,{})},{path:"/request-blood",element:Z.jsx(j_,{})},{path:"/register-donor",element:Z.jsx(N_,{})},{path:"/hospitals",element:Z.jsx(b_,{})},{path:"/organizations",element:Z.jsx(v_,{})},{path:"/buy-blood",element:Z.jsx(yN,{})},{path:"/purchase-blood",element:Z.jsx(z_,{})},{path:"/purchase-success",element:Z.jsx(U_,{})},{path:"/price-comparison",element:Z.jsx(w_,{})},{path:"/purchase-dashboard",element:Z.jsx(fN,{})},{path:"/profile",element:Z.jsx(S_,{})}]},{path:"/register-organization",element:Z.jsx(q_,{})},{path:"/register-hospital",element:Z.jsx(V_,{})},{path:"/admin",element:Z.jsx(pp,{}),children:[{path:"/admin",element:Z.jsx(k_,{})},{path:"/admin/dashboard",element:Z.jsx(L_,{})},{path:"/admin/old-main",element:Z.jsx(C_,{})},{path:"/admin/old-dashboard",element:Z.jsx(__,{})},{path:"/admin/purchases",element:Z.jsx(E_,{})},{path:"/admin/analytics",element:Z.jsx(T_,{})},{path:"/admin/inventory",element:Z.jsx(B_,{})},{path:"/admin/pricing",element:Z.jsx(R_,{})},{path:"/admin/donors",element:Z.jsx(F_,{})},{path:"/admin/blood-requests",element:Z.jsx(D_,{})},{path:"/admin/users",element:Z.jsx(O_,{})},{path:"/admin/hospitals",element:Z.jsx(M_,{})},{path:"/admin/organizations",element:Z.jsx(I_,{})}]}],hh({basename:void 0,future:kf({},void 0,{v7_prependBasename:!0}),history:pu({window:void 0}),hydrationData:Pf(),routes:W_,mapRouteProperties:Sf,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize());var W_;lu(document.getElementById("root")).render(Z.jsx(V.StrictMode,{children:Z.jsx(Ff,{router:H_})}));export{Mg as _,r as c,i as g};
//# sourceMappingURL=index-B08A06zK.js.map
